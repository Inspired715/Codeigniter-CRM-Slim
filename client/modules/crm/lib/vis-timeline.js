!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("moment"),require("vis-data/peer/umd/vis-data.js")):"function"==typeof define&&define.amd?define(["exports","moment","vis-data/peer/umd/vis-data.js"],e):e((t="undefined"!=typeof globalThis?globalThis:t||self).vis=t.vis||{},t.moment,t.vis)}(this,function(l,h,u){var c="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function t(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function d(t){return t&&t.Math==Math&&t}function m(t){try{return!!t()}catch(t){return!0}}function f(t){return it(et(t),8,-1)}function g(t){if("Function"===nt(t))return ot(t)}function v(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}function y(t){return null==t}function b(t){if(yt(t))throw bt("Can't call method on "+t);return t}function w(t){return wt(kt(t))}function _(t){return Dt(t)?t:void 0}function C(t,e){return arguments.length<2?_(Ct[t])||_(St[t]):Ct[t]&&Ct[t][e]||St[t]&&St[t][e]}function S(t){try{return Bt(t)}catch(t){return"Object"}}function D(t){if(zt(t))return t;throw Gt(Ht(t)+" is not a function")}function T(t,e){return t=t[e],Yt(t)?void 0:Wt(t)}function O(t){return ie(ee(t))}function E(t){return"Symbol("+(void 0===t?"":t)+")_"+ae(++re+se,36)}function A(t){return le(de,t)||(de[t]=ue&&le(ce,t)?ce[t]:pe("Symbol."+t)),de[t]}function I(t){return t=ke(t,"string"),xe(t)?t:t+""}function P(t){return Ce?_e.createElement(t):{}}function M(t,e){return(t=je[Le(t)])==ze||t!=Be&&(Fe(e)?Ne(e):!!e)}function N(t,e){return He(t),void 0===e?t:Ge?We(t,e):function(){return t.apply(e,arguments)}}function F(t){if(Ve(t))return t;throw Xe(Ue(t)+" is not an object")}function R(n){function o(t,e,i){if(this instanceof o){switch(arguments.length){case 0:return new n;case 1:return new n(t);case 2:return new n(t,e)}return new n(t,e,i)}return si(n,this,arguments)}return o.prototype=n.prototype,o}function L(t,u){var c,e,i,n,o,r,s=t.target,a=t.global,d=t.stat,p=t.proto,l=a?ri:d?ri[s]:(ri[s]||{}).prototype,h=a?ci:ci[s]||pi(ci,s,{})[s],m=h.prototype;for(e in u)o=!(c=ui(a?e:s+(d?".":"#")+e,t.forced))&&l&&mi(l,e),n=h[e],o&&(r=t.dontCallGetSet?(r=hi(l,e))&&r.value:l[e]),i=o&&r?r:u[e],o&&typeof n==typeof i||(o=t.bind&&o?di(i,ri):t.wrap&&o?R(i):p&&li(i)?ai(i):i,(t.sham||i&&i.sham||n&&n.sham)&&pi(o,"sham",!0),pi(h,e,o),p&&(mi(ci,n=s+"Prototype")||pi(ci,n,{}),pi(ci[n],e,i),t.real&&m&&(c||!m[e])&&pi(m,e,i)))}function j(){}function B(t){if(!Mi(t))return!1;try{return Li(j,Ri,t),!0}catch(t){return!1}}function z(t){if(!Mi(t))return!1;switch(Ni(t)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return zi||!!Bi(ji,Fi(t))}catch(t){return!0}}function H(t){return(t=+t)!=t||0==t?0:Ui(t)}function G(t,e){return(t=Xi(t))<0?qi(t+e,0):Ki(t,e)}function W(t){return Qi(t.length)}function Y(a){return function(t,e,i){var n,o=Ji(t),r=en(o),s=tn(i,r);if(a&&e!=e){for(;s<r;)if((n=o[s++])!=n)return!0}else for(;s<r;s++)if((a||s in o)&&o[s]===e)return a||s||0;return!a&&-1}}function V(t,e){var i,n=sn(t),o=0,r=[];for(i in n)!rn(ln,i)&&rn(n,i)&&hn(r,i);for(;e.length>o;)rn(n,i=e[o++])&&(~an(r,i)||hn(r,i));return r}var U={},X={get exports(){return U},set exports(t){U=t}},c=d("object"==typeof globalThis&&globalThis)||d("object"==typeof window&&window)||d("object"==typeof self&&self)||d("object"==typeof c&&c)||function(){return this}()||Function("return this")(),q=!m(function(){var t=function(){}.bind();return"function"!=typeof t||t.hasOwnProperty("prototype")}),K=Function.prototype,$=K.apply,Z=K.call,K="object"==typeof Reflect&&Reflect.apply||(q?Z.bind($):function(){return Z.apply($,arguments)}),Q=q,J=Function.prototype,tt=J.call,J=Q&&J.bind.bind(tt,tt),Q=Q?J:function(t){return function(){return tt.apply(t,arguments)}},J=Q,et=J({}.toString),it=J("".slice),nt=f,ot=Q,J="object"==typeof document&&document.all,J={all:J,IS_HTMLDDA:void 0===J&&void 0!==J},rt=J.all,st=J.IS_HTMLDDA?function(t){return"function"==typeof t||t===rt}:function(t){return"function"==typeof t},at={},lt=!m(function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}),ht=Function.prototype.call,ut=q?ht.bind(ht):function(){return ht.apply(ht,arguments)},ct={},dt={}.propertyIsEnumerable,pt=Object.getOwnPropertyDescriptor,mt=pt&&!dt.call({1:2},1),mt=(ct.f=mt?function(t){t=pt(this,t);return!!t&&t.enumerable}:dt,m),ft=f,gt=Object,vt=Q("".split),dt=mt(function(){return!gt("z").propertyIsEnumerable(0)})?function(t){return"String"==ft(t)?vt(t,""):gt(t)}:gt,yt=y,bt=TypeError,wt=dt,kt=b,xt=st,_t=J.all,mt=J.IS_HTMLDDA?function(t){return"object"==typeof t?null!==t:xt(t)||t===_t}:function(t){return"object"==typeof t?null!==t:xt(t)},J={},Ct=J,St=c,Dt=st,Tt=Q({}.isPrototypeOf),Ot="undefined"!=typeof navigator&&String(navigator.userAgent)||"",Et=Ot,At=c.process,It=c.Deno,At=At&&At.versions||It&&It.version,It=At&&At.v8,At=jt=!(jt=It?0<(Mt=It.split("."))[0]&&Mt[0]<4?1:+(Mt[0]+Mt[1]):jt)&&Et&&(!(Mt=Et.match(/Edge\/(\d+)/))||74<=Mt[1])&&(Mt=Et.match(/Chrome\/(\d+)/))?+Mt[1]:jt,Pt=At,It=m,Et=!!Object.getOwnPropertySymbols&&!It(function(){var t=Symbol();return!String(t)||!(Object(t)instanceof Symbol)||!Symbol.sham&&Pt&&Pt<41}),Mt=Et&&!Symbol.sham&&"symbol"==typeof Symbol.iterator,Nt=C,Ft=st,Rt=Tt,Lt=Object,jt=Mt?function(t){return"symbol"==typeof t}:function(t){var e=Nt("Symbol");return Ft(e)&&Rt(e.prototype,Lt(t))},Bt=String,zt=st,Ht=S,Gt=TypeError,Wt=D,Yt=y,Vt=ut,Ut=st,Xt=mt,qt=TypeError,Kt={},It={get exports(){return Kt},set exports(t){Kt=t}},$t=c,Zt=Object.defineProperty,Qt=function(e,i){try{Zt($t,e,{value:i,configurable:!0,writable:!0})}catch(t){$t[e]=i}return i},Jt="__core-js_shared__",Qt=c[Jt]||Qt(Jt,{}),te=Qt,ee=((It.exports=function(t,e){return te[t]||(te[t]=void 0!==e?e:{})})("versions",[]).push({version:"3.29.0",mode:"pure",copyright:"Â© 2014-2023 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.29.0/LICENSE",source:"https://github.com/zloirock/core-js"}),b),ie=Object,ne=O,oe=Q({}.hasOwnProperty),Jt=Object.hasOwn||function(t,e){return oe(ne(t),e)},It=Q,re=0,se=Math.random(),ae=It(1..toString),It=Kt,le=Jt,he=E,ue=Et,ce=c.Symbol,de=It("wks"),pe=Mt?ce.for||ce:ce&&ce.withoutSetter||he,me=ut,fe=mt,ge=jt,ve=T,ye=function(t,e){var i,n;if("string"===e&&Ut(i=t.toString)&&!Xt(n=Vt(i,t)))return n;if(Ut(i=t.valueOf)&&!Xt(n=Vt(i,t)))return n;if("string"!==e&&Ut(i=t.toString)&&!Xt(n=Vt(i,t)))return n;throw qt("Can't convert object to primitive value")},be=TypeError,we=A("toPrimitive"),ke=function(t,e){if(!fe(t)||ge(t))return t;var i=ve(t,we);if(i){if(i=me(i,t,e=void 0===e?"default":e),!fe(i)||ge(i))return i;throw be("Can't convert object to primitive value")}return ye(t,e=void 0===e?"number":e)},xe=jt,It=mt,_e=c.document,Ce=It(_e)&&It(_e.createElement),Se=P,Mt=!lt&&!m(function(){return 7!=Object.defineProperty(Se("div"),"a",{get:function(){return 7}}).a}),De=ut,Te=ct,Oe=v,Ee=w,Ae=I,Ie=Jt,Pe=Mt,Me=Object.getOwnPropertyDescriptor,Ne=(at.f=lt?Me:function(t,e){if(t=Ee(t),e=Ae(e),Pe)try{return Me(t,e)}catch(t){}if(Ie(t,e))return Oe(!De(Te.f,t,e),t[e])},m),Fe=st,Re=/#|\.prototype\./,Le=M.normalize=function(t){return String(t).replace(Re,".").toLowerCase()},je=M.data={},Be=M.NATIVE="N",ze=M.POLYFILL="P",he=M,He=D,Ge=q,We=g(g.bind),It={},Ye=lt&&m(function(){return 42!=Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype}),Ve=mt,Ue=String,Xe=TypeError,qe=Mt,Ke=F,$e=I,Ze=TypeError,Qe=Object.defineProperty,Je=Object.getOwnPropertyDescriptor,ti="enumerable",ei="configurable",ii="writable",Mt=(It.f=lt?Ye?function(t,e,i){var n;return Ke(t),e=$e(e),Ke(i),"function"==typeof t&&"prototype"===e&&"value"in i&&ii in i&&!i[ii]&&((n=Je(t,e))&&n[ii]&&(t[e]=i.value,i={configurable:(ei in i?i:n)[ei],enumerable:(ti in i?i:n)[ti],writable:!1})),Qe(t,e,i)}:Qe:function(t,e,i){if(Ke(t),e=$e(e),Ke(i),qe)try{return Qe(t,e,i)}catch(t){}if("get"in i||"set"in i)throw Ze("Accessors not supported");return"value"in i&&(t[e]=i.value),t},lt),ni=It,oi=v,Mt=Mt?function(t,e,i){return ni.f(t,e,oi(1,i))}:function(t,e,i){return t[e]=i,t},ri=c,si=K,ai=g,li=st,hi=at.f,ui=he,ci=J,di=N,pi=Mt,mi=Jt,he=Q([].slice),fi=Q,gi=D,vi=mt,yi=Jt,bi=he,wi=Function,ki=fi([].concat),xi=fi([].join),_i={},fi=q?wi.bind:function(s){var a=gi(this),t=a.prototype,l=bi(arguments,1),h=function(){var t=ki(l,bi(arguments));if(this instanceof h){var e=a,i=t.length,n=t;if(!yi(_i,i)){for(var o=[],r=0;r<i;r++)o[r]="a["+r+"]";_i[i]=wi("C,a","return new C("+xi(o,",")+")")}return _i[i](e,n)}return a.apply(s,t)};return vi(t)&&(h.prototype=t),h},q={},q=(q[A("toStringTag")]="z","[object z]"===String(q)),Ci=q,Si=st,Di=f,Ti=A("toStringTag"),Oi=Object,Ei="Arguments"==Di(function(){return arguments}()),Ci=Ci?Di:function(t){var e;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(e=function(t,e){try{return t[e]}catch(t){}}(t=Oi(t),Ti))?e:Ei?Di(t):"Object"==(e=Di(t))&&Si(t.callee)?"Arguments":e},e=st,Ai=Qt,Ii=Q(Function.toString),e=(e(Ai.inspectSource)||(Ai.inspectSource=function(t){return Ii(t)}),Ai.inspectSource),Ai=Q,Pi=m,Mi=st,Ni=Ci,Fi=e,Ri=[],Li=C("Reflect","construct"),ji=/^\s*(?:class|function)\b/,Bi=Ai(ji.exec),zi=!ji.exec(j),e=(z.sham=!0,!Li||Pi(function(){var t;return B(B.call)||!B(Object)||!B(function(){t=!0})||t})?z:B),Hi=e,Gi=S,Wi=TypeError,Ai={},Yi=Math.ceil,Vi=Math.floor,Ui=Math.trunc||function(t){t=+t;return(0<t?Vi:Yi)(t)},Xi=H,qi=Math.max,Ki=Math.min,$i=H,Zi=Math.min,Qi=function(t){return 0<t?Zi($i(t),9007199254740991):0},Ji=w,tn=G,en=W,Pi={includes:Y(!0),indexOf:Y(!1)},nn={},on=Q,rn=Jt,sn=w,an=Pi.indexOf,ln=nn,hn=on([].push),on=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],un=V,cn=on,dn=Object.keys||function(t){return un(t,cn)},pn=It,mn=F,fn=w,gn=dn;Ai.f=lt&&!Ye?Object.defineProperties:function(t,e){mn(t);for(var i,n=fn(e),o=gn(e),r=o.length,s=0;s<r;)pn.f(t,i=o[s++],n[i]);return t};function vn(t){return xn[t]||(xn[t]=kn(t))}function yn(){}function bn(t){t.write(Pn("")),t.close();var e=t.parentWindow.Object;return t=null,e}var wn,Ye=C("document","documentElement"),kn=E,xn=Kt("keys"),_n=F,Cn=Ai,Sn=on,Dn=nn,Tn=Ye,On=P,En="prototype",An="script",In=vn("IE_PROTO"),Pn=function(t){return"<"+An+">"+t+"</"+An+">"},Mn=function(){try{wn=new ActiveXObject("htmlfile")}catch(t){}Mn="undefined"==typeof document||document.domain&&wn?bn(wn):(t=On("iframe"),e="java"+An+":",t.style.display="none",Tn.appendChild(t),t.src=String(e),(e=t.contentWindow.document).open(),e.write(Pn("document.F=Object")),e.close(),e.F);for(var t,e,i=Sn.length;i--;)delete Mn[En][Sn[i]];return Mn()},Ye=(Dn[In]=!0,Object.create||function(t,e){var i;return null!==t?(yn[En]=_n(t),i=new yn,yn[En]=null,i[In]=t):i=Mn(),void 0===e?i:Cn.f(i,e)}),Dn=L,Nn=K,Fn=fi,Rn=function(t){if(Hi(t))return t;throw Wi(Gi(t)+" is not a constructor")},Ln=F,jn=mt,Bn=Ye,zn=m,Hn=C("Reflect","construct"),Gn=Object.prototype,Wn=[].push,Yn=zn(function(){function t(){}return!(Hn(function(){},[],t)instanceof t)}),Vn=!zn(function(){Hn(function(){})}),zn=Yn||Vn;Dn({target:"Reflect",stat:!0,forced:zn,sham:zn},{construct:function(t,e){Rn(t),Ln(e);var i=arguments.length<3?t:Rn(arguments[2]);if(Vn&&!Yn)return Hn(t,e,i);if(t==i){switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3])}var n=[null];return Nn(Wn,n,e),new(Nn(Fn,t,n))}n=i.prototype,i=Bn(jn(n)?n:Gn),n=Nn(t,i,e);return jn(n)?n:i}});var Dn=J.Reflect.construct,o=(X.exports=Dn,t(U));function Un(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}{function Xn(t){if(9007199254740991<t)throw Eo("Maximum allowed index exceeded");return t}function qn(t,e,i){(e=Ao(e))in t?Io.f(t,e,Po(0,i)):t[e]=i}function Kn(t,e){return new(jo(t))(0===e?0:e)}function $n(e){return 51<=zo||!Bo(function(){var t=[];return(t.constructor={})[Ho]=function(){return{foo:1}},1!==t[e](Boolean).foo})}function Zn(t){if("Symbol"===Jo(t))throw TypeError("Cannot convert a Symbol value to a string");return tr(t)}function Qn(t,e,i){for(var n=or(t),o=nr(e,n),r=nr(void 0===i?n:i,n),s=sr(ar(r-o,0)),a=0;o<r;o++,a++)rr(s,a,t[o]);return s.length=a,s}function Jn(t,e,i,n){return n&&n.enumerable?t[e]=i:pr(t,e,i),t}function to(t,e,i){return mr.f(t,e,i)}function eo(t){var e=fr.Symbol||(fr.Symbol={});gr(e,t)||yr(e,t,{value:vr.f(t)})}function io(){var t=wr("Symbol"),e=(t=t&&t.prototype)&&t.valueOf,i=kr("toPrimitive");t&&!t[i]&&xr(t,i,function(t){return br(e,this)},{arity:1})}function no(t,e,i,n){t&&(i=i?t:t.prototype,Tr(i,Er)||Sr(i,Er,{configurable:!0,value:e}),n&&!Cr&&Dr(i,"toString",Or))}function oo(d){var p=1==d,m=2==d,f=3==d,g=4==d,v=6==d,y=7==d,b=5==d||v;return function(t,e,i,u){for(var n,o,r=Br(t),s=jr(r),c=Lr(e,i),a=zr(s),l=0,e=u||Hr,h=p?e(t,a):m||y?e(t,0):void 0;l<a;l++)if((b||l in s)&&(o=c(n=s[l],l,r),d))if(p)h[l]=o;else if(o)switch(d){case 3:return!0;case 5:return n;case 6:return l;case 2:Gr(h,n)}else switch(d){case 4:return!1;case 7:Gr(h,n)}return v?-1:f||g?g:h}}function ro(t,e){var i=Is[t]=ts(Cs);return ks(i,{type:ws,tag:t,description:e}),Yr||(i.description=e),i}function so(t,e,i){return t===_s&&so(Ps,e,i),Kr(t),e=Zr(e),Kr(i),Xr(Is,e)?(i.enumerable?(Xr(t,bs)&&t[bs][e]&&(t[bs][e]=!1),i=ts(i,{enumerable:Jr(0,!1)})):(Xr(t,bs)||Ts(t,bs,Jr(1,{})),t[bs][e]=!0),Ns(t,e,i)):Ts(t,e,i)}function ao(e,t){Kr(e);var i=$r(t),t=es(i).concat(co(i));return ys(t,function(t){Yr&&!Wr(lo,i,t)||so(e,t,i[t])}),e}function lo(t){var t=Zr(t),e=Wr(Es,this,t);return!(this===_s&&Xr(Is,t)&&!Xr(Ps,t))&&(!(e||!Xr(this,t)||!Xr(Is,t)||Xr(this,bs)&&this[bs][t])||e)}function ho(t,e){var i,t=$r(t),e=Zr(e);if(t!==_s||!Xr(Is,e)||Xr(Ps,e))return!(i=Ds(t,e))||!Xr(Is,e)||Xr(t,bs)&&t[bs][e]||(i.enumerable=!0),i}function uo(t){var t=Os($r(t)),e=[];return ys(t,function(t){Xr(Is,t)||Xr(cs,t)||As(e,t)}),e}function co(t){var e=t===_s,t=Os(e?Ps:$r(t)),i=[];return ys(t,function(t){!Xr(Is,t)||e&&!Xr(_s,t)||As(i,Is[t])}),i}function po(t,e){var i=ta(arguments),n=ea(e);if(Qs(n)||void 0!==t&&!Js(t))return i[1]=function(t,e){if(Qs(n)&&(e=Zs(n,this,ia(t),e)),!Js(e))return e},$s(na,null,i)}function mo(t,e,i){var n=ra(i,e-1),i=ra(i,e+1);return oa(ua,t)&&!oa(ca,i)||oa(ca,t)&&!oa(ua,n)?"\\u"+la(sa(t,0),16):t}var fo,go,vo,yo,bo={},zn={get exports(){return bo},set exports(t){bo=t}},wo={},X={get exports(){return wo},set exports(t){wo=t}},ko={},Dn={get exports(){return ko},set exports(t){ko=t}},n=L,xo=lt,_o=It.f;n({target:"Object",stat:!0,forced:Object.defineProperty!==_o,sham:!xo},{defineProperty:_o});var n,Co=(n=J).Object,xo=Dn.exports=function(t,e,i){return Co.defineProperty(t,e,i)};Co.defineProperty.sham&&(xo.sham=!0);var _o,n,Dn,xo,_o,Dn=_o=xo=Dn=n=_o=ko,So=(X.exports=Dn,zn.exports=wo,t(bo)),Do={},xo={get exports(){return Do},set exports(t){Do=t}},To={},_o={get exports(){return To},set exports(t){To=t}},Oo=f,X=Array.isArray||function(t){return"Array"==Oo(t)},Eo=TypeError,Ao=I,Io=It,Po=v,Mo=X,No=e,Fo=mt,Dn,Ro=(Dn=A)("species"),Lo=Array,jo=function(t){var e;return Mo(t)&&(e=t.constructor,(No(e)&&(e===Lo||Mo(e.prototype))||Fo(e)&&null===(e=e[Ro]))&&(e=void 0)),void 0===e?Lo:e},Bo=m,zn,zo=At,Ho=(zn=A)("species"),Dn=L,zn=m,Go=X,Wo=mt,Yo=O,Vo=W,Uo=Xn,Xo=qn,qo=Kn,Ko=$n,$o,Zo=At,Qo=($o=A)("isConcatSpreadable"),$o,Zo,Jo=(Dn({target:"Array",proto:!0,arity:1,forced:Zo=!($o=51<=Zo||!zn(function(){var t=[];return t[Qo]=!1,t.concat()[0]!==t}))||!Ko("concat")},{concat:function(t){for(var e,i,n,o=Yo(this),r=qo(o,0),s=0,a=-1,l=arguments.length;a<l;a++)if(function(t){if(!Wo(t))return!1;var e=t[Qo];return void 0!==e?!!e:Go(t)}(n=-1===a?o:arguments[a]))for(i=Vo(n),Uo(s+i),e=0;e<i;e++,s++)e in n&&Xo(r,s,n[e]);else Uo(s+1),Xo(r,s++,n);return r.length=s,r}}),Ci),tr=String,zn={},er=V,$o,ir=($o=on).concat("length","prototype"),Ko=(zn.f=Object.getOwnPropertyNames||function(t){return er(t,ir)},{}),nr=G,or=W,rr=qn,sr=Array,ar=Math.max,lr=f,hr=w,ur=zn.f,cr=Qn,dr="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];Ko.f=function(t){if(!dr||"Window"!=lr(t))return ur(hr(t));try{return ur(t)}catch(t){return cr(dr)}};var Dn,pr=((Dn={}).f=Object.getOwnPropertySymbols,Mt),mr=It,Zo,on=A,fr=((Zo={}).f=on,J),gr=Jt,vr=Zo,yr=It.f,br=ut,wr=C,kr=A,xr=Jn,$o,_r=Ci,on=($o=q)?{}.toString:function(){return"[object "+_r(this)+"]"},Cr=q,Sr=It.f,Dr=Mt,Tr=Jt,Or=on,$o,Er=($o=A)("toStringTag"),q,on,$o,q,on=q=(on=st)($o=(q=c).WeakMap)&&/native code/.test(String($o)),$o,Ar=mt,Ir=Mt,Pr=Jt,q=Qt,Qt=vn,Mr=nn,Nr="Object already initialized",Fr=($o=c).TypeError,$o=$o.WeakMap,Rr=on||q.state?((vo=q.state||(q.state=new $o)).get=vo.get,vo.has=vo.has,vo.set=vo.set,fo=function(t,e){if(vo.has(t))throw Fr(Nr);return e.facade=t,vo.set(t,e),e},go=function(t){return vo.get(t)||{}},function(t){return vo.has(t)}):(Mr[yo=Qt("state")]=!0,fo=function(t,e){if(Pr(t,yo))throw Fr(Nr);return e.facade=t,Ir(t,yo,e),e},go=function(t){return Pr(t,yo)?t[yo]:{}},function(t){return Pr(t,yo)}),on={set:fo,get:go,has:Rr,enforce:function(t){return Rr(t)?go(t):fo(t,{})},getterFor:function(i){return function(t){var e;if(!Ar(t)||(e=go(t)).type!==i)throw Fr("Incompatible receiver, "+i+" required");return e}}},Lr=N,q,jr=dt,Br=O,zr=W,Hr=Kn,Gr=(q=Q)([].push),$o={forEach:oo(0),map:oo(1),filter:oo(2),some:oo(3),every:oo(4),find:oo(5),findIndex:oo(6),filterReject:oo(7)},Mr=L,Qt=c,Wr=ut,q=Q,Yr=lt,Vr=Et,Ur=m,Xr=Jt,qr=Tt,Kr=F,$r=w,Zr=I,Qr=Zn,Jr=v,ts=Ye,es=dn,is=zn,ns=Ko,os=Dn,rs=at,ss=It,r=Ai,as=ct,ls=Jn,hs=to,s=Kt,us=vn,cs=nn,ds=E,ps=A,ms=Zo,fs=eo,gs=io,vs=no,a=on,ys=$o.forEach,bs=us("hidden"),ws="Symbol",us="prototype",ks=a.set,xs=a.getterFor(ws),_s=Object[us],a,Cs=(a=Qt.Symbol)&&a[us],Ss=Qt.TypeError,Qt=Qt.QObject,Ds=rs.f,Ts=ss.f,Os=ns.f,Es=as.f,As=q([].push),Is=s("symbols"),Ps=s("op-symbols"),q=s("wks"),Ms=!Qt||!Qt[us]||!Qt[us].findChild,Ns=Yr&&Ur(function(){return 7!=ts(Ts({},"a",{get:function(){return Ts(this,"a",{value:7}).a}})).a})?function(t,e,i){var n=Ds(_s,e);n&&delete _s[e],Ts(t,e,i),n&&t!==_s&&Ts(_s,e,n)}:Ts;Vr||(ls(Cs=(a=function(){if(qr(Cs,this))throw Ss("Symbol is not a constructor");var t=arguments.length&&void 0!==arguments[0]?Qr(arguments[0]):void 0,e=ds(t),i=function(t){this===_s&&Wr(i,Ps,t),Xr(this,bs)&&Xr(this[bs],e)&&(this[bs][e]=!1),Ns(this,e,Jr(1,t))};return Yr&&Ms&&Ns(_s,e,{configurable:!0,set:i}),ro(e,t)})[us],"toString",function(){return xs(this).tag}),ls(a,"withoutSetter",function(t){return ro(ds(t),t)}),as.f=lo,ss.f=so,r.f=ao,rs.f=ho,is.f=ns.f=uo,os.f=co,ms.f=function(t){return ro(ps(t),t)},Yr&&hs(Cs,"description",{configurable:!0,get:function(){return xs(this).description}})),Mr({global:!0,constructor:!0,wrap:!0,forced:!Vr,sham:!Vr},{Symbol:a}),ys(es(q),function(t){fs(t)}),Mr({target:ws,stat:!0,forced:!Vr},{useSetter:function(){Ms=!0},useSimple:function(){Ms=!1}}),Mr({target:"Object",stat:!0,forced:!Vr,sham:!Yr},{create:function(t,e){return void 0===e?ts(t):ao(ts(t),e)},defineProperty:so,defineProperties:ao,getOwnPropertyDescriptor:ho}),Mr({target:"Object",stat:!0,forced:!Vr},{getOwnPropertyNames:uo}),gs(),vs(a,ws),cs[bs]=!0;var s,Qt=(s=Et)&&!!Symbol.for&&!!Symbol.keyFor,Ur=L,Fs=C,Rs=Jt,Ls=Zn,us,ls=Qt,js=(us=Kt)("string-to-symbol-registry"),Bs=us("symbol-to-string-registry"),as=(Ur({target:"Symbol",stat:!0,forced:!ls},{for:function(t){t=Ls(t);if(Rs(js,t))return js[t];var e=Fs("Symbol")(t);return js[t]=e,Bs[e]=t,e}}),L),zs=Jt,Hs=jt,Gs=S,ss,r=Qt,Ws=(ss=Kt)("symbol-to-string-registry");as({target:"Symbol",stat:!0,forced:!r},{keyFor:function(t){if(!Hs(t))throw TypeError(Gs(t)+" is not a symbol");if(zs(Ws,t))return Ws[t]}});var rs,Ys=X,Vs=st,Us=f,Xs=Zn,qs=(rs=Q)([].push),is=L,Ks=C,$s=K,Zs=ut,ns=Q,os=m,Qs=st,Js=jt,ta=he,ea=function(t){if(Vs(t))return t;if(Ys(t)){for(var e=t.length,n=[],i=0;i<e;i++){var o=t[i];"string"==typeof o?qs(n,o):"number"!=typeof o&&"Number"!=Us(o)&&"String"!=Us(o)||qs(n,Xs(o))}var r=n.length,s=!0;return function(t,e){if(s)return s=!1,e;if(Ys(this))return e;for(var i=0;i<r;i++)if(n[i]===t)return e}}},ms=Et,ia=String,na=Ks("JSON","stringify"),oa=ns(/./.exec),ra=ns("".charAt),sa=ns("".charCodeAt),aa=ns("".replace),la=ns(1..toString),ha=/[\uD800-\uDFFF]/g,ua=/^[\uD800-\uDBFF]$/,ca=/^[\uDC00-\uDFFF]$/,da=!ms||os(function(){var t=Ks("Symbol")();return"[null]"!=na([t])||"{}"!=na({a:t})||"{}"!=na(Object(t))}),pa=os(function(){return'"\\udf06\\ud834"'!==na("\udf06\ud834")||'"\\udead"'!==na("\udead")});na&&is({target:"JSON",stat:!0,arity:3,forced:da||pa},{stringify:function(t,e,i){var n=ta(arguments),n=$s(da?po:na,null,n);return pa&&"string"==typeof n?aa(n,ha,mo):n}});var hs,q,Mr=m,ma=Dn,fa=O,Vr,gs,vs,a,s;(hs=L)({target:"Object",stat:!0,forced:Vr=!(q=Et)||Mr(function(){ma.f(1)})},{getOwnPropertySymbols:function(t){var e=ma.f;return e?e(fa(t)):[]}}),(gs=eo)("asyncIterator"),(vs=eo)("hasInstance"),(a=eo)("isConcatSpreadable"),(s=eo)("iterator")}eo("match"),eo("matchAll"),eo("replace"),eo("search"),eo("species"),eo("split");us=io,eo("toPrimitive"),us(),Ur=C,ls=no;eo("toStringTag"),ls(Ur("Symbol"),"Symbol"),eo("unscopables"),no(c.JSON,"JSON",!0);var Qt=J.Symbol,ss={},as=lt,r=Jt,rs=Function.prototype,ns=as&&Object.getOwnPropertyDescriptor,ms=r(rs,"name"),os={EXISTS:ms,PROPER:ms&&"something"===function(){}.name,CONFIGURABLE:ms&&(!as||ns(rs,"name").configurable)},is=!m(function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype}),ga=Jt,va=st,ya=O,Et=is,ba=vn("IE_PROTO"),wa=Object,ka=wa.prototype,q=Et?wa.getPrototypeOf:function(t){t=ya(t);if(ga(t,ba))return t[ba];var e=t.constructor;return va(e)&&t instanceof e?e.prototype:t instanceof wa?ka:null},Mr=m,hs=st,Vr=mt,gs=Ye,vs=q,a=Jn,xa=A("iterator"),s=!1;[].keys&&("next"in(us=[].keys())?(ls=vs(vs(us)))!==Object.prototype&&(Ta=ls):s=!0);function _a(){return this}function Ca(){return this}function Sa(u,t,e,i,n,c,d){function o(t){if(t===n&&h)return h;if(!$a&&t in a)return a[t];switch(t){case"keys":case Qa:case Ja:return function(){return new e(this,t)}}return function(){return new e(this)}}Ya(e,t,i);var p,r,s,i=t+" Iterator",m=!1,a=u.prototype,l=a[Za]||a["@@iterator"]||n&&a[n],h=!$a&&l||o(n),f="Array"==t&&a.entries||l;if(f&&(p=Va(f.call(new u)))!==Object.prototype&&p.next&&(Ua(p,i,!0,!0),qa[i]=Ca),Ka&&n==Qa&&l&&l.name!==Qa&&(m=!0,h=function(){return Wa(l,this)}),n)if(r={values:o(Qa),keys:c?h:o("keys"),entries:o(Ja)},d)for(s in r)!$a&&!m&&s in a||Xa(a,s,r[s]);else Ga({target:t,proto:!0,forced:$a||m},r);return d&&a[Za]!==h&&Xa(a,Za,h,{name:n}),qa[t]=h,r}function Da(t,e){return{value:t,done:e}}hs((Ta=!Vr(Ta)||Mr(function(){var t={};return Ta[xa].call(t)!==t})?{}:gs(Ta))[xa])||a(Ta,xa,function(){return this});var Ta,Oa,Ur={IteratorPrototype:Ta,BUGGY_SAFARI_ITERATORS:s},Ea=Ur.IteratorPrototype,Aa=Ye,Ia=v,Pa=no,Ma=ss,Na=Q,Fa=D,Ra=st,La=String,ja=TypeError,Ba=function(t,e,i){try{return Na(Fa(Object.getOwnPropertyDescriptor(t,e)[i]))}catch(t){}},za=F,Ha=function(t){if("object"==typeof t||Ra(t))return t;throw ja("Can't set "+La(t)+" as a prototype")},r=Object.setPrototypeOf||("__proto__"in{}?function(){var i,n=!1,t={};try{(i=Ba(Object.prototype,"__proto__","set"))(t,[]),n=t instanceof Array}catch(t){}return function(t,e){return za(t),Ha(e),n?i(t,e):t.__proto__=e,t}}():void 0),Ga=L,Wa=ut,Ya=function(t,e,i,n){e+=" Iterator";return t.prototype=Aa(Ea,{next:Ia(+!n,i)}),Pa(t,e,!1,!0),Ma[e]=_a,t},Va=q,Ua=no,Xa=Jn,ms=A,qa=ss,Ka=os.PROPER,$a=Ur.BUGGY_SAFARI_ITERATORS,Za=ms("iterator"),Qa="values",Ja="entries",tl=w,as=ss,ns=on,rs=(It.f,Sa),el=Da,il="Array Iterator",nl=ns.set,ol=ns.getterFor(il),Et=(rs(Array,"Array",function(t,e){nl(this,{type:il,target:tl(t),index:0,kind:e})},function(){var t=ol(this),e=t.target,i=t.kind,n=t.index++;return!e||n>=e.length?(t.target=void 0,el(void 0,!0)):el("keys"==i?n:"values"==i?e[n]:[n,e[n]],!1)},"values"),as.Arguments=as.Array,{CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}),rl=c,sl=Ci,al=Mt,ll=ss,hl=A("toStringTag");for(Oa in Et){var ul=rl[Oa],ul=ul&&ul.prototype;ul&&sl(ul)!==hl&&al(ul,hl,Oa),ll[Oa]=ll.Array}vs=Qt;eo("dispose");for(var us=vs,ls=(eo("asyncDispose"),L),hs=Q,Vr=C("Symbol"),cl=Vr.keyFor,dl=hs(Vr.prototype.valueOf),Mr=(ls({target:"Symbol",stat:!0},{isRegistered:function(t){try{return void 0!==cl(dl(t))}catch(t){return!1}}}),L),gs=Kt,a=C,s=Q,pl=jt,ml=A,fl=a("Symbol"),gl=fl.isWellKnown,vl=a("Object","getOwnPropertyNames"),yl=s(fl.prototype.valueOf),bl=gs("wks"),wl=0,kl=vl(fl),xl=kl.length;wl<xl;wl++)try{var _l=kl[wl];pl(fl[_l])&&ml(_l)}catch(t){}Mr({target:"Symbol",stat:!0,forced:!0},{isWellKnown:function(t){if(gl&&gl(t))return!0;try{for(var e=yl(t),i=0,n=vl(bl),o=n.length;i<o;i++)if(bl[n[i]]==e)return!0}catch(t){}return!1}}),eo("matcher"),eo("metadataKey"),eo("observable"),eo("metadata"),eo("patternMatch"),eo("replaceAll");function Cl(r){return function(t,e){var i,n,t=El(Al(t)),e=Ol(e),o=t.length;return e<0||o<=e?r?"":void 0:(i=Pl(t,e))<55296||56319<i||e+1===o||(n=Pl(t,e+1))<56320||57343<n?r?Il(t,e):i:r?Ml(t,e,e+2):n-56320+(i-55296<<10)+65536}}_o.exports=us,xo.exports=To;var Sl=t(Do),Dl={},Ur={get exports(){return Dl},set exports(t){Dl=t}},Tl={},ms={get exports(){return Tl},set exports(t){Tl=t}},ns=Q,Ol=H,El=Zn,Al=b,Il=ns("".charAt),Pl=ns("".charCodeAt),Ml=ns("".slice),Nl={codeAt:Cl(!1),charAt:Cl(!0)}.charAt,Fl=Zn,rs=on,as=Sa,Rl=Da,Ll="String Iterator",jl=rs.set,Bl=rs.getterFor(Ll);as(String,"String",function(t){jl(this,{type:Ll,string:Fl(t),index:0})},function(){var t=Bl(this),e=t.string,i=t.index;return i>=e.length?Rl(void 0,!0):(e=Nl(e,i),t.index+=e.length,Rl(e,!1))});var Et=Zo.f("iterator"),zl=(ms.exports=Et,Ur.exports=Tl,t(Dl));function Hl(t){return(Hl="function"==typeof Sl&&"symbol"==typeof zl?function(t){return typeof t}:function(t){return t&&"function"==typeof Sl&&t.constructor===Sl&&t!==Sl.prototype?"symbol":typeof t})(t)}var Gl={},Qt={get exports(){return Gl},set exports(t){Gl=t}},Wl={},hs={get exports(){return Wl},set exports(t){Wl=t}},Vr=Zo.f("toPrimitive"),Yl=(hs.exports=Vr,Qt.exports=Wl,t(Gl));function Vl(t){t=function(t,e){if("object"!==Hl(t)||null===t)return t;var i=t[Yl];if(void 0===i)return("string"===e?String:Number)(t);if("object"!==Hl(i=i.call(t,e||"default")))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}(t,"string");return"symbol"===Hl(t)?t:String(t)}function Ul(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),So(t,Vl(n.key),n)}}function Xl(t,e,i){return e&&Ul(t.prototype,e),i&&Ul(t,i),So(t,"prototype",{writable:!1}),t}function ql(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}var Kl={},ls={get exports(){return Kl},set exports(t){Kl=t}},$l={},jt={get exports(){return $l},set exports(t){$l=t}};L({target:"Object",stat:!0,sham:!lt},{create:Ye});function Zl(t,e){return Ql.create(t,e)}var Ql=J.Object,Jl=(jt.exports=Zl,ls.exports=$l,t(Kl)),th={},a={get exports(){return th},set exports(t){th=t}},eh={},s={get exports(){return eh},set exports(t){eh=t}};L({target:"Object",stat:!0},{setPrototypeOf:r});function ih(t){return ah[t+"Prototype"]}function nh(t){var e=t.bind;return t===uh||lh(uh,t)&&e===uh.bind?hh:e}var gs=J.Object.setPrototypeOf,oh=(s.exports=gs,a.exports=eh,t(th)),rh={},Mr={get exports(){return rh},set exports(t){rh=t}},sh={},_o={get exports(){return sh},set exports(t){sh=t}},ah=(L({target:"Function",proto:!0,forced:Function.bind!==fi},{bind:fi}),J),us=ih("Function").bind,lh=Tt,hh=us,uh=Function.prototype,ch=(_o.exports=nh,Mr.exports=sh,t(rh));function dh(t,e){var i;return(dh=oh?ch(i=oh).call(i):function(t,e){return t.__proto__=e,t})(t,e)}function ph(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Jl(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),So(t,"prototype",{writable:!1}),e&&dh(t,e)}function mh(t,e){if(e&&("object"===Hl(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return ql(t)}var fh={},xo={get exports(){return fh},set exports(t){fh=t}},gh={},ns={get exports(){return gh},set exports(t){gh=t}},vh=O,yh=q,rs=is;L({target:"Object",stat:!0,forced:m(function(){yh(1)}),sham:!rs},{getPrototypeOf:function(t){return yh(vh(t))}});var as=J.Object.getPrototypeOf,bh=(ns.exports=as,xo.exports=gh,t(fh));function wh(t){var e;return(wh=oh?ch(e=bh).call(e):function(t){return t.__proto__||bh(t)})(t)}var kh={},ms={get exports(){return kh},set exports(t){kh=t}};L({target:"Array",stat:!0},{isArray:X});function xh(r,s){var a=s?2:1;return Ph?function(t,e){var i=Ah(arguments.length,1)>a,n=Oh(t)?t:Ih(t),o=i?Eh(arguments,a):[],i=i?function(){Th(n,this,o)}:n;return s?r(i,e):r(i)}:r}var Et=J.Array.isArray,_h=(ms.exports=Et,t(kh)),Ch={},Ur={get exports(){return Ch},set exports(t){Ch=t}},p=(Ur.exports=nh,t(Ch)),Sh={},Zo={get exports(){return Sh},set exports(t){Sh=t}},hs="function"==typeof Bun&&Bun&&"string"==typeof Bun.version,Dh=TypeError,Vr=c,Th=K,Oh=st,Qt=hs,Eh=he,Ah=function(t,e){if(t<e)throw Dh("Not enough arguments");return t},Ih=Vr.Function,Ph=/MSIE .\./.test(Ot)||Qt&&((jt=Vr.Bun.version.split(".")).length<3||0==jt[0]&&(jt[1]<3||3==jt[1]&&0==jt[2])),ls=L,r=xh(c.setInterval,!0),s=(ls({global:!0,bind:!0,forced:c.setInterval!==r},{setInterval:r}),L),gs=xh(c.setTimeout,!0);s({global:!0,bind:!0,forced:c.setTimeout!==gs},{setTimeout:gs});function Mh(t,e){var i=[][t];return!!i&&Rh(function(){i.call(null,e||function(){return 1},1)})}Zo.exports=J.setTimeout;var Nh=t(Sh),Fh={},a={get exports(){return Fh},set exports(t){Fh=t}},Rh=m,Lh=$o.forEach,fi=Mh("forEach")?[].forEach:function(t){return Lh(this,t,1<arguments.length?arguments[1]:void 0)};L({target:"Array",proto:!0,forced:[].forEach!=fi},{forEach:fi});var us=ih("Array").forEach,jh=Ci,Bh=Jt,zh=Tt,Hh=us,Gh=Array.prototype,Wh={DOMTokenList:!0,NodeList:!0},k=(a.exports=function(t){var e=t.forEach;return t===Gh||zh(Gh,t)&&e===Gh.forEach||Bh(Wh,jh(t))?Hh:e},t(Fh)),Yh="undefined"!=typeof window&&window.moment||h,Vh={},_o={get exports(){return Vh},set exports(t){Vh=t}},Mr=J.Object.getOwnPropertySymbols,Uh=(_o.exports=Mr,t(Vh)),Xh={},q={get exports(){return Xh},set exports(t){Xh=t}},is=L,qh=$o.filter;is({target:"Array",proto:!0,forced:!$n("filter")},{filter:function(t){return qh(this,t,1<arguments.length?arguments[1]:void 0)}});var rs=ih("Array").filter,Kh=Tt,$h=rs,Zh=Array.prototype,Qh=(q.exports=function(t){var e=t.filter;return t===Zh||Kh(Zh,t)&&e===Zh.filter?$h:e},t(Xh)),Jh={},ns={get exports(){return Jh},set exports(t){Jh=t}},tu={},xo={get exports(){return tu},set exports(t){tu=t}},ms=L,Ur=m,eu=w,iu=at.f,hs=lt;ms({target:"Object",stat:!0,forced:!hs||Ur(function(){iu(1)}),sham:!hs},{getOwnPropertyDescriptor:function(t,e){return iu(eu(t),e)}});var nu=J.Object,Qt=xo.exports=function(t,e){return nu.getOwnPropertyDescriptor(t,e)},Vr=(nu.getOwnPropertyDescriptor.sham&&(Qt.sham=!0),tu),ou=(ns.exports=Vr,t(Jh)),ru={},jt={get exports(){return ru},set exports(t){ru=t}},ls=C,su=zn,au=Dn,lu=F,hu=Q([].concat),r=ls("Reflect","ownKeys")||function(t){var e=su.f(lu(t)),i=au.f;return i?hu(e,i(t)):e},uu=r,cu=w,du=at,pu=qn;L({target:"Object",stat:!0,sham:!lt},{getOwnPropertyDescriptors:function(t){for(var e,i,n=cu(t),o=du.f,r=uu(n),s={},a=0;r.length>a;)void 0!==(i=o(n,e=r[a++]))&&pu(s,e,i);return s}});var s=J.Object.getOwnPropertyDescriptors,mu=(jt.exports=s,t(ru)),fu={},gs={get exports(){return fu},set exports(t){fu=t}},gu={},Zo={get exports(){return gu},set exports(t){gu=t}},fi=L,us=Ai.f;fi({target:"Object",stat:!0,forced:Object.defineProperties!==us,sham:!lt},{defineProperties:us});var vu=J.Object,a=Zo.exports=function(t,e){return vu.defineProperties(t,e)},_o=(vu.defineProperties.sham&&(a.sham=!0),gu),yu=(gs.exports=_o,t(fu));function bu(t,e,i){return(e=Vl(e))in t?So(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}var wu={},Mr={get exports(){return wu},set exports(t){wu=t}},is=L,ku=$o.map;is({target:"Array",proto:!0,forced:!$n("map")},{map:function(t){return ku(this,t,1<arguments.length?arguments[1]:void 0)}});function xu(h){return function(t,e,i,n){Ou(e);var o=Eu(t),r=Au(o),s=Iu(o),a=h?s-1:0,l=h?-1:1;if(i<2)for(;;){if(a in r){n=r[a],a+=l;break}if(a+=l,h?a<0:s<=a)throw Pu("Reduce of empty array with no initial value")}for(;h?0<=a:a<s;a+=l)a in r&&(n=e(n,r[a],a,o));return n}}var rs=ih("Array").map,_u=Tt,Cu=rs,Su=Array.prototype,Du=(Mr.exports=function(t){var e=t.map;return t===Su||_u(Su,t)&&e===Su.map?Cu:e},t(wu)),Tu={},q={get exports(){return Tu},set exports(t){Tu=t}},Ou=D,Eu=O,Au=dt,Iu=W,Pu=TypeError,ms={left:xu(!1),right:xu(!0)},Ur="undefined"!=typeof process&&"process"==f(process),hs=L,Mu=ms.left;hs({target:"Array",proto:!0,forced:!Ur&&79<At&&At<83||!Mh("reduce")},{reduce:function(t){var e=arguments.length;return Mu(this,t,e,1<e?arguments[1]:void 0)}});var xo=ih("Array").reduce,Nu=Tt,Fu=xo,Ru=Array.prototype,Lu=(q.exports=function(t){var e=t.reduce;return t===Ru||Nu(Ru,t)&&e===Ru.reduce?Fu:e},t(Tu)),ju={},Qt={get exports(){return ju},set exports(t){ju=t}},Bu=O,zu=dn;L({target:"Object",stat:!0,forced:m(function(){zu(1)})},{keys:function(t){return zu(Bu(t))}});function Hu(t,e,i){var n,o;$u(t);try{if(!(n=Zu(t,"return"))){if("throw"===e)throw i;return i}n=Ku(n,t)}catch(t){o=!0,n=t}if("throw"===e)throw i;if(o)throw n;return $u(n),i}function Gu(t){return void 0!==t&&(tc.Array===t||ic[ec]===t)}function Wu(t){if(!rc(t))return oc(t,ac)||oc(t,"@@iterator")||sc[nc(t)]}function Yu(t,e){var i=arguments.length<2?dc(t):e;if(hc(i))return uc(lc(i,t));throw pc(cc(t)+" is not iterable")}var ns=J.Object.keys,Vu=(Qt.exports=ns,t(ju)),Uu={},Vr={get exports(){return Uu},set exports(t){Uu=t}},Xu=(Vr.exports=n,t(Uu)),qu={},ls={get exports(){return qu},set exports(t){qu=t}},Ku=ut,$u=F,Zu=T,Qu=F,Ju=Hu,tc=ss,ec=A("iterator"),ic=Array.prototype,nc=Ci,oc=T,rc=y,sc=ss,ac=A("iterator"),lc=ut,hc=D,uc=F,cc=S,dc=Wu,pc=TypeError,mc=N,fc=ut,gc=O,vc=function(e,t,i,n){try{return n?t(Qu(i)[0],i[1]):t(i)}catch(t){Ju(e,"throw",t)}},yc=Gu,bc=e,wc=W,kc=qn,xc=Yu,_c=Wu,Cc=Array,Sc=A("iterator"),Dc=!1;try{var Tc=0,Oc={next:function(){return{done:!!Tc++}},return:function(){Dc=!0}};Oc[Sc]=function(){return this},Array.from(Oc,function(){throw 2})}catch(t){}function Ec(h){var t,e,i,n,u,o,r=gc(h),c=bc(this),s=1<(a=arguments.length)?arguments[1]:void 0,d=void 0!==s,a=(d&&(s=mc(s,2<a?arguments[2]:void 0)),_c(r)),l=0;if(!a||this===Cc&&yc(a))for(t=wc(r),e=c?new this(t):Cc(t);l<t;l++)o=d?s(r[l],l):r[l],kc(e,l,o);else for(u=(n=xc(r,a)).next,e=c?new this:[];!(i=fc(u,n)).done;l++)o=d?vc(n,s,[i.value,l],!0):i.value,kc(e,l,o);return e.length=l,e}L({target:"Array",stat:!0,forced:!function(t,e){if(!e&&!Dc)return!1;var i=!1;try{var n={};n[Sc]=function(){return{next:function(){return{done:i=!0}}}},t(n)}catch(t){}return i}(function(t){Array.from(t)})},{from:Ec});var at=J.Array.from,Ac=(ls.exports=at,t(qu)),Ic={},jt={get exports(){return Ic},set exports(t){Ic=t}},Pc={},s={get exports(){return Pc},set exports(t){Pc=t}},Mc=(s.exports=Wu,jt.exports=Pc,t(Ic)),Nc={},Ai={get exports(){return Nc},set exports(t){Nc=t}},Fc={},fi={get exports(){return Fc},set exports(t){Fc=t}},Rc=(fi.exports=Et,Ai.exports=Fc,t(Nc));var Lc={},us={get exports(){return Lc},set exports(t){Lc=t}},jc={},Zo={get exports(){return jc},set exports(t){jc=t}},a=L,Bc=X,zc=e,Hc=mt,Gc=G,Wc=W,Yc=w,Vc=qn,gs=A,Uc=he,_o=$n("slice"),Xc=gs("species"),qc=Array,Kc=Math.max;a({target:"Array",proto:!0,forced:!_o},{slice:function(t,e){var i,n,o,r=Yc(this),s=Wc(r),a=Gc(t,s),l=Gc(void 0===e?s:e,s);if(Bc(r)&&(i=r.constructor,(i=zc(i)&&(i===qc||Bc(i.prototype))||Hc(i)&&null===(i=i[Xc])?void 0:i)===qc||void 0===i))return Uc(r,a,l);for(n=new(void 0===i?qc:i)(Kc(l-a,0)),o=0;a<l;a++,o++)a in r&&Vc(n,o,r[a]);return n.length=o,n}});function $c(t){var e=t.slice;return t===Jc||Zc(Jc,t)&&e===Jc.slice?Qc:e}var is=ih("Array").slice,Zc=Tt,Qc=is,Jc=Array.prototype,td=(Zo.exports=$c,us.exports=jc,t(Lc)),ed={},rs={get exports(){return ed},set exports(t){ed=t}},id={},Mr={get exports(){return id},set exports(t){id=t}},nd=(Mr.exports=at,rs.exports=id,t(ed));function od(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=new Array(e);i<e;i++)n[i]=t[i];return n}function rd(t,e){if(t){if("string"==typeof t)return od(t,e);var i=td(i=Object.prototype.toString.call(t)).call(i,8,-1);return"Map"===(i="Object"===i&&t.constructor?t.constructor.name:i)||"Set"===i?nd(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?od(t,e):void 0}}function sd(t,e){return function(t){if(Rc(t))return t}(t)||function(t,e){var i=null==t?null:void 0!==Sl&&Mc(t)||t["@@iterator"];if(null!=i){var n,o,r,s,a=[],l=!0,h=!1;try{if(r=(i=i.call(t)).next,0===e){if(Object(i)!==i)return;l=!1}else for(;!(l=(n=r.call(i)).done)&&(a.push(n.value),a.length!==e);l=!0);}catch(t){h=!0,o=t}finally{try{if(!l&&null!=i.return&&(s=i.return(),Object(s)!==s))return}finally{if(h)throw o}}return a}}(t,e)||rd(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ad(t){return function(t){if(Rc(t))return od(t)}(t)||function(t){if(void 0!==Sl&&null!=Mc(t)||null!=t["@@iterator"])return nd(t)}(t)||rd(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}{function ld(t){var e=t.concat;return t===md||dd(md,t)&&e===md.concat?pd:e}var hd={},ms,ud=((ms={get exports(){return hd},set exports(t){hd=t}}).exports=vs,t(hd)),cd={},hs={get exports(){return cd},set exports(t){cd=t}},Ur,xo=(Ur=ih)("Array").concat,dd=Tt,pd=xo,md=Array.prototype,q=ld,fd=(hs.exports=q,t(cd)),gd={},Qt,vd=((Qt={get exports(){return gd},set exports(t){gd=t}}).exports=$c,t(gd)),yd={},ns={get exports(){return yd},set exports(t){yd=t}},Vr,n;(Vr=L)({target:"Reflect",stat:!0},{ownKeys:n=r});var Ci,ss,Oc,ls=Oc=ss=(Ci=J).Reflect.ownKeys,bd=(ns.exports=ls,t(yd)),wd={},s={get exports(){return wd},set exports(t){wd=t}},jt=L,fi=Q,kd=Date,xd=fi(kd.prototype.getTime),Et=(jt({target:"Date",stat:!0},{now:function(){return xd(new kd)}}),J.Date.now),_d=(s.exports=Et,t(wd)),Cd={},Ai={get exports(){return Cd},set exports(t){Cd=t}},e=L,Sd=X,Dd=Q([].reverse),he=[1,2]}e({target:"Array",proto:!0,forced:String(he)===String(he.reverse())},{reverse:function(){return Sd(this)&&(this.length=this.length),Dd(this)}});function Td(t,e){if(!delete t[e])throw Ld("Cannot delete property "+Rd(e)+" of "+Rd(t))}var gs=ih("Array").reverse,Od=Tt,Ed=gs,Ad=Array.prototype,Id=(Ai.exports=function(t){var e=t.reverse;return t===Ad||Od(Ad,t)&&e===Ad.reverse?Ed:e},t(Cd)),Pd={},a={get exports(){return Pd},set exports(t){Pd=t}},Md=X,Nd=TypeError,Fd=Object.getOwnPropertyDescriptor,_o=lt&&!function(){if(void 0!==this)return 1;try{Object.defineProperty([],"length",{writable:!1}).length=1}catch(t){return t instanceof TypeError}}(),Rd=S,Ld=TypeError,is=L,jd=O,Bd=G,zd=H,Hd=W,Gd=_o?function(t,e){if(Md(t)&&!Fd(t,"length").writable)throw Nd("Cannot set read only .length");return t.length=e}:function(t,e){return t.length=e},Wd=Xn,Yd=Kn,Vd=qn,Ud=Td,Zo=$n("splice"),Xd=Math.max,qd=Math.min;is({target:"Array",proto:!0,forced:!Zo},{splice:function(u,c){var t,e,i,n,o,r,s=jd(this),a=Hd(s),l=Bd(u,a),h=arguments.length;for(0===h?t=e=0:e=1===h?(t=0,a-l):(t=h-2,qd(Xd(zd(c),0),a-l)),Wd(a+t-e),i=Yd(s,e),n=0;n<e;n++)(o=l+n)in s&&Vd(i,n,s[o]);if(t<(i.length=e)){for(n=l;n<a-e;n++)r=n+t,(o=n+e)in s?s[r]=s[o]:Ud(s,r);for(n=a;a-e+t<n;n--)Ud(s,n-1)}else if(e<t)for(n=a-e;l<n;n--)r=n+t-1,(o=n+e-1)in s?s[r]=s[o]:Ud(s,r);for(n=0;n<t;n++)s[n+l]=arguments[n+2];return Gd(s,a-e+t),i}});var us=ih("Array").splice,Kd=Tt,$d=us,Zd=Array.prototype,Qd=(a.exports=function(t){var e=t.splice;return t===Zd||Kd(Zd,t)&&e===Zd.splice?$d:e},t(Pd)),Jd={},Mr={get exports(){return Jd},set exports(t){Jd=t}},tp=lt,at=Q,ep=ut,rs=m,ip=dn,np=Dn,op=ct,rp=O,sp=dt,ap=Object.assign,lp=Object.defineProperty,hp=at([].concat),ms=!ap||rs(function(){if(tp&&1!==ap({b:1},ap(lp({},"a",{enumerable:!0,get:function(){lp(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var t={},e={},i=Symbol(),n="abcdefghijklmnopqrst";return t[i]=7,n.split("").forEach(function(t){e[t]=t}),7!=ap({},t)[i]||ip(ap({},e)).join("")!=n})?function(t,h){for(var e=rp(t),i=arguments.length,n=1,o=np.f,u=op.f;n<i;)for(var r,s=sp(arguments[n++]),a=o?hp(ip(s),o(s)):ip(s),c=a.length,l=0;l<c;)r=a[l++],tp&&!ep(u,s,r)||(e[r]=s[r]);return e}:ap;L({target:"Object",stat:!0,arity:2,forced:Object.assign!==ms},{assign:ms});var vs=J.Object.assign,up=(Mr.exports=vs,t(Jd)),cp={},Ur={get exports(){return cp},set exports(t){cp=t}},xo=L,dp=Pi.includes;xo({target:"Array",proto:!0,forced:m(function(){return!Array(1).includes()})},{includes:function(t){return dp(this,t,1<arguments.length?arguments[1]:void 0)}});var hs=ih("Array").includes,pp=mt,mp=f,fp=A("match"),gp=function(t){var e;return pp(t)&&(void 0!==(e=t[fp])?!!e:"RegExp"==mp(t))},vp=TypeError,yp=A("match"),q=L,bp=function(t){if(gp(t))throw vp("The method doesn't accept regular expressions");return t},wp=b,kp=Zn,Qt=function(e){var i=/./;try{"/./"[e](i)}catch(t){try{return i[yp]=!1,"/./"[e](i)}catch(t){}}return!1},xp=Q("".indexOf);q({target:"String",proto:!0,forced:!Qt("includes")},{includes:function(t){return!!~xp(kp(wp(this)),kp(bp(t)),1<arguments.length?arguments[1]:void 0)}});function _p(a){return function(t){for(var e,i=Fp(t),n=Np(i),o=n.length,r=0,s=[];r<o;)e=n[r++],Mp&&!Rp(i,e)||Lp(s,a?[e,i[e]]:i[e]);return s}}var r=ih("String").includes,Cp=Tt,Sp=hs,Dp=r,Tp=Array.prototype,Op=String.prototype,Ep=(Ur.exports=function(t){var e=t.includes;return t===Tp||Cp(Tp,t)&&e===Tp.includes?Sp:"string"==typeof t||t===Op||Cp(Op,t)&&e===Op.includes?Dp:e},t(cp)),Ap={},Vr={get exports(){return Ap},set exports(t){Ap=t}},Ip=(Vr.exports=as,t(Ap)),Pp={},n={get exports(){return Pp},set exports(t){Pp=t}},Mp=lt,Ci=Q,Np=dn,Fp=w,Rp=Ci(ct.f),Lp=Ci([].push),ss=L,jp={entries:_p(!0),values:_p(!1)}.values;ss({target:"Object",stat:!0},{values:function(t){return jp(t)}});function Bp(e){return function(t){t=Wp(Gp(t));return 1&e&&(t=Yp(t,Vp,"")),t=2&e?Yp(t,Up,"$1"):t}}var Oc=J.Object.values,zp=(n.exports=Oc,t(Pp)),Hp={},ns={get exports(){return Hp},set exports(t){Hp=t}},ls="\t\n\v\f\r Â áââââââââââââ¯âã\u2028\u2029\ufeff",Gp=b,Wp=Zn,fi=ls,Yp=Q("".replace),Vp=RegExp("^["+fi+"]+"),Up=RegExp("(^|[^"+fi+"])["+fi+"]+$"),jt={start:Bp(1),end:Bp(2),trim:Bp(3)},s=m,Et=Q,Xp=Zn,qp=jt.trim,e=ls,Kp=c.parseInt,he=c.Symbol,$p=he&&he.iterator,Zp=/^[+-]?0x/i,Qp=Et(Zp.exec),gs=8!==Kp(e+"08")||22!==Kp(e+"0x16")||$p&&!s(function(){Kp(Object($p))})?function(t,e){t=qp(Xp(t));return Kp(t,e>>>0||(Qp(Zp,t)?16:10))}:Kp;L({global:!0,forced:parseInt!=gs},{parseInt:gs});ns.exports=J.parseInt;var Jp=t(Hp),tm={},Ai={get exports(){return tm},set exports(t){tm=t}},X=L,_o=g,em=Pi.indexOf,is=Mh,im=_o([].indexOf),nm=!!im&&1/im([1],1,-0)<0;X({target:"Array",proto:!0,forced:nm||!is("indexOf")},{indexOf:function(t){var e=1<arguments.length?arguments[1]:void 0;return nm?im(this,t,e)||0:em(this,t,e)}});var Zo=ih("Array").indexOf,om=Tt,rm=Zo,sm=Array.prototype,am=(Ai.exports=function(t){var e=t.indexOf;return t===sm||om(sm,t)&&e===sm.indexOf?rm:e},t(tm)),lm={},us={get exports(){return lm},set exports(t){lm=t}},hm=os.PROPER,um=m,cm=ls,a=L,dm=jt.trim;a({target:"String",proto:!0,forced:function(t){return um(function(){return!!cm[t]()||"âÂá "!=="âÂá "[t]()||hm&&cm[t].name!==t})}("trim")},{trim:function(){return dm(this)}});var Dn=ih("String").trim,pm=Tt,mm=Dn,fm=String.prototype,gm=(us.exports=function(t){var e=t.trim;return"string"==typeof t||t===fm||pm(fm,t)&&e===fm.trim?mm:e},t(lm)),vm={},dt={get exports(){return vm},set exports(t){vm=t}},ym=(dt.exports=Zl,t(vm)),bm={},at={get exports(){return bm},set exports(t){bm=t}},wm=J,km=K,xm=(wm.JSON||(wm.JSON={stringify:JSON.stringify}),at.exports=function(t,e,i){return km(wm.JSON.stringify,null,arguments)},t(bm)),_m={},rs={get exports(){return _m},set exports(t){_m=t}},Cm=O,Sm=G,Dm=W;L({target:"Array",proto:!0},{fill:function(t){for(var e=Cm(this),i=Dm(e),n=arguments.length,o=Sm(1<n?arguments[1]:void 0,i),n=2<n?arguments[2]:void 0,r=void 0===n?i:Sm(n,i);o<r;)e[o++]=t;return e}});var ms=ih("Array").fill,Tm=Tt,Om=ms,Em=Array.prototype,Am=(rs.exports=function(t){var e=t.fill;return t===Em||Tm(Em,t)&&e===Em.fill?Om:e},t(_m)),Im={},Mr={get exports(){return Im},set exports(t){Im=t}};function Pm(t){if(t){var e,i=t;for(e in Pm.prototype)i[e]=Pm.prototype[e];return i}}(Mr.exports=Pm).prototype.on=Pm.prototype.addEventListener=function(t,e){return this._callbacks=this._callbacks||{},(this._callbacks["$"+t]=this._callbacks["$"+t]||[]).push(e),this},Pm.prototype.once=function(t,e){function i(){this.off(t,i),e.apply(this,arguments)}return i.fn=e,this.on(t,i),this},Pm.prototype.off=Pm.prototype.removeListener=Pm.prototype.removeAllListeners=Pm.prototype.removeEventListener=function(t,e){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var i,n=this._callbacks["$"+t];if(!n)return this;if(1==arguments.length)return delete this._callbacks["$"+t],this;for(var o=0;o<n.length;o++)if((i=n[o])===e||i.fn===e){n.splice(o,1);break}return 0===n.length&&delete this._callbacks["$"+t],this},Pm.prototype.emit=function(t){this._callbacks=this._callbacks||{};for(var e=new Array(arguments.length-1),i=this._callbacks["$"+t],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(i)for(var n=0,o=(i=i.slice(0)).length;n<o;++n)i[n].apply(this,e);return this},Pm.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks["$"+t]||[]},Pm.prototype.hasListeners=function(t){return!!this.listeners(t).length};vs=Im;
/*! Hammer.JS - v2.0.17-rc - 2019-12-16
	 * http://naver.github.io/egjs
	 *
	 * Forked By Naver egjs
	 * Copyright (c) hammerjs
	 * Licensed under the MIT license */function Mm(){return(Mm=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i,n=arguments[e];for(i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t}).apply(this,arguments)}function Nm(t,e){t.prototype=Object.create(e.prototype),(t.prototype.constructor=t).__proto__=e}function Fm(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}var Rm="function"!=typeof Object.assign?function(t){if(null==t)throw new TypeError("Cannot convert undefined or null to object");for(var e=Object(t),i=1;i<arguments.length;i++){var n=arguments[i];if(null!=n)for(var o in n)n.hasOwnProperty(o)&&(e[o]=n[o])}return e}:Object.assign,Lm=["","webkit","Moz","MS","ms","o"],xo="undefined"==typeof document?{style:{}}:document.createElement("div"),jm=Math.round,Bm=Math.abs,zm=Date.now;function Hm(t,e){for(var i,n=e[0].toUpperCase()+e.slice(1),o=0;o<Lm.length;){if((i=(i=Lm[o])?i+n:e)in t)return i;o++}}var Gm="undefined"==typeof window?{}:window,Wm=Hm(xo.style,"touchAction"),Ym=void 0!==Wm;var Vm="compute",Um="manipulation",Xm="none",qm="pan-x",Km="pan-y",$m=function(){if(!Ym)return!1;var e={},i=Gm.CSS&&Gm.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach(function(t){return e[t]=!i||Gm.CSS.supports("touch-action",t)}),e}(),Zm="ontouchstart"in Gm,Qm=void 0!==Hm(Gm,"PointerEvent"),Jm=Zm&&/mobile|tablet|ip(ad|hone|od)|android/i.test(navigator.userAgent),tf="touch",ef="mouse",nf=1,of=4,rf=8,sf=["x","y"],af=["clientX","clientY"];function lf(t,e,i){if(t)if(t.forEach)t.forEach(e,i);else if(void 0!==t.length)for(n=0;n<t.length;)e.call(i,t[n],n,t),n++;else for(var n in t)t.hasOwnProperty(n)&&e.call(i,t[n],n,t)}function hf(t,e){return"function"==typeof t?t.apply(e&&e[0]||void 0,e):t}function uf(t,e){return-1<t.indexOf(e)}var cf=function(){function t(t,e){this.manager=t,this.set(e)}var e=t.prototype;return e.set=function(t){t===Vm&&(t=this.compute()),Ym&&this.manager.element.style&&$m[t]&&(this.manager.element.style[Wm]=t),this.actions=t.toLowerCase().trim()},e.update=function(){this.set(this.manager.options.touchAction)},e.compute=function(){var e=[],t=(lf(this.manager.recognizers,function(t){hf(t.options.enable,[t])&&(e=e.concat(t.getTouchAction()))}),e.join(" "));if(uf(t,Xm))return Xm;var i=uf(t,qm),n=uf(t,Km);return i&&n?Xm:i||n?i?qm:Km:uf(t,Um)?Um:"auto"},e.preventDefaults=function(t){var e=t.srcEvent,i=t.offsetDirection;if(this.manager.session.prevented)e.preventDefault();else{var n=this.actions,o=uf(n,Xm)&&!$m[Xm],r=uf(n,Km)&&!$m[Km],n=uf(n,qm)&&!$m[qm];if(o){var s=1===t.pointers.length,a=t.distance<2,t=t.deltaTime<250;if(s&&a&&t)return}if(!n||!r)return o||r&&6&i||n&&24&i?this.preventSrc(e):void 0}},e.preventSrc=function(t){this.manager.session.prevented=!0,t.preventDefault()},t}();function df(t,e){for(;t;){if(t===e)return!0;t=t.parentNode}return!1}function pf(t){var e=t.length;if(1===e)return{x:jm(t[0].clientX),y:jm(t[0].clientY)};for(var i=0,n=0,o=0;o<e;)i+=t[o].clientX,n+=t[o].clientY,o++;return{x:jm(i/e),y:jm(n/e)}}function mf(t){for(var e=[],i=0;i<t.pointers.length;)e[i]={clientX:jm(t.pointers[i].clientX),clientY:jm(t.pointers[i].clientY)},i++;return{timeStamp:zm(),pointers:e,center:pf(e),deltaX:t.deltaX,deltaY:t.deltaY}}function ff(t,e,i){var n=e[(i=i||sf)[0]]-t[i[0]],e=e[i[1]]-t[i[1]];return Math.sqrt(n*n+e*e)}function gf(t,e,i){var n=e[(i=i||sf)[0]]-t[i[0]],e=e[i[1]]-t[i[1]];return 180*Math.atan2(e,n)/Math.PI}function vf(t,e){return t===e?1:Bm(t)>=Bm(e)?t<0?2:4:e<0?8:16}function yf(t,e,i){return{x:e/t||0,y:i/t||0}}function bf(u,t){var e,c,d,i,p,n,o=u.session,m=t.pointers,r=m.length,r=(o.firstInput||(o.firstInput=mf(t)),1<r&&!o.firstMultiple?o.firstMultiple=mf(t):1===r&&(o.firstMultiple=!1),o.firstInput),s=o.firstMultiple,a=(s||r).center,l=t.center=pf(m),h=(t.timeStamp=zm(),t.deltaTime=t.timeStamp-r.timeStamp,t.angle=gf(a,l),t.distance=ff(a,l),r=o,l=(a=t).center,n=r.offsetDelta||{},e=r.prevDelta||{},h=r.prevInput||{},a.eventType!==nf&&h.eventType!==of||(e=r.prevDelta={x:h.deltaX||0,y:h.deltaY||0},n=r.offsetDelta={x:l.x,y:l.y}),a.deltaX=e.x+(l.x-n.x),a.deltaY=e.y+(l.y-n.y),t.offsetDirection=vf(t.deltaX,t.deltaY),yf(t.deltaTime,t.deltaX,t.deltaY)),r=(t.overallVelocityX=h.x,t.overallVelocityY=h.y,t.overallVelocity=Bm(h.x)>Bm(h.y)?h.x:h.y,t.scale=s?(r=s.pointers,ff(m[0],m[1],af)/ff(r[0],r[1],af)):1,t.rotation=s?(a=s.pointers,gf(m[1],m[0],af)+gf(a[1],a[0],af)):0,t.maxPointers=!o.prevInput||t.pointers.length>o.prevInput.maxPointers?t.pointers.length:o.prevInput.maxPointers,e=t,n=(l=o).lastInterval||e,h=e.timeStamp-n.timeStamp,e.eventType!==rf&&(25<h||void 0===n.velocity)?(c=(i=yf(h,h=e.deltaX-n.deltaX,p=e.deltaY-n.deltaY)).x,d=i.y,i=Bm(i.x)>Bm(i.y)?i.x:i.y,p=vf(h,p),l.lastInterval=e):(i=n.velocity,c=n.velocityX,d=n.velocityY,p=n.direction),e.velocity=i,e.velocityX=c,e.velocityY=d,e.direction=p,u.element),s=t.srcEvent,m=s.composedPath?s.composedPath()[0]:s.path?s.path[0]:s.target;df(m,r)&&(r=m),t.target=r}function wf(t,e,i){var n=i.pointers.length,o=i.changedPointers.length,r=e&nf&&n-o==0,n=e&(of|rf)&&n-o==0;i.isFirst=!!r,i.isFinal=!!n,r&&(t.session={}),i.eventType=e,bf(t,i),t.emit("hammer.input",i),t.recognize(i),t.session.prevInput=i}function kf(t){return t.trim().split(/\s+/g)}function xf(e,t,i){lf(kf(t),function(t){e.addEventListener(t,i,!1)})}function _f(e,t,i){lf(kf(t),function(t){e.removeEventListener(t,i,!1)})}function Cf(t){t=t.ownerDocument||t;return t.defaultView||t.parentWindow||window}var Sf=function(){function t(e,t){var i=this;this.manager=e,this.callback=t,this.element=e.element,this.target=e.options.inputTarget,this.domHandler=function(t){hf(e.options.enable,[e])&&i.handler(t)},this.init()}var e=t.prototype;return e.handler=function(){},e.init=function(){this.evEl&&xf(this.element,this.evEl,this.domHandler),this.evTarget&&xf(this.target,this.evTarget,this.domHandler),this.evWin&&xf(Cf(this.element),this.evWin,this.domHandler)},e.destroy=function(){this.evEl&&_f(this.element,this.evEl,this.domHandler),this.evTarget&&_f(this.target,this.evTarget,this.domHandler),this.evWin&&_f(Cf(this.element),this.evWin,this.domHandler)},t}();function Df(t,e,i){if(t.indexOf&&!i)return t.indexOf(e);for(var n=0;n<t.length;){if(i&&t[n][i]==e||!i&&t[n]===e)return n;n++}return-1}var Tf={pointerdown:nf,pointermove:2,pointerup:of,pointercancel:rf,pointerout:rf},Of={2:tf,3:"pen",4:ef,5:"kinect"},Ef="pointerdown",Af="pointermove pointerup pointercancel",If=(Gm.MSPointerEvent&&!Gm.PointerEvent&&(Ef="MSPointerDown",Af="MSPointerMove MSPointerUp MSPointerCancel"),function(e){function i(){var t=i.prototype;return t.evEl=Ef,t.evWin=Af,(t=e.apply(this,arguments)||this).store=t.manager.session.pointerEvents=[],t}return Nm(i,e),i.prototype.handler=function(t){var e=this.store,i=!1,n=t.type.toLowerCase().replace("ms",""),n=Tf[n],o=Of[t.pointerType]||t.pointerType,r=o===tf,s=Df(e,t.pointerId,"pointerId");n&nf&&(0===t.button||r)?s<0&&(e.push(t),s=e.length-1):n&(of|rf)&&(i=!0),s<0||(e[s]=t,this.callback(this.manager,n,{pointers:e,changedPointers:[t],pointerType:o,srcEvent:t}),i&&e.splice(s,1))},i}(Sf));function Pf(t){return Array.prototype.slice.call(t,0)}function Mf(t,i,e){for(var n=[],o=[],r=0;r<t.length;){var s=i?t[r][i]:t[r];Df(o,s)<0&&n.push(t[r]),o[r]=s,r++}return n=e?i?n.sort(function(t,e){return t[i]>e[i]}):n.sort():n}var Nf={touchstart:nf,touchmove:2,touchend:of,touchcancel:rf},Ff=function(e){function i(){var t;return i.prototype.evTarget="touchstart touchmove touchend touchcancel",(t=e.apply(this,arguments)||this).targetIds={},t}return Nm(i,e),i.prototype.handler=function(t){var e=Nf[t.type],i=function(t,e){var i,n,o=Pf(t.touches),r=this.targetIds;if(e&(2|nf)&&1===o.length)return r[o[0].identifier]=!0,[o,o];var s=Pf(t.changedTouches),a=[],l=this.target;if(n=o.filter(function(t){return df(t.target,l)}),e===nf)for(i=0;i<n.length;)r[n[i].identifier]=!0,i++;i=0;for(;i<s.length;)r[s[i].identifier]&&a.push(s[i]),e&(of|rf)&&delete r[s[i].identifier],i++;if(a.length)return[Mf(n.concat(a),"identifier",!0),a]}.call(this,t,e);i&&this.callback(this.manager,e,{pointers:i[0],changedPointers:i[1],pointerType:tf,srcEvent:t})},i}(Sf);var Rf={mousedown:nf,mousemove:2,mouseup:of},Lf=function(e){function i(){var t=i.prototype;return t.evEl="mousedown",t.evWin="mousemove mouseup",(t=e.apply(this,arguments)||this).pressed=!1,t}return Nm(i,e),i.prototype.handler=function(t){var e=Rf[t.type];e&nf&&0===t.button&&(this.pressed=!0),2&e&&1!==t.which&&(e=of),this.pressed&&(e&of&&(this.pressed=!1),this.callback(this.manager,e,{pointers:[t],changedPointers:[t],pointerType:ef,srcEvent:t}))},i}(Sf),jf=2500,Bf=25;function zf(t){var e,i,t=t.changedPointers[0];t.identifier===this.primaryTouch&&(e={x:t.clientX,y:t.clientY},i=this.lastTouches,this.lastTouches.push(e),setTimeout(function(){var t=i.indexOf(e);-1<t&&i.splice(t,1)},jf))}var Hf=function(){return function(i){function t(t,e){var r=i.call(this,t,e)||this;return r.handler=function(t,e,i){var n=i.pointerType===tf,o=i.pointerType===ef;if(!(o&&i.sourceCapabilities&&i.sourceCapabilities.firesTouchEvents)){if(n)!function(t,e){t&nf?(this.primaryTouch=e.changedPointers[0].identifier,zf.call(this,e)):t&(of|rf)&&zf.call(this,e)}.call(Fm(Fm(r)),e,i);else if(o&&function(t){for(var e=t.srcEvent.clientX,i=t.srcEvent.clientY,n=0;n<this.lastTouches.length;n++){var o=this.lastTouches[n],r=Math.abs(e-o.x),o=Math.abs(i-o.y);if(r<=Bf&&o<=Bf)return!0}return!1}.call(Fm(Fm(r)),i))return;r.callback(t,e,i)}},r.touch=new Ff(r.manager,r.handler),r.mouse=new Lf(r.manager,r.handler),r.primaryTouch=null,r.lastTouches=[],r}return Nm(t,i),t.prototype.destroy=function(){this.touch.destroy(),this.mouse.destroy()},t}(Sf)}();function Gf(t,e,i){return Array.isArray(t)&&(lf(t,i[e],i),1)}var Wf=1;function Yf(t,e){e=e.manager;return e?e.get(t):t}function Vf(t){return 16&t?"cancel":8&t?"end":4&t?"move":2&t?"start":""}var Uf=function(){function t(t){this.options=Mm({enable:!0},t=void 0===t?{}:t),this.id=Wf++,this.manager=null,this.state=1,this.simultaneous={},this.requireFail=[]}var e=t.prototype;return e.set=function(t){return Rm(this.options,t),this.manager&&this.manager.touchAction.update(),this},e.recognizeWith=function(t){if(Gf(t,"recognizeWith",this))return this;var e=this.simultaneous;return e[(t=Yf(t,this)).id]||(e[t.id]=t).recognizeWith(this),this},e.dropRecognizeWith=function(t){return Gf(t,"dropRecognizeWith",this)||(t=Yf(t,this),delete this.simultaneous[t.id]),this},e.requireFailure=function(t){if(Gf(t,"requireFailure",this))return this;var e=this.requireFail;return-1===Df(e,t=Yf(t,this))&&(e.push(t),t.requireFailure(this)),this},e.dropRequireFailure=function(t){if(Gf(t,"dropRequireFailure",this))return this;t=Yf(t,this);t=Df(this.requireFail,t);return-1<t&&this.requireFail.splice(t,1),this},e.hasRequireFailures=function(){return 0<this.requireFail.length},e.canRecognizeWith=function(t){return!!this.simultaneous[t.id]},e.emit=function(e){var i=this,t=this.state;function n(t){i.manager.emit(t,e)}t<8&&n(i.options.event+Vf(t)),n(i.options.event),e.additionalEvent&&n(e.additionalEvent),8<=t&&n(i.options.event+Vf(t))},e.tryEmit=function(t){if(this.canEmit())return this.emit(t);this.state=32},e.canEmit=function(){for(var t=0;t<this.requireFail.length;){if(!(33&this.requireFail[t].state))return!1;t++}return!0},e.recognize=function(t){t=Rm({},t);if(!hf(this.options.enable,[this,t]))return this.reset(),void(this.state=32);56&this.state&&(this.state=1),this.state=this.process(t),30&this.state&&this.tryEmit(t)},e.process=function(t){},e.getTouchAction=function(){},e.reset=function(){},t}(),Xf=function(e){function t(t){return(t=e.call(this,Mm({event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},t=void 0===t?{}:t))||this).pTime=!1,t.pCenter=!1,t._timer=null,t._input=null,t.count=0,t}Nm(t,e);var i=t.prototype;return i.getTouchAction=function(){return[Um]},i.process=function(t){var e=this,i=this.options,n=t.pointers.length===i.pointers,o=t.distance<i.threshold,r=t.deltaTime<i.time;if(this.reset(),t.eventType&nf&&0===this.count)return this.failTimeout();if(o&&r&&n){if(t.eventType!==of)return this.failTimeout();o=!this.pTime||t.timeStamp-this.pTime<i.interval,r=!this.pCenter||ff(this.pCenter,t.center)<i.posThreshold;if(this.pTime=t.timeStamp,this.pCenter=t.center,r&&o?this.count+=1:this.count=1,this._input=t,0==this.count%i.taps)return this.hasRequireFailures()?(this._timer=setTimeout(function(){e.state=8,e.tryEmit()},i.interval),2):8}return 32},i.failTimeout=function(){var t=this;return this._timer=setTimeout(function(){t.state=32},this.options.interval),32},i.reset=function(){clearTimeout(this._timer)},i.emit=function(){8===this.state&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))},t}(Uf),qf=function(e){function t(t){return e.call(this,Mm({pointers:1},t=void 0===t?{}:t))||this}Nm(t,e);var i=t.prototype;return i.attrTest=function(t){var e=this.options.pointers;return 0===e||t.pointers.length===e},i.process=function(t){var e=this.state,i=t.eventType,n=6&e,t=this.attrTest(t);return n&&(i&rf||!t)?16|e:n||t?i&of?8|e:2&e?4|e:2:32},t}(Uf);function Kf(t){return 16===t?"down":8===t?"up":2===t?"left":4===t?"right":""}var $f=function(i){function t(t){return(t=i.call(this,Mm({event:"pan",threshold:10,pointers:1,direction:30},t=void 0===t?{}:t))||this).pX=null,t.pY=null,t}Nm(t,i);var e=t.prototype;return e.getTouchAction=function(){var t=this.options.direction,e=[];return 6&t&&e.push(Km),24&t&&e.push(qm),e},e.directionTest=function(t){var e=this.options,i=!0,n=t.distance,o=t.direction,r=t.deltaX,s=t.deltaY;return o&e.direction||(n=6&e.direction?(o=0===r?1:r<0?2:4,i=r!==this.pX,Math.abs(t.deltaX)):(o=0===s?1:s<0?8:16,i=s!==this.pY,Math.abs(t.deltaY))),t.direction=o,i&&n>e.threshold&&o&e.direction},e.attrTest=function(t){return qf.prototype.attrTest.call(this,t)&&(2&this.state||!(2&this.state)&&this.directionTest(t))},e.emit=function(t){this.pX=t.deltaX,this.pY=t.deltaY;var e=Kf(t.direction);e&&(t.additionalEvent=this.options.event+e),i.prototype.emit.call(this,t)},t}(qf),Zf=function(n){function t(t){return n.call(this,Mm({event:"swipe",threshold:10,velocity:.3,direction:30,pointers:1},t=void 0===t?{}:t))||this}Nm(t,n);var e=t.prototype;return e.getTouchAction=function(){return $f.prototype.getTouchAction.call(this)},e.attrTest=function(t){var e,i=this.options.direction;return 30&i?e=t.overallVelocity:6&i?e=t.overallVelocityX:24&i&&(e=t.overallVelocityY),n.prototype.attrTest.call(this,t)&&i&t.offsetDirection&&t.distance>this.options.threshold&&t.maxPointers===this.options.pointers&&Bm(e)>this.options.velocity&&t.eventType&of},e.emit=function(t){var e=Kf(t.offsetDirection);e&&this.manager.emit(this.options.event+e,t),this.manager.emit(this.options.event,t)},t}(qf),Qf=function(i){function t(t){return i.call(this,Mm({event:"pinch",threshold:0,pointers:2},t=void 0===t?{}:t))||this}Nm(t,i);var e=t.prototype;return e.getTouchAction=function(){return[Xm]},e.attrTest=function(t){return i.prototype.attrTest.call(this,t)&&(Math.abs(t.scale-1)>this.options.threshold||2&this.state)},e.emit=function(t){var e;1!==t.scale&&(e=t.scale<1?"in":"out",t.additionalEvent=this.options.event+e),i.prototype.emit.call(this,t)},t}(qf),Jf=function(e){function t(t){return e.call(this,Mm({event:"rotate",threshold:0,pointers:2},t=void 0===t?{}:t))||this}Nm(t,e);var i=t.prototype;return i.getTouchAction=function(){return[Xm]},i.attrTest=function(t){return e.prototype.attrTest.call(this,t)&&(Math.abs(t.rotation)>this.options.threshold||2&this.state)},t}(qf),tg=function(e){function t(t){return(t=e.call(this,Mm({event:"press",pointers:1,time:251,threshold:9},t=void 0===t?{}:t))||this)._timer=null,t._input=null,t}Nm(t,e);var i=t.prototype;return i.getTouchAction=function(){return["auto"]},i.process=function(t){var e=this,i=this.options,n=t.pointers.length===i.pointers,o=t.distance<i.threshold,r=t.deltaTime>i.time;if(this._input=t,!o||!n||t.eventType&(of|rf)&&!r)this.reset();else if(t.eventType&nf)this.reset(),this._timer=setTimeout(function(){e.state=8,e.tryEmit()},i.time);else if(t.eventType&of)return 8;return 32},i.reset=function(){clearTimeout(this._timer)},i.emit=function(t){8===this.state&&(t&&t.eventType&of?this.manager.emit(this.options.event+"up",t):(this._input.timeStamp=zm(),this.manager.emit(this.options.event,this._input)))},t}(Uf),eg={domEvents:!1,touchAction:Vm,enable:!0,inputTarget:null,inputClass:null,cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}},ig=[[Jf,{enable:!1}],[Qf,{enable:!1},["rotate"]],[Zf,{direction:6}],[$f,{direction:6},["swipe"]],[Xf],[Xf,{event:"doubletap",taps:2},["tap"]],[tg]];function ng(i,n){var o,r=i.element;r.style&&(lf(i.options.cssProps,function(t,e){o=Hm(r.style,e),n?(i.oldCssProps[o]=r.style[o],r.style[o]=t):r.style[o]=i.oldCssProps[o]||""}),n||(i.oldCssProps={}))}var og=function(){function t(t,e){var i=this;this.options=Rm({},eg,e||{}),this.options.inputTarget=this.options.inputTarget||t,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=t,this.input=new((e=this).options.inputClass||(Qm?If:Jm?Ff:Zm?Hf:Lf))(e,wf),this.touchAction=new cf(this,this.options.touchAction),ng(this,!0),lf(this.options.recognizers,function(t){var e=i.add(new t[0](t[1]));t[2]&&e.recognizeWith(t[2]),t[3]&&e.requireFailure(t[3])},this)}var e=t.prototype;return e.set=function(t){return Rm(this.options,t),t.touchAction&&this.touchAction.update(),t.inputTarget&&(this.input.destroy(),this.input.target=t.inputTarget,this.input.init()),this},e.stop=function(t){this.session.stopped=t?2:1},e.recognize=function(t){var e=this.session;if(!e.stopped){this.touchAction.preventDefaults(t);for(var i,n=this.recognizers,o=e.curRecognizer,r=((!o||8&o.state)&&(o=e.curRecognizer=null),0);r<n.length;)i=n[r],2===e.stopped||o&&i!==o&&!i.canRecognizeWith(o)?i.reset():i.recognize(t),!o&&14&i.state&&(o=e.curRecognizer=i),r++}},e.get=function(t){if(t instanceof Uf)return t;for(var e=this.recognizers,i=0;i<e.length;i++)if(e[i].options.event===t)return e[i];return null},e.add=function(t){if(Gf(t,"add",this))return this;var e=this.get(t.options.event);return e&&this.remove(e),this.recognizers.push(t),(t.manager=this).touchAction.update(),t},e.remove=function(t){if(Gf(t,"remove",this))return this;var e=this.get(t);return!t||-1!==(e=Df(t=this.recognizers,e))&&(t.splice(e,1),this.touchAction.update()),this},e.on=function(t,e){if(void 0===t||void 0===e)return this;var i=this.handlers;return lf(kf(t),function(t){i[t]=i[t]||[],i[t].push(e)}),this},e.off=function(t,e){if(void 0===t)return this;var i=this.handlers;return lf(kf(t),function(t){e?i[t]&&i[t].splice(Df(i[t],e),1):delete i[t]}),this},e.emit=function(t,e){this.options.domEvents&&(i=t,n=e,(o=document.createEvent("Event")).initEvent(i,!0,!0),(o.gesture=n).target.dispatchEvent(o));var i,n,o,r=this.handlers[t]&&this.handlers[t].slice();if(r&&r.length){e.type=t,e.preventDefault=function(){e.srcEvent.preventDefault()};for(var s=0;s<r.length;)r[s](e),s++}},e.destroy=function(){this.element&&ng(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null},t}(),rg={touchstart:nf,touchmove:2,touchend:of,touchcancel:rf},sg=function(e){function i(){var t=i.prototype;return t.evTarget="touchstart",t.evWin="touchstart touchmove touchend touchcancel",(t=e.apply(this,arguments)||this).started=!1,t}return Nm(i,e),i.prototype.handler=function(t){var e,i=rg[t.type];i===nf&&(this.started=!0),this.started&&(e=function(t,e){var i=Pf(t.touches),t=Pf(t.changedTouches);e&(of|rf)&&(i=Mf(i.concat(t),"identifier",!0));return[i,t]}.call(this,t,i),i&(of|rf)&&e[0].length-e[1].length==0&&(this.started=!1),this.callback(this.manager,i,{pointers:e[0],changedPointers:e[1],pointerType:tf,srcEvent:t}))},i}(Sf);function ag(i,t,e){var n="DEPRECATED METHOD: "+t+"\n"+e+" AT \n";return function(){var t=new Error("get-stack-trace"),t=t&&t.stack?t.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",e=window.console&&(window.console.warn||window.console.log);return e&&e.call(window.console,n,t),i.apply(this,arguments)}}var lg=ag(function(t,e,i){for(var n=Object.keys(e),o=0;o<n.length;)i&&void 0!==t[n[o]]||(t[n[o]]=e[n[o]]),o++;return t},"extend","Use `assign`."),hg=ag(function(t,e){return lg(t,e,!0)},"merge","Use `assign`.");function ug(t,e,i){var e=e.prototype,n=t.prototype=Object.create(e);n.constructor=t,n._super=e,i&&Rm(n,i)}function cg(t,e){return function(){return t.apply(e,arguments)}}q=function(){function t(t,e){return void 0===e&&(e={}),new og(t,Mm({recognizers:ig.concat()},e))}return t.VERSION="2.0.17-rc",t.DIRECTION_ALL=30,t.DIRECTION_DOWN=16,t.DIRECTION_LEFT=2,t.DIRECTION_RIGHT=4,t.DIRECTION_UP=8,t.DIRECTION_HORIZONTAL=6,t.DIRECTION_VERTICAL=24,t.DIRECTION_NONE=1,t.DIRECTION_DOWN=16,t.INPUT_START=nf,t.INPUT_MOVE=2,t.INPUT_END=of,t.INPUT_CANCEL=rf,t.STATE_POSSIBLE=1,t.STATE_BEGAN=2,t.STATE_CHANGED=4,t.STATE_ENDED=8,t.STATE_RECOGNIZED=8,t.STATE_CANCELLED=16,t.STATE_FAILED=32,t.Manager=og,t.Input=Sf,t.TouchAction=cf,t.TouchInput=Ff,t.MouseInput=Lf,t.PointerEventInput=If,t.TouchMouseInput=Hf,t.SingleTouchInput=sg,t.Recognizer=Uf,t.AttrRecognizer=qf,t.Tap=Xf,t.Pan=$f,t.Swipe=Zf,t.Pinch=Qf,t.Rotate=Jf,t.Press=tg,t.on=xf,t.off=_f,t.each=lf,t.merge=hg,t.extend=lg,t.bindFn=cg,t.assign=Rm,t.inherit=ug,t.bindFn=cg,t.prefixed=Hm,t.toArray=Pf,t.inArray=Df,t.uniqueArray=Mf,t.splitStr=kf,t.boolOrFn=hf,t.hasParent=df,t.addEventListeners=xf,t.removeEventListeners=_f,t.defaults=Rm({},eg,{preset:ig}),t}(),q.defaults,Qt=q;function dg(e,t){var i,n=Vu(e);return Uh&&(i=Uh(e),t&&(i=Qh(i).call(i,function(t){return ou(e,t).enumerable})),n.push.apply(n,i)),n}function pg(e){for(var t=1;t<arguments.length;t++){var i,n=null!=arguments[t]?arguments[t]:{};t%2?k(i=dg(Object(n),!0)).call(i,function(t){bu(e,t,n[t])}):mu?yu(e,mu(n)):k(i=dg(Object(n))).call(i,function(t){Xu(e,t,ou(n,t))})}return e}function mg(t,e){var i,n=void 0!==ud&&Mc(t)||t["@@iterator"];if(!n){if(_h(t)||(n=function(t,e){if(t){if("string"==typeof t)return fg(t,e);var i=vd(i=Object.prototype.toString.call(t)).call(i,8,-1);return"Map"===(i="Object"===i&&t.constructor?t.constructor.name:i)||"Set"===i?Ac(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?fg(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length)return n&&(t=n),i=0,{s:e=function(){},n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:e};throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,r=!0,s=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return r=t.done,t},e:function(t){s=!0,o=t},f:function(){try{r||null==n.return||n.return()}finally{if(s)throw o}}}}function fg(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=new Array(e);i<e;i++)n[i]=t[i];return n}var gg=ud("DELETE");function vg(){var t=yg.apply(void 0,arguments);return function t(e){for(var i=0,n=Vu(e);i<n.length;i++){var o=n[i];e[o]===gg?delete e[o]:"object"===Hl(e[o])&&null!==e[o]&&t(e[o])}}(t),t}function yg(){for(var t,e=arguments.length,i=new Array(e),n=0;n<e;n++)i[n]=arguments[n];if(i.length<2)return i[0];if(2<i.length)return yg.apply(void 0,fd(t=[vg(i[0],i[1])]).call(t,ad(vd(i).call(i,2))));var o,r=i[0],s=i[1],a=mg(bd(s));try{for(a.s();!(o=a.n()).done;){var l=o.value;Object.prototype.propertyIsEnumerable.call(s,l)&&(s[l]===gg?delete r[l]:null===r[l]||null===s[l]||"object"!==Hl(r[l])||"object"!==Hl(s[l])||_h(r[l])||_h(s[l])?r[l]=function e(t){return _h(t)?Du(t).call(t,function(t){return e(t)}):"object"===Hl(t)&&null!==t?yg({},t):t}(s[l]):r[l]=yg(r[l],s[l]))}}catch(t){a.e(t)}finally{a.f()}return r}var bg="undefined"!=typeof window?window.Hammer||Qt:function(){return{on:t,off:t,destroy:t,emit:t,get:function(){return{set:t}}};function t(){}};function wg(e){var i=this,n=(this._cleanupQueue=[],this.active=!1,this._dom={container:e,overlay:document.createElement("div")},this._dom.overlay.classList.add("vis-overlay"),this._dom.container.appendChild(this._dom.overlay),this._cleanupQueue.push(function(){i._dom.overlay.parentNode.removeChild(i._dom.overlay)}),bg(this._dom.overlay)),t=(n.on("tap",p(t=this._onTapOverlay).call(t,this)),this._cleanupQueue.push(function(){n.destroy()}),["tap","doubletap","press","pinch","pan","panstart","panmove","panend"]);k(t).call(t,function(t){n.on(t,function(t){t.srcEvent.stopPropagation()})}),document&&document.body&&(this._onClick=function(t){!function(t,e){for(;t;){if(t===e)return!0;t=t.parentNode}return!1}(t.target,e)&&i.deactivate()},document.body.addEventListener("click",this._onClick),this._cleanupQueue.push(function(){document.body.removeEventListener("click",i._onClick)})),this._escListener=function(t){("key"in t?"Escape"===t.key:27===t.keyCode)&&i.deactivate()}}vs(wg.prototype),wg.current=null,wg.prototype.destroy=function(){this.deactivate();var t,e,i=mg(Id(t=Qd(t=this._cleanupQueue).call(t,0)).call(t));try{for(i.s();!(e=i.n()).done;)(0,e.value)()}catch(t){i.e(t)}finally{i.f()}},wg.prototype.activate=function(){wg.current&&wg.current.deactivate(),(wg.current=this).active=!0,this._dom.overlay.style.display="none",this._dom.container.classList.add("vis-active"),this.emit("change"),this.emit("activate"),document.body.addEventListener("keydown",this._escListener)},wg.prototype.deactivate=function(){this.active=!1,this._dom.overlay.style.display="block",this._dom.container.classList.remove("vis-active"),document.body.removeEventListener("keydown",this._escListener),this.emit("change"),this.emit("deactivate")},wg.prototype._onTapOverlay=function(t){this.activate(),t.srcEvent.stopPropagation()};var kg=/^\/?Date\((-?\d+)/i,xg=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,_g=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,Cg=/^rgb\( *(1?\d{1,2}|2[0-4]\d|25[0-5]) *, *(1?\d{1,2}|2[0-4]\d|25[0-5]) *, *(1?\d{1,2}|2[0-4]\d|25[0-5]) *\)$/i,Sg=/^rgba\( *(1?\d{1,2}|2[0-4]\d|25[0-5]) *, *(1?\d{1,2}|2[0-4]\d|25[0-5]) *, *(1?\d{1,2}|2[0-4]\d|25[0-5]) *, *([01]|0?\.\d+) *\)$/i;function Dg(t){return t instanceof Number||"number"==typeof t}function Tg(t){return t instanceof String||"string"==typeof t}function Og(t){return"object"===Hl(t)&&null!==t}function Eg(t,e,i,n){var o=!1;(o=!0===n?null===e[i]&&void 0!==t[i]:o)?delete t[i]:t[i]=e[i]}hs=up;function Ag(t,e){var i,n,o=2<arguments.length&&void 0!==arguments[2]&&arguments[2],r=3<arguments.length&&void 0!==arguments[3]&&arguments[3];for(i in e)!Object.prototype.hasOwnProperty.call(e,i)&&!0!==o||("object"===Hl(e[i])&&null!==e[i]&&Ip(e[i])===Object.prototype?void 0===t[i]?t[i]=Ag({},e[i],o):"object"===Hl(t[i])&&null!==t[i]&&Ip(t[i])===Object.prototype?Ag(t[i],e[i],o):Eg(t,e,i,r):_h(e[i])?t[i]=vd(n=e[i]).call(n):Eg(t,e,i,r));return t}function Ig(t){var e=Hl(t);return"object"===e?null===t?"null":t instanceof Boolean?"Boolean":t instanceof Number?"Number":t instanceof String?"String":_h(t)?"Array":t instanceof Date?"Date":"Object":"number"===e?"Number":"boolean"===e?"Boolean":"string"===e?"String":void 0===e?"undefined":e}function Pg(t,e){var i;return fd(i=[]).call(i,ad(t),[e])}function Mg(t){return vd(t).call(t)}r=zp;Ur={asBoolean:function(t,e){return null!=(t="function"==typeof t?t():t)?0!=t:e||null},asNumber:function(t,e){return null!=(t="function"==typeof t?t():t)?Number(t)||e||null:e||null},asString:function(t,e){return null!=(t="function"==typeof t?t():t)?String(t):e||null},asSize:function(t,e){return Tg(t="function"==typeof t?t():t)?t:Dg(t)?t+"px":e||null},asElement:function(t,e){return(t="function"==typeof t?t():t)||e||null}};function Ng(t){var e;switch(t.length){case 3:case 4:return(e=_g.exec(t))?{r:Jp(e[1]+e[1],16),g:Jp(e[2]+e[2],16),b:Jp(e[3]+e[3],16)}:null;case 6:case 7:return(e=xg.exec(t))?{r:Jp(e[1],16),g:Jp(e[2],16),b:Jp(e[3],16)}:null;default:return null}}function Fg(t,e,i){return"#"+vd(t=((1<<24)+(t<<16)+(e<<8)+i).toString(16)).call(t,1)}function Rg(t,e,i){t/=255,e/=255,i/=255;var n=Math.min(t,Math.min(e,i)),o=Math.max(t,Math.max(e,i));return n===o?{h:0,s:0,v:n}:{h:60*((t===n?3:i===n?1:5)-(t===n?e-i:i===n?t-e:i-t)/(o-n))/360,s:(o-n)/o,v:o}}var Lg=function(t){var i={};return k(t=t.split(";")).call(t,function(t){var e;""!=gm(t).call(t)&&(t=t.split(":"),e=gm(e=t[0]).call(e),t=gm(t=t[1]).call(t),i[e]=t)}),i},jg=function(e){var t;return Du(t=Vu(e)).call(t,function(t){return t+": "+e[t]}).join("; ")};function Bg(t,e,i){var n,o,r,s=Math.floor(6*t),t=6*t-s,a=i*(1-e),l=i*(1-t*e),h=i*(1-(1-t)*e);switch(s%6){case 0:n=i,o=h,r=a;break;case 1:n=l,o=i,r=a;break;case 2:n=a,o=i,r=h;break;case 3:n=a,o=l,r=i;break;case 4:n=h,o=a,r=i;break;case 5:n=i,o=a,r=l}return{r:Math.floor(255*n),g:Math.floor(255*o),b:Math.floor(255*r)}}function zg(t,e,i){t=Bg(t,e,i);return Fg(t.r,t.g,t.b)}function Hg(t){var e=Ng(t);if(!e)throw new TypeError("'".concat(t,"' is not a valid color."));return Rg(e.r,e.g,e.b)}function Gg(t){return/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(t)}function Wg(t){return Cg.test(t)}function Yg(t){return Sg.test(t)}function Vg(t){if(null===t||"object"!==Hl(t))return null;if(t instanceof Element)return t;var e,i=ym(t);for(e in t)Object.prototype.hasOwnProperty.call(t,e)&&"object"==Hl(t[e])&&(i[e]=Vg(t[e]));return i}var Ug={black:"#000000",navy:"#000080",darkblue:"#00008B",mediumblue:"#0000CD",blue:"#0000FF",darkgreen:"#006400",green:"#008000",teal:"#008080",darkcyan:"#008B8B",deepskyblue:"#00BFFF",darkturquoise:"#00CED1",mediumspringgreen:"#00FA9A",lime:"#00FF00",springgreen:"#00FF7F",aqua:"#00FFFF",cyan:"#00FFFF",midnightblue:"#191970",dodgerblue:"#1E90FF",lightseagreen:"#20B2AA",forestgreen:"#228B22",seagreen:"#2E8B57",darkslategray:"#2F4F4F",limegreen:"#32CD32",mediumseagreen:"#3CB371",turquoise:"#40E0D0",royalblue:"#4169E1",steelblue:"#4682B4",darkslateblue:"#483D8B",mediumturquoise:"#48D1CC",indigo:"#4B0082",darkolivegreen:"#556B2F",cadetblue:"#5F9EA0",cornflowerblue:"#6495ED",mediumaquamarine:"#66CDAA",dimgray:"#696969",slateblue:"#6A5ACD",olivedrab:"#6B8E23",slategray:"#708090",lightslategray:"#778899",mediumslateblue:"#7B68EE",lawngreen:"#7CFC00",chartreuse:"#7FFF00",aquamarine:"#7FFFD4",maroon:"#800000",purple:"#800080",olive:"#808000",gray:"#808080",skyblue:"#87CEEB",lightskyblue:"#87CEFA",blueviolet:"#8A2BE2",darkred:"#8B0000",darkmagenta:"#8B008B",saddlebrown:"#8B4513",darkseagreen:"#8FBC8F",lightgreen:"#90EE90",mediumpurple:"#9370D8",darkviolet:"#9400D3",palegreen:"#98FB98",darkorchid:"#9932CC",yellowgreen:"#9ACD32",sienna:"#A0522D",brown:"#A52A2A",darkgray:"#A9A9A9",lightblue:"#ADD8E6",greenyellow:"#ADFF2F",paleturquoise:"#AFEEEE",lightsteelblue:"#B0C4DE",powderblue:"#B0E0E6",firebrick:"#B22222",darkgoldenrod:"#B8860B",mediumorchid:"#BA55D3",rosybrown:"#BC8F8F",darkkhaki:"#BDB76B",silver:"#C0C0C0",mediumvioletred:"#C71585",indianred:"#CD5C5C",peru:"#CD853F",chocolate:"#D2691E",tan:"#D2B48C",lightgrey:"#D3D3D3",palevioletred:"#D87093",thistle:"#D8BFD8",orchid:"#DA70D6",goldenrod:"#DAA520",crimson:"#DC143C",gainsboro:"#DCDCDC",plum:"#DDA0DD",burlywood:"#DEB887",lightcyan:"#E0FFFF",lavender:"#E6E6FA",darksalmon:"#E9967A",violet:"#EE82EE",palegoldenrod:"#EEE8AA",lightcoral:"#F08080",khaki:"#F0E68C",aliceblue:"#F0F8FF",honeydew:"#F0FFF0",azure:"#F0FFFF",sandybrown:"#F4A460",wheat:"#F5DEB3",beige:"#F5F5DC",whitesmoke:"#F5F5F5",mintcream:"#F5FFFA",ghostwhite:"#F8F8FF",salmon:"#FA8072",antiquewhite:"#FAEBD7",linen:"#FAF0E6",lightgoldenrodyellow:"#FAFAD2",oldlace:"#FDF5E6",red:"#FF0000",fuchsia:"#FF00FF",magenta:"#FF00FF",deeppink:"#FF1493",orangered:"#FF4500",tomato:"#FF6347",hotpink:"#FF69B4",coral:"#FF7F50",darkorange:"#FF8C00",lightsalmon:"#FFA07A",orange:"#FFA500",lightpink:"#FFB6C1",pink:"#FFC0CB",gold:"#FFD700",peachpuff:"#FFDAB9",navajowhite:"#FFDEAD",moccasin:"#FFE4B5",bisque:"#FFE4C4",mistyrose:"#FFE4E1",blanchedalmond:"#FFEBCD",papayawhip:"#FFEFD5",lavenderblush:"#FFF0F5",seashell:"#FFF5EE",cornsilk:"#FFF8DC",lemonchiffon:"#FFFACD",floralwhite:"#FFFAF0",snow:"#FFFAFA",yellow:"#FFFF00",lightyellow:"#FFFFE0",ivory:"#FFFFF0",white:"#FFFFFF"},Xg=function(){function e(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:1;Un(this,e),this.pixelRatio=t,this.generated=!1,this.centerCoordinates={x:144.5,y:144.5},this.r=289*.49,this.color={r:255,g:255,b:255,a:1},this.hueCircle=void 0,this.initialColor={r:255,g:255,b:255,a:1},this.previousColor=void 0,this.applied=!1,this.updateCallback=function(){},this.closeCallback=function(){},this._create()}return Xl(e,[{key:"insertTo",value:function(t){void 0!==this.hammer&&(this.hammer.destroy(),this.hammer=void 0),this.container=t,this.container.appendChild(this.frame),this._bindHammer(),this._setSize()}},{key:"setUpdateCallback",value:function(t){if("function"!=typeof t)throw new Error("Function attempted to set as colorPicker update callback is not a function.");this.updateCallback=t}},{key:"setCloseCallback",value:function(t){if("function"!=typeof t)throw new Error("Function attempted to set as colorPicker closing callback is not a function.");this.closeCallback=t}},{key:"_isColorString",value:function(t){if("string"==typeof t)return Ug[t]}},{key:"setColor",value:function(t){var e=!(1<arguments.length&&void 0!==arguments[1])||arguments[1];if("none"!==t){var i,n=this._isColorString(t);if(!0===Tg(t=void 0!==n?n:t)?!0===Wg(t)?i={r:(n=t.substr(4).substr(0,t.length-5).split(","))[0],g:n[1],b:n[2],a:1}:!0===Yg(t)?i={r:(n=t.substr(5).substr(0,t.length-6).split(","))[0],g:n[1],b:n[2],a:n[3]}:!0===Gg(t)&&(i={r:(n=Ng(t)).r,g:n.g,b:n.b,a:1}):t instanceof Object&&void 0!==t.r&&void 0!==t.g&&void 0!==t.b&&(n=void 0!==t.a?t.a:"1.0",i={r:t.r,g:t.g,b:t.b,a:n}),void 0===i)throw new Error("Unknown color passed to the colorPicker. Supported are strings: rgb, hex, rgba. Object: rgb ({r:r,g:g,b:b,[a:a]}). Supplied: "+xm(t));this._setColor(i,e)}}},{key:"show",value:function(){void 0!==this.closeCallback&&(this.closeCallback(),this.closeCallback=void 0),this.applied=!1,this.frame.style.display="block",this._generateHueCircle()}},{key:"_hide",value:function(){var t=this;!0===(!(0<arguments.length&&void 0!==arguments[0])||arguments[0])&&(this.previousColor=up({},this.color)),!0===this.applied&&this.updateCallback(this.initialColor),this.frame.style.display="none",Nh(function(){void 0!==t.closeCallback&&(t.closeCallback(),t.closeCallback=void 0)},0)}},{key:"_save",value:function(){this.updateCallback(this.color),this.applied=!1,this._hide()}},{key:"_apply",value:function(){this.applied=!0,this.updateCallback(this.color),this._updatePicker(this.color)}},{key:"_loadLast",value:function(){void 0!==this.previousColor?this.setColor(this.previousColor,!1):alert("There is no last color to load...")}},{key:"_setColor",value:function(t){!0===(!(1<arguments.length&&void 0!==arguments[1])||arguments[1])&&(this.initialColor=up({},t));var e=Rg((this.color=t).r,t.g,t.b),i=2*Math.PI,n=this.r*e.s,o=this.centerCoordinates.x+n*Math.sin(i*e.h),n=this.centerCoordinates.y+n*Math.cos(i*e.h);this.colorPickerSelector.style.left=o-.5*this.colorPickerSelector.clientWidth+"px",this.colorPickerSelector.style.top=n-.5*this.colorPickerSelector.clientHeight+"px",this._updatePicker(t)}},{key:"_setOpacity",value:function(t){this.color.a=t/100,this._updatePicker(this.color)}},{key:"_setBrightness",value:function(t){var e=Rg(this.color.r,this.color.g,this.color.b),t=(e.v=t/100,Bg(e.h,e.s,e.v));t.a=this.color.a,this.color=t,this._updatePicker()}},{key:"_updatePicker",value:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:this.color,e=Rg(t.r,t.g,t.b),i=this.colorPickerCanvas.getContext("2d"),n=(void 0===this.pixelRation&&(this.pixelRatio=(window.devicePixelRatio||1)/(i.webkitBackingStorePixelRatio||i.mozBackingStorePixelRatio||i.msBackingStorePixelRatio||i.oBackingStorePixelRatio||i.backingStorePixelRatio||1)),i.setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0),this.colorPickerCanvas.clientWidth),o=this.colorPickerCanvas.clientHeight;i.clearRect(0,0,n,o),i.putImageData(this.hueCircle,0,0),i.fillStyle="rgba(0,0,0,"+(1-e.v)+")",i.circle(this.centerCoordinates.x,this.centerCoordinates.y,this.r),Am(i).call(i),this.brightnessRange.value=100*e.v,this.opacityRange.value=100*t.a,this.initialColorDiv.style.backgroundColor="rgba("+this.initialColor.r+","+this.initialColor.g+","+this.initialColor.b+","+this.initialColor.a+")",this.newColorDiv.style.backgroundColor="rgba("+this.color.r+","+this.color.g+","+this.color.b+","+this.color.a+")"}},{key:"_setSize",value:function(){this.colorPickerCanvas.style.width="100%",this.colorPickerCanvas.style.height="100%",this.colorPickerCanvas.width=289*this.pixelRatio,this.colorPickerCanvas.height=289*this.pixelRatio}},{key:"_create",value:function(){var t;this.frame=document.createElement("div"),this.frame.className="vis-color-picker",this.colorPickerDiv=document.createElement("div"),this.colorPickerSelector=document.createElement("div"),this.colorPickerSelector.className="vis-selector",this.colorPickerDiv.appendChild(this.colorPickerSelector),this.colorPickerCanvas=document.createElement("canvas"),this.colorPickerDiv.appendChild(this.colorPickerCanvas),this.colorPickerCanvas.getContext?(t=this.colorPickerCanvas.getContext("2d"),this.pixelRatio=(window.devicePixelRatio||1)/(t.webkitBackingStorePixelRatio||t.mozBackingStorePixelRatio||t.msBackingStorePixelRatio||t.oBackingStorePixelRatio||t.backingStorePixelRatio||1),this.colorPickerCanvas.getContext("2d").setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0)):((t=document.createElement("DIV")).style.color="red",t.style.fontWeight="bold",t.style.padding="10px",t.innerText="Error: your browser does not support HTML canvas",this.colorPickerCanvas.appendChild(t)),this.colorPickerDiv.className="vis-color",this.opacityDiv=document.createElement("div"),this.opacityDiv.className="vis-opacity",this.brightnessDiv=document.createElement("div"),this.brightnessDiv.className="vis-brightness",this.arrowDiv=document.createElement("div"),this.arrowDiv.className="vis-arrow",this.opacityRange=document.createElement("input");try{this.opacityRange.type="range",this.opacityRange.min="0",this.opacityRange.max="100"}catch(t){}this.opacityRange.value="100",this.opacityRange.className="vis-range",this.brightnessRange=document.createElement("input");try{this.brightnessRange.type="range",this.brightnessRange.min="0",this.brightnessRange.max="100"}catch(t){}this.brightnessRange.value="100",this.brightnessRange.className="vis-range",this.opacityDiv.appendChild(this.opacityRange),this.brightnessDiv.appendChild(this.brightnessRange);var e=this;this.opacityRange.onchange=function(){e._setOpacity(this.value)},this.opacityRange.oninput=function(){e._setOpacity(this.value)},this.brightnessRange.onchange=function(){e._setBrightness(this.value)},this.brightnessRange.oninput=function(){e._setBrightness(this.value)},this.brightnessLabel=document.createElement("div"),this.brightnessLabel.className="vis-label vis-brightness",this.brightnessLabel.innerText="brightness:",this.opacityLabel=document.createElement("div"),this.opacityLabel.className="vis-label vis-opacity",this.opacityLabel.innerText="opacity:",this.newColorDiv=document.createElement("div"),this.newColorDiv.className="vis-new-color",this.newColorDiv.innerText="new",this.initialColorDiv=document.createElement("div"),this.initialColorDiv.className="vis-initial-color",this.initialColorDiv.innerText="initial",this.cancelButton=document.createElement("div"),this.cancelButton.className="vis-button vis-cancel",this.cancelButton.innerText="cancel",this.cancelButton.onclick=p(t=this._hide).call(t,this,!1),this.applyButton=document.createElement("div"),this.applyButton.className="vis-button vis-apply",this.applyButton.innerText="apply",this.applyButton.onclick=p(t=this._apply).call(t,this),this.saveButton=document.createElement("div"),this.saveButton.className="vis-button vis-save",this.saveButton.innerText="save",this.saveButton.onclick=p(t=this._save).call(t,this),this.loadButton=document.createElement("div"),this.loadButton.className="vis-button vis-load",this.loadButton.innerText="load last",this.loadButton.onclick=p(t=this._loadLast).call(t,this),this.frame.appendChild(this.colorPickerDiv),this.frame.appendChild(this.arrowDiv),this.frame.appendChild(this.brightnessLabel),this.frame.appendChild(this.brightnessDiv),this.frame.appendChild(this.opacityLabel),this.frame.appendChild(this.opacityDiv),this.frame.appendChild(this.newColorDiv),this.frame.appendChild(this.initialColorDiv),this.frame.appendChild(this.cancelButton),this.frame.appendChild(this.applyButton),this.frame.appendChild(this.saveButton),this.frame.appendChild(this.loadButton)}},{key:"_bindHammer",value:function(){var e=this;this.drag={},this.pinch={},this.hammer=new bg(this.colorPickerCanvas),this.hammer.get("pinch").set({enable:!0}),this.hammer.on("hammer.input",function(t){t.isFirst&&e._moveSelector(t)}),this.hammer.on("tap",function(t){e._moveSelector(t)}),this.hammer.on("panstart",function(t){e._moveSelector(t)}),this.hammer.on("panmove",function(t){e._moveSelector(t)}),this.hammer.on("panend",function(t){e._moveSelector(t)})}},{key:"_generateHueCircle",value:function(){if(!1===this.generated){for(var t,e,i,n,o=this.colorPickerCanvas.getContext("2d"),r=(void 0===this.pixelRation&&(this.pixelRatio=(window.devicePixelRatio||1)/(o.webkitBackingStorePixelRatio||o.mozBackingStorePixelRatio||o.msBackingStorePixelRatio||o.oBackingStorePixelRatio||o.backingStorePixelRatio||1)),o.setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0),this.colorPickerCanvas.clientWidth),s=this.colorPickerCanvas.clientHeight,a=(o.clearRect(0,0,r,s),this.centerCoordinates={x:.5*r,y:.5*s},this.r=.49*r,2*Math.PI/360),l=1/this.r,h=0;h<360;h++)for(i=0;i<this.r;i++)t=this.centerCoordinates.x+i*Math.sin(a*h),e=this.centerCoordinates.y+i*Math.cos(a*h),n=Bg(h*(1/360),i*l,1),o.fillStyle="rgb("+n.r+","+n.g+","+n.b+")",o.fillRect(t-.5,e-.5,2,2);o.strokeStyle="rgba(0,0,0,1)",o.circle(this.centerCoordinates.x,this.centerCoordinates.y,this.r),o.stroke(),this.hueCircle=o.getImageData(0,0,r,s)}this.generated=!0}},{key:"_moveSelector",value:function(t){var e=this.colorPickerDiv.getBoundingClientRect(),i=t.center.x-e.left,t=t.center.y-e.top,e=.5*this.colorPickerDiv.clientHeight,n=.5*this.colorPickerDiv.clientWidth,i=i-n,t=t-e,o=Math.atan2(i,t),i=.98*Math.min(Math.sqrt(i*i+t*t),n),t=Math.cos(o)*i+e,e=Math.sin(o)*i+n;this.colorPickerSelector.style.top=t-.5*this.colorPickerSelector.clientHeight+"px",this.colorPickerSelector.style.left=e-.5*this.colorPickerSelector.clientWidth+"px";n=(n=o/(2*Math.PI))<0?n+1:n,t=i/this.r,e=Rg(this.color.r,this.color.g,this.color.b),e.h=n,e.s=t,o=Bg(e.h,e.s,e.v);o.a=this.color.a,this.color=o,this.initialColorDiv.style.backgroundColor="rgba("+this.initialColor.r+","+this.initialColor.g+","+this.initialColor.b+","+this.initialColor.a+")",this.newColorDiv.style.backgroundColor="rgba("+this.color.r+","+this.color.g+","+this.color.b+","+this.color.a+")"}}]),e}();function qg(){for(var t,e=arguments.length,i=new Array(e),n=0;n<e;n++)i[n]=arguments[n];if(i.length<1)throw new TypeError("Invalid arguments.");return 1===i.length?document.createTextNode(i[0]):((t=document.createElement(i[0])).appendChild(qg.apply(void 0,ad(vd(i).call(i,1)))),t)}var Kg,Vr=function(){function r(t,e,i){var n=3<arguments.length&&void 0!==arguments[3]?arguments[3]:1,o=4<arguments.length&&void 0!==arguments[4]?arguments[4]:function(){return!1};Un(this,r),this.parent=t,this.changedOptions=[],this.container=e,this.allowCreation=!1,this.hideOption=o,this.options={},this.initialized=!1,this.popupCounter=0,this.defaultOptions={enabled:!1,filter:!0,container:void 0,showButton:!0},up(this.options,this.defaultOptions),this.configureOptions=i,this.moduleOptions={},this.domElements=[],this.popupDiv={},this.popupLimit=5,this.popupHistory={},this.colorPicker=new Xg(n),this.wrapper=void 0}return Xl(r,[{key:"setOptions",value:function(t){if(void 0!==t){this.popupHistory={},this._removePopup();var e=!0;if("string"==typeof t)this.options.filter=t;else if(_h(t))this.options.filter=t.join();else if("object"===Hl(t)){if(null==t)throw new TypeError("options cannot be null");void 0!==t.container&&(this.options.container=t.container),void 0!==Qh(t)&&(this.options.filter=Qh(t)),void 0!==t.showButton&&(this.options.showButton=t.showButton),void 0!==t.enabled&&(e=t.enabled)}else"boolean"==typeof t?(this.options.filter=!0,e=t):"function"==typeof t&&(this.options.filter=t,e=!0);!1===Qh(this.options)&&(e=!1),this.options.enabled=e}this._clean()}},{key:"setModuleOptions",value:function(t){this.moduleOptions=t,!0===this.options.enabled&&(this._clean(),void 0!==this.options.container&&(this.container=this.options.container),this._create())}},{key:"_create",value:function(){this._clean(),this.changedOptions=[];var t,e=Qh(this.options),i=0,n=!1;for(t in this.configureOptions)Object.prototype.hasOwnProperty.call(this.configureOptions,t)&&(n=this.allowCreation=!1,"function"==typeof e?n=(n=e(t,[]))||this._handleObject(this.configureOptions[t],[t],!0):!0!==e&&-1===am(e).call(e,t)||(n=!0),!1!==n&&(this.allowCreation=!0,0<i&&this._makeItem([]),this._makeHeader(t),this._handleObject(this.configureOptions[t],[t])),i++);this._makeButton(),this._push()}},{key:"_push",value:function(){this.wrapper=document.createElement("div"),this.wrapper.className="vis-configuration-wrapper",this.container.appendChild(this.wrapper);for(var t=0;t<this.domElements.length;t++)this.wrapper.appendChild(this.domElements[t]);this._showPopupIfNeeded()}},{key:"_clean",value:function(){for(var t=0;t<this.domElements.length;t++)this.wrapper.removeChild(this.domElements[t]);void 0!==this.wrapper&&(this.container.removeChild(this.wrapper),this.wrapper=void 0),this.domElements=[],this._removePopup()}},{key:"_getValue",value:function(t){for(var e=this.moduleOptions,i=0;i<t.length;i++){if(void 0===e[t[i]]){e=void 0;break}e=e[t[i]]}return e}},{key:"_makeItem",value:function(t){if(!0!==this.allowCreation)return 0;var e=document.createElement("div");e.className="vis-configuration vis-config-item vis-config-s"+t.length;for(var i=arguments.length,n=new Array(1<i?i-1:0),o=1;o<i;o++)n[o-1]=arguments[o];return k(n).call(n,function(t){e.appendChild(t)}),this.domElements.push(e),this.domElements.length}},{key:"_makeHeader",value:function(t){var e=document.createElement("div");e.className="vis-configuration vis-config-header",e.innerText=t,this._makeItem([],e)}},{key:"_makeLabel",value:function(t,e){var i=2<arguments.length&&void 0!==arguments[2]&&arguments[2],n=document.createElement("div");if(n.className="vis-configuration vis-config-label vis-config-s"+e.length,!0===i){for(;n.firstChild;)n.removeChild(n.firstChild);n.appendChild(qg("i","b",t))}else n.innerText=t+":";return n}},{key:"_makeDropdown",value:function(t,e,i){var n=document.createElement("select"),o=(n.className="vis-configuration vis-config-select",0);void 0!==e&&-1!==am(t).call(t,e)&&(o=am(t).call(t,e));for(var r=0;r<t.length;r++){var s=document.createElement("option");s.value=t[r],r===o&&(s.selected="selected"),s.innerText=t[r],n.appendChild(s)}var a=this,e=(n.onchange=function(){a._update(this.value,i)},this._makeLabel(i[i.length-1],i));this._makeItem(i,e,n)}},{key:"_makeRange",value:function(t,e,i){var n=t[0],o=t[1],r=t[2],t=t[3],s=document.createElement("input");s.className="vis-configuration vis-config-range";try{s.type="range",s.min=o,s.max=r}catch(t){}s.step=t;var t="",a=0,l=(void 0!==e?(e<0&&1.2*e<o?(s.min=Math.ceil(1.2*e),a=s.min,t="range increased"):e/1.2<o&&(s.min=Math.ceil(e/1.2),a=s.min,t="range increased"),r<1.2*e&&1!==r&&(s.max=Math.ceil(1.2*e),a=s.max,t="range increased"),s.value=e):s.value=n,document.createElement("input")),h=(l.className="vis-configuration vis-config-rangeinput",l.value=s.value,this),o=(s.onchange=function(){l.value=this.value,h._update(Number(this.value),i)},s.oninput=function(){l.value=this.value},this._makeLabel(i[i.length-1],i)),r=this._makeItem(i,o,s,l);""!==t&&this.popupHistory[r]!==a&&(this.popupHistory[r]=a,this._setupPopup(t,r))}},{key:"_makeButton",value:function(){var t,e=this;!0===this.options.showButton&&((t=document.createElement("div")).className="vis-configuration vis-config-button",t.innerText="generate options",t.onclick=function(){e._printOptions()},t.onmouseover=function(){t.className="vis-configuration vis-config-button hover"},t.onmouseout=function(){t.className="vis-configuration vis-config-button"},this.optionsContainer=document.createElement("div"),this.optionsContainer.className="vis-configuration vis-config-option-container",this.domElements.push(this.optionsContainer),this.domElements.push(t))}},{key:"_setupPopup",value:function(t,e){var i,n=this;!0===this.initialized&&!0===this.allowCreation&&this.popupCounter<this.popupLimit&&((i=document.createElement("div")).id="vis-configuration-popup",i.className="vis-configuration-popup",i.innerText=t,i.onclick=function(){n._removePopup()},this.popupCounter+=1,this.popupDiv={html:i,index:e})}},{key:"_removePopup",value:function(){void 0!==this.popupDiv.html&&(this.popupDiv.html.parentNode.removeChild(this.popupDiv.html),clearTimeout(this.popupDiv.hideTimeout),clearTimeout(this.popupDiv.deleteTimeout),this.popupDiv={})}},{key:"_showPopupIfNeeded",value:function(){var t,e=this;void 0!==this.popupDiv.html&&(t=this.domElements[this.popupDiv.index].getBoundingClientRect(),this.popupDiv.html.style.left=t.left+"px",this.popupDiv.html.style.top=t.top-30+"px",document.body.appendChild(this.popupDiv.html),this.popupDiv.hideTimeout=Nh(function(){e.popupDiv.html.style.opacity=0},1500),this.popupDiv.deleteTimeout=Nh(function(){e._removePopup()},1800))}},{key:"_makeCheckbox",value:function(t,e,i){var n=document.createElement("input"),o=(n.type="checkbox",n.className="vis-configuration vis-config-checkbox",n.checked=t,void 0!==e&&((n.checked=e)===t||"object"===Hl(t)&&e===t.enabled||this.changedOptions.push({path:i,value:e})),this),t=(n.onchange=function(){o._update(this.checked,i)},this._makeLabel(i[i.length-1],i));this._makeItem(i,t,n)}},{key:"_makeTextInput",value:function(t,e,i){var n=document.createElement("input"),o=(n.type="text",n.className="vis-configuration vis-config-text",(n.value=e)!==t&&this.changedOptions.push({path:i,value:e}),this),t=(n.onchange=function(){o._update(this.value,i)},this._makeLabel(i[i.length-1],i));this._makeItem(i,t,n)}},{key:"_makeColorField",value:function(t,e,i){var n=this,t=t[1],o=document.createElement("div"),t=("none"!==(e=void 0===e?t:e)?(o.className="vis-configuration vis-config-colorBlock",o.style.backgroundColor=e):o.className="vis-configuration vis-config-colorBlock none",e=void 0===e?t:e,o.onclick=function(){n._showColorPicker(e,o,i)},this._makeLabel(i[i.length-1],i));this._makeItem(i,t,o)}},{key:"_showColorPicker",value:function(t,e,i){var n=this;e.onclick=function(){},this.colorPicker.insertTo(e),this.colorPicker.show(),this.colorPicker.setColor(t),this.colorPicker.setUpdateCallback(function(t){t="rgba("+t.r+","+t.g+","+t.b+","+t.a+")";e.style.backgroundColor=t,n._update(t,i)}),this.colorPicker.setCloseCallback(function(){e.onclick=function(){n._showColorPicker(t,e,i)}})}},{key:"_handleObject",value:function(t){var e,i,n,o,r,s=1<arguments.length&&void 0!==arguments[1]?arguments[1]:[],h=2<arguments.length&&void 0!==arguments[2]&&arguments[2],a=!1,u=Qh(this.options),l=!1;for(e in t)Object.prototype.hasOwnProperty.call(t,e)&&(a=!0,i=t[e],n=Pg(s,e),"function"==typeof u&&!1===(a=u(e,s))&&!_h(i)&&"string"!=typeof i&&"boolean"!=typeof i&&i instanceof Object&&(this.allowCreation=!1,a=this._handleObject(i,n,!0),this.allowCreation=!1===h),!1!==a&&(l=!0,o=this._getValue(n),_h(i)?this._handleArray(i,o,n):"string"==typeof i?this._makeTextInput(i,o,n):"boolean"==typeof i?this._makeCheckbox(i,o,n):i instanceof Object?this.hideOption(s,e,this.moduleOptions)||(void 0!==i.enabled?(o=Pg(n,"enabled"),!0===(o=this._getValue(o))?(r=this._makeLabel(e,n,!0),this._makeItem(n,r),l=this._handleObject(i,n)||l):this._makeCheckbox(i,o,n)):(r=this._makeLabel(e,n,!0),this._makeItem(n,r),l=this._handleObject(i,n)||l)):console.error("dont know how to handle",i,e,n)));return l}},{key:"_handleArray",value:function(t,e,i){"string"==typeof t[0]&&"color"===t[0]?(this._makeColorField(t,e,i),t[1]!==e&&this.changedOptions.push({path:i,value:e})):"string"==typeof t[0]?(this._makeDropdown(t,e,i),t[0]!==e&&this.changedOptions.push({path:i,value:e})):"number"==typeof t[0]&&(this._makeRange(t,e,i),t[0]!==e&&this.changedOptions.push({path:i,value:Number(e)}))}},{key:"_update",value:function(t,e){t=this._constructOptions(t,e);this.parent.body&&this.parent.body.emitter&&this.parent.body.emitter.emit&&this.parent.body.emitter.emit("configChange",t),this.initialized=!0,this.parent.setOptions(t)}},{key:"_constructOptions",value:function(t,e){var i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{},n=i;t="false"!==(t="true"===t||t)&&t;for(var o=0;o<e.length;o++)"global"!==e[o]&&(void 0===n[e[o]]&&(n[e[o]]={}),o!==e.length-1?n=n[e[o]]:n[e[o]]=t);return i}},{key:"_printOptions",value:function(){for(var t=this.getOptions();this.optionsContainer.firstChild;)this.optionsContainer.removeChild(this.optionsContainer.firstChild);this.optionsContainer.appendChild(qg("pre","const options = "+xm(t,null,2)))}},{key:"getOptions",value:function(){for(var t={},e=0;e<this.changedOptions.length;e++)this._constructOptions(this.changedOptions[e].value,this.changedOptions[e].path,t);return t}}]),r}(),as=function(){function i(t,e){Un(this,i),this.container=t,this.overflowMethod=e||"cap",this.x=0,this.y=0,this.padding=5,this.hidden=!1,this.frame=document.createElement("div"),this.frame.className="vis-tooltip",this.container.appendChild(this.frame)}return Xl(i,[{key:"setPosition",value:function(t,e){this.x=Jp(t),this.y=Jp(e)}},{key:"setText",value:function(t){if(t instanceof Element){for(;this.frame.firstChild;)this.frame.removeChild(this.frame.firstChild);this.frame.appendChild(t)}else this.frame.innerText=t}},{key:"show",value:function(t){var e,i,n,o,r,s,a;!0===(t=void 0===t?!0:t)?(t=this.frame.clientHeight,e=this.frame.clientWidth,i=this.frame.parentNode.clientHeight,n=this.frame.parentNode.clientWidth,r=o=0,"flip"==this.overflowMethod?(a=!(s=!1),this.y-t<this.padding&&(a=!1),o=(s=this.x+e>n-this.padding?!0:s)?this.x-e:this.x,r=a?this.y-t:this.y):((r=(r=this.y-t)+t+this.padding>i?i-t-this.padding:r)<this.padding&&(r=this.padding),(o=(o=this.x)+e+this.padding>n?n-e-this.padding:o)<this.padding&&(o=this.padding)),this.frame.style.left=o+"px",this.frame.style.top=r+"px",this.frame.style.visibility="visible",this.hidden=!1):this.hide()}},{key:"hide",value:function(){this.hidden=!0,this.frame.style.left="0",this.frame.style.top="0",this.frame.style.visibility="hidden"}},{key:"destroy",value:function(){this.frame.parentNode.removeChild(this.frame)}}]),i}(),$g=!1,Zg="background: #FFeeee; color: #dd0000",dn=function(){function d(){Un(this,d)}return Xl(d,null,[{key:"validate",value:function(t,e,i){$g=!1;var n=Kg=e;return void 0!==i&&(n=e[i]),d.parse(t,n,[]),$g}},{key:"parse",value:function(t,e,i){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&d.check(n,t,e,i)}},{key:"check",value:function(t,e,i,n){var o,r,s;void 0!==i[t]||void 0!==i.__any__?(r=!0,void 0===i[o=t]&&void 0!==i.__any__&&(o="__any__",r="object"===d.getType(e[t])),s=i[o],r&&void 0!==s.__type__&&(s=s.__type__),d.checkFields(t,e,i,o,s,n)):d.getSuggestion(t,i,n)}},{key:"checkFields",value:function(e,t,i,n,o,r){function s(t){console.error("%c"+t+d.printLocation(r,e),Zg)}var a=d.getType(t[e]),l=o[a];void 0!==l?"array"===d.getType(l)&&-1===am(l).call(l,t[e])?(s('Invalid option detected in "'+e+'". Allowed values are:'+d.print(l)+' not "'+t[e]+'". '),$g=!0):"object"===a&&"__any__"!==n&&(r=Pg(r,e),d.parse(t[e],i[n],r)):void 0===o.any&&(s('Invalid type received for "'+e+'". Expected: '+d.print(Vu(o))+". Received ["+a+'] "'+t[e]+'"'),$g=!0)}},{key:"getType",value:function(t){var e=Hl(t);return"object"===e?null===t?"null":t instanceof Boolean?"boolean":t instanceof Number?"number":t instanceof String?"string":_h(t)?"array":t instanceof Date?"date":void 0!==t.nodeType?"dom":!0===t._isAMomentObject?"moment":"object":"number"===e?"number":"boolean"===e?"boolean":"string"===e?"string":void 0===e?"undefined":e}},{key:"getSuggestion",value:function(t,e,i){var n=d.findInOptions(t,e,i,!1),o=d.findInOptions(t,Kg,[],!0),o=void 0!==n.indexMatch?" in "+d.printLocation(n.path,t,"")+'Perhaps it was incomplete? Did you mean: "'+n.indexMatch+'"?\n\n':o.distance<=4&&n.distance>o.distance?" in "+d.printLocation(n.path,t,"")+"Perhaps it was misplaced? Matching option found at: "+d.printLocation(o.path,o.closestMatch,""):n.distance<=8?'. Did you mean "'+n.closestMatch+'"?'+d.printLocation(n.path,t):". Did you mean one of these: "+d.print(Vu(e))+d.printLocation(i,t);console.error('%cUnknown option detected: "'+t+'"'+o,Zg),$g=!0}},{key:"findInOptions",value:function(t,e,i){var n,h=3<arguments.length&&void 0!==arguments[3]&&arguments[3],o=1e9,r="",s=[],u=t.toLowerCase(),a=void 0;for(n in e){var c,l;void 0!==e[n].__type__&&!0===h?o>(l=d.findInOptions(t,e[n],Pg(i,n))).distance&&(r=l.closestMatch,s=l.path,o=l.distance,a=l.indexMatch):(-1!==am(l=n.toLowerCase()).call(l,u)&&(a=n),(c=d.levenshteinDistance(t,n))<o&&(r=n,s=Mg(i),o=c))}return{closestMatch:r,path:s,distance:o,indexMatch:a}}},{key:"printLocation",value:function(t,e){for(var i="\n\n"+(2<arguments.length&&void 0!==arguments[2]?arguments[2]:"Problem value found at: \n")+"options = {\n",n=0;n<t.length;n++){for(var o=0;o<n+1;o++)i+="  ";i+=t[n]+": {\n"}for(var r=0;r<t.length+1;r++)i+="  ";i+=e+"\n";for(var s=0;s<t.length+1;s++){for(var a=0;a<t.length-s;a++)i+="  ";i+="}\n"}return i+"\n\n"}},{key:"print",value:function(t){return xm(t).replace(/(")|(\[)|(\])|(,"__type__")/g,"").replace(/(,)/g,", ")}},{key:"levenshteinDistance",value:function(t,e){if(0===t.length)return e.length;if(0===e.length)return t.length;for(var i,n=[],o=0;o<=e.length;o++)n[o]=[o];for(i=0;i<=t.length;i++)n[0][i]=i;for(o=1;o<=e.length;o++)for(i=1;i<=t.length;i++)e.charAt(o-1)==t.charAt(i-1)?n[o][i]=n[o-1][i-1]:n[o][i]=Math.min(n[o-1][i-1]+1,Math.min(n[o][i-1]+1,n[o-1][i]+1));return n[e.length][t.length]}}]),d}(),ct=Xg,Ci=Object.freeze({__proto__:null,Activator:wg,Alea:function(){for(var t,e,i,n,o,r,h=arguments.length,s=new Array(h),a=0;a<h;a++)s[a]=arguments[a];return t=s.length?s:[_d()],e=sd(function(){for(var t=function(){var o=4022871197;return function(t){for(var e=t.toString(),i=0;i<e.length;i++){var n=.02519603282416938*(o+=e.charCodeAt(i));o=(n=(n-(o=n>>>0))*o)>>>0,o+=4294967296*(n-=o)}return 2.3283064365386963e-10*(o>>>0)}}(),e=t(" "),i=t(" "),n=t(" "),o=0;o<arguments.length;o++)(e-=t(o<0||arguments.length<=o?void 0:arguments[o]))<0&&(e+=1),(i-=t(o<0||arguments.length<=o?void 0:arguments[o]))<0&&(i+=1),(n-=t(o<0||arguments.length<=o?void 0:arguments[o]))<0&&(n+=1);return[e,i,n]}(t),3),i=e[0],n=e[1],o=e[2],r=1,l.uint32=function(){return 4294967296*l()},l.fract53=function(){return l()+11102230246251565e-32*(2097152*l()|0)},l.algorithm="Alea",l.seed=t,l.version="0.9",l;function l(){var t=2091639*i+2.3283064365386963e-10*r;return i=n,n=o,o=t-(r=0|t)}},ColorPicker:ct,Configurator:Vr,DELETE:gg,HSVToHex:zg,HSVToRGB:Bg,Hammer:bg,Popup:as,RGBToHSV:Rg,RGBToHex:Fg,VALIDATOR_PRINT_STYLE:"background: #FFeeee; color: #dd0000",Validator:dn,addClassName:function(t,e){var i=t.className.split(" "),e=e.split(" "),i=fd(i).call(i,Qh(e).call(e,function(t){return!Ep(i).call(i,t)}));t.className=i.join(" ")},addCssText:function(t,e){var i=Lg(t.style.cssText),e=Lg(e),i=pg(pg({},i),e);t.style.cssText=jg(i)},addEventListener:function(t,e,i,n){var o;t.addEventListener?(void 0===n&&(n=!1),"mousewheel"===e&&Ep(o=navigator.userAgent).call(o,"Firefox")&&(e="DOMMouseScroll"),t.addEventListener(e,i,n)):t.attachEvent("on"+e,i)},binarySearchCustom:function(t,e,i,n){for(var o=0,r=0,s=t.length-1;r<=s&&o<1e4;){var a=Math.floor((r+s)/2),l=t[a],l=e(void 0===n?l[i]:l[i][n]);if(0==l)return a;-1==l?r=a+1:s=a-1,o++}return-1},binarySearchValue:function(t,e,i,n,o){var r,s,u,a,c=0,l=0,h=t.length-1;for(o=null!=o?o:function(t,e){return t==e?0:t<e?-1:1};l<=h&&c<1e4;){if(a=Math.floor(.5*(h+l)),r=t[Math.max(0,a-1)][i],s=t[a][i],u=t[Math.min(t.length-1,a+1)][i],0==o(s,e))return a;if(o(r,e)<0&&0<o(s,e))return"before"==n?Math.max(0,a-1):a;if(o(s,e)<0&&0<o(u,e))return"before"==n?a:Math.min(t.length-1,a+1);o(s,e)<0?l=a+1:h=a-1,c++}return-1},bridgeObject:Vg,copyAndExtendArray:Pg,copyArray:Mg,deepExtend:Ag,deepObjectAssign:vg,easingFunctions:{linear:function(t){return t},easeInQuad:function(t){return t*t},easeOutQuad:function(t){return t*(2-t)},easeInOutQuad:function(t){return t<.5?2*t*t:(4-2*t)*t-1},easeInCubic:function(t){return t*t*t},easeOutCubic:function(t){return--t*t*t+1},easeInOutCubic:function(t){return t<.5?4*t*t*t:(t-1)*(2*t-2)*(2*t-2)+1},easeInQuart:function(t){return t*t*t*t},easeOutQuart:function(t){return 1- --t*t*t*t},easeInOutQuart:function(t){return t<.5?8*t*t*t*t:1-8*--t*t*t*t},easeInQuint:function(t){return t*t*t*t*t},easeOutQuint:function(t){return 1+--t*t*t*t*t},easeInOutQuint:function(t){return t<.5?16*t*t*t*t*t:1+16*--t*t*t*t*t}},equalArray:function(t,e){if(t.length!==e.length)return!1;for(var i=0,n=t.length;i<n;i++)if(t[i]!=e[i])return!1;return!0},extend:hs,fillIfDefined:function t(e,i){var n,o,r,s=2<arguments.length&&void 0!==arguments[2]&&arguments[2];for(n in e)void 0!==i[n]&&(null===i[n]||"object"!==Hl(i[n])?Eg(e,i,n,s):(o=e[n],r=i[n],Og(o)&&Og(r)&&t(o,r,s)))},forEach:function(t,e){if(_h(t))for(var i=t.length,n=0;n<i;n++)e(t[n],n,t);else for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&e(t[o],o,t)},getAbsoluteLeft:function(t){return t.getBoundingClientRect().left},getAbsoluteRight:function(t){return t.getBoundingClientRect().right},getAbsoluteTop:function(t){return t.getBoundingClientRect().top},getScrollBarWidth:function(){(i=document.createElement("p")).style.width="100%",i.style.height="200px";var t=document.createElement("div"),e=(t.style.position="absolute",t.style.top="0px",t.style.left="0px",t.style.visibility="hidden",t.style.width="200px",t.style.height="150px",t.style.overflow="hidden",t.appendChild(i),document.body.appendChild(t),i.offsetWidth),i=(t.style.overflow="scroll",i.offsetWidth);return e==i&&(i=t.clientWidth),document.body.removeChild(t),e-i},getTarget:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:window.event,e=null;return t&&(t.target?e=t.target:t.srcElement&&(e=t.srcElement)),e instanceof Element&&(null==e.nodeType||3!=e.nodeType||(e=e.parentNode)instanceof Element)?e:null},getType:Ig,hasParent:function(t,e){for(var i=t;i;){if(i===e)return!0;if(!i.parentNode)return!1;i=i.parentNode}return!1},hexToHSV:Hg,hexToRGB:Ng,insertSort:function(t,e){for(var i=0;i<t.length;i++){for(var n=t[i],o=void 0,o=i;0<o&&e(n,t[o-1])<0;o--)t[o]=t[o-1];t[o]=n}return t},isDate:function(t){if(t instanceof Date)return!0;if(Tg(t)){if(kg.exec(t))return!0;if(!isNaN(Date.parse(t)))return!0}return!1},isNumber:Dg,isObject:Og,isString:Tg,isValidHex:Gg,isValidRGB:Wg,isValidRGBA:Yg,mergeOptions:function(t,e,i){function h(t){return null!=t}function n(t){return null!==t&&"object"===Hl(t)}var o=3<arguments.length&&void 0!==arguments[3]?arguments[3]:{};if(!n(t))throw new Error("Parameter mergeTarget must be an object");if(!n(e))throw new Error("Parameter options must be an object");if(!h(i))throw new Error("Parameter option must have a value");if(!n(o))throw new Error("Parameter globalOptions must be an object");var r=e[i],u=(o=n(o)&&!function(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}(o)?o[i]:void 0)?o.enabled:void 0;if(void 0!==r){if("boolean"==typeof r)return n(t[i])||(t[i]={}),void(t[i].enabled=r);if(null===r&&!n(t[i])){if(!h(o))return;t[i]=ym(o)}if(n(r)){var s=!0,r=(void 0!==r.enabled?s=r.enabled:void 0!==u&&(s=o.enabled),t),u=e,o=i;n(r[o])||(r[o]={});var a,l=u[o],c=r[o];for(a in l)Object.prototype.hasOwnProperty.call(l,a)&&(c[a]=l[a]);t[i].enabled=s}}},option:Ur,overrideOpacity:function(t,e){return Ep(t).call(t,"rgba")?t:Ep(t).call(t,"rgb")?"rgba("+(i=t.substr(am(t).call(t,"(")+1).replace(")","").split(","))[0]+","+i[1]+","+i[2]+","+e+")":null==(i=Ng(t))?t:"rgba("+i.r+","+i.g+","+i.b+","+e+")";var i},parseColor:function(t,e){var i,n,o;return Tg(t)?!0===Gg(i=Wg(i=t)?Fg((n=Du(n=i.substr(4).substr(0,i.length-5).split(",")).call(n,function(t){return Jp(t)}))[0],n[1],n[2]):i)?(o={h:(n=Hg(i)).h,s:.8*n.s,v:Math.min(1,1.02*n.v)},{background:i,border:n=zg((n={h:n.h,s:Math.min(1,1.25*n.s),v:.8*n.v}).h,n.s,n.v),highlight:{background:o=zg(o.h,o.s,o.v),border:n},hover:{background:o,border:n}}):{background:i,border:i,highlight:{background:i,border:i},hover:{background:i,border:i}}:e?{background:t.background||e.background,border:t.border||e.border,highlight:Tg(t.highlight)?{border:t.highlight,background:t.highlight}:{background:t.highlight&&t.highlight.background||e.highlight.background,border:t.highlight&&t.highlight.border||e.highlight.border},hover:Tg(t.hover)?{border:t.hover,background:t.hover}:{border:t.hover&&t.hover.border||e.hover.border,background:t.hover&&t.hover.background||e.hover.background}}:{background:t.background||void 0,border:t.border||void 0,highlight:Tg(t.highlight)?{border:t.highlight,background:t.highlight}:{background:t.highlight&&t.highlight.background||void 0,border:t.highlight&&t.highlight.border||void 0},hover:Tg(t.hover)?{border:t.hover,background:t.hover}:{border:t.hover&&t.hover.border||void 0,background:t.hover&&t.hover.background||void 0}}},preventDefault:function(t){(t=t||window.event)&&(t.preventDefault?t.preventDefault():t.returnValue=!1)},pureDeepObjectAssign:function(t){for(var e,i=arguments.length,n=new Array(1<i?i-1:0),o=1;o<i;o++)n[o-1]=arguments[o];return vg.apply(void 0,fd(e=[{},t]).call(e,n))},recursiveDOMDelete:function t(e){if(e)for(;!0===e.hasChildNodes();){var i=e.firstChild;i&&(t(i),e.removeChild(i))}},removeClassName:function(t,e){var i=t.className.split(" "),n=e.split(" "),i=Qh(i).call(i,function(t){return!Ep(n).call(n,t)});t.className=i.join(" ")},removeCssText:function(t,e){var i,n=Lg(t.style.cssText),o=Lg(e);for(i in o)Object.prototype.hasOwnProperty.call(o,i)&&delete n[i];t.style.cssText=jg(n)},removeEventListener:function(t,e,i,n){var o;t.removeEventListener?(void 0===n&&(n=!1),"mousewheel"===e&&Ep(o=navigator.userAgent).call(o,"Firefox")&&(e="DOMMouseScroll"),t.removeEventListener(e,i,n)):t.detachEvent("on"+e,i)},selectiveBridgeObject:function(t,e){if(null===e||"object"!==Hl(e))return null;for(var i=ym(e),n=0;n<t.length;n++)Object.prototype.hasOwnProperty.call(e,t[n])&&"object"==Hl(e[t[n]])&&(i[t[n]]=Vg(e[t[n]]));return i},selectiveDeepExtend:function(t,e,i){var n=3<arguments.length&&void 0!==arguments[3]&&arguments[3];if(_h(i))throw new TypeError("Arrays are not supported by deepExtend");for(var o=0;o<t.length;o++){var r=t[o];if(Object.prototype.hasOwnProperty.call(i,r))if(i[r]&&i[r].constructor===Object)void 0===e[r]&&(e[r]={}),e[r].constructor===Object?Ag(e[r],i[r],!1,n):Eg(e,i,r,n);else{if(_h(i[r]))throw new TypeError("Arrays are not supported by deepExtend");Eg(e,i,r,n)}}return e},selectiveExtend:function(t,e){if(!_h(t))throw new Error("Array with property names expected as first argument");for(var i=arguments.length,n=new Array(2<i?i-2:0),o=2;o<i;o++)n[o-2]=arguments[o];for(var r=0,h=n;r<h.length;r++)for(var s=h[r],a=0;a<t.length;a++){var l=t[a];s&&Object.prototype.hasOwnProperty.call(s,l)&&(e[l]=s[l])}return e},selectiveNotDeepExtend:function(t,e,i){var n,o=3<arguments.length&&void 0!==arguments[3]&&arguments[3];if(_h(i))throw new TypeError("Arrays are not supported by deepExtend");for(n in i)if(Object.prototype.hasOwnProperty.call(i,n)&&!Ep(t).call(t,n))if(i[n]&&i[n].constructor===Object)void 0===e[n]&&(e[n]={}),e[n].constructor===Object?Ag(e[n],i[n]):Eg(e,i,n,o);else if(_h(i[n])){e[n]=[];for(var r=0;r<i[n].length;r++)e[n].push(i[n][r])}else Eg(e,i,n,o);return e},throttle:function(t){var e=!1;return function(){e||(e=!0,requestAnimationFrame(function(){e=!1,t()}))}},toArray:r,topMost:function(t,e){_h(e)||(e=[e]);var i,n=mg(t);try{for(n.s();!(i=n.n()).done;){var o=i.value;if(o){for(var r=o[e[0]],s=1;s<e.length;s++)r=r&&r[e[s]];if(void 0!==r)break}}}catch(t){n.e(t)}finally{n.f()}return r},updateProperty:function(t,e,i){return t[e]!==i&&(t[e]=i,!0)}}),Qg={},ss={get exports(){return Qg},set exports(t){Qg=t}},n={},Jg={},Oc={get exports(){return Jg},set exports(t){Jg=t}},fi={};function tv(){var t={"align-content":!1,"align-items":!1,"align-self":!1,"alignment-adjust":!1,"alignment-baseline":!1,all:!1,"anchor-point":!1,animation:!1,"animation-delay":!1,"animation-direction":!1,"animation-duration":!1,"animation-fill-mode":!1,"animation-iteration-count":!1,"animation-name":!1,"animation-play-state":!1,"animation-timing-function":!1,azimuth:!1,"backface-visibility":!1,background:!0,"background-attachment":!0,"background-clip":!0,"background-color":!0,"background-image":!0,"background-origin":!0,"background-position":!0,"background-repeat":!0,"background-size":!0,"baseline-shift":!1,binding:!1,bleed:!1,"bookmark-label":!1,"bookmark-level":!1,"bookmark-state":!1,border:!0,"border-bottom":!0,"border-bottom-color":!0,"border-bottom-left-radius":!0,"border-bottom-right-radius":!0,"border-bottom-style":!0,"border-bottom-width":!0,"border-collapse":!0,"border-color":!0,"border-image":!0,"border-image-outset":!0,"border-image-repeat":!0,"border-image-slice":!0,"border-image-source":!0,"border-image-width":!0,"border-left":!0,"border-left-color":!0,"border-left-style":!0,"border-left-width":!0,"border-radius":!0,"border-right":!0,"border-right-color":!0,"border-right-style":!0,"border-right-width":!0,"border-spacing":!0,"border-style":!0,"border-top":!0,"border-top-color":!0,"border-top-left-radius":!0,"border-top-right-radius":!0,"border-top-style":!0,"border-top-width":!0,"border-width":!0,bottom:!1,"box-decoration-break":!0,"box-shadow":!0,"box-sizing":!0,"box-snap":!0,"box-suppress":!0,"break-after":!0,"break-before":!0,"break-inside":!0,"caption-side":!1,chains:!1,clear:!0,clip:!1,"clip-path":!1,"clip-rule":!1,color:!0,"color-interpolation-filters":!0,"column-count":!1,"column-fill":!1,"column-gap":!1,"column-rule":!1,"column-rule-color":!1,"column-rule-style":!1,"column-rule-width":!1,"column-span":!1,"column-width":!1,columns:!1,contain:!1,content:!1,"counter-increment":!1,"counter-reset":!1,"counter-set":!1,crop:!1,cue:!1,"cue-after":!1,"cue-before":!1,cursor:!1,direction:!1,display:!0,"display-inside":!0,"display-list":!0,"display-outside":!0,"dominant-baseline":!1,elevation:!1,"empty-cells":!1,filter:!1,flex:!1,"flex-basis":!1,"flex-direction":!1,"flex-flow":!1,"flex-grow":!1,"flex-shrink":!1,"flex-wrap":!1,float:!1,"float-offset":!1,"flood-color":!1,"flood-opacity":!1,"flow-from":!1,"flow-into":!1,font:!0,"font-family":!0,"font-feature-settings":!0,"font-kerning":!0,"font-language-override":!0,"font-size":!0,"font-size-adjust":!0,"font-stretch":!0,"font-style":!0,"font-synthesis":!0,"font-variant":!0,"font-variant-alternates":!0,"font-variant-caps":!0,"font-variant-east-asian":!0,"font-variant-ligatures":!0,"font-variant-numeric":!0,"font-variant-position":!0,"font-weight":!0,grid:!1,"grid-area":!1,"grid-auto-columns":!1,"grid-auto-flow":!1,"grid-auto-rows":!1,"grid-column":!1,"grid-column-end":!1,"grid-column-start":!1,"grid-row":!1,"grid-row-end":!1,"grid-row-start":!1,"grid-template":!1,"grid-template-areas":!1,"grid-template-columns":!1,"grid-template-rows":!1,"hanging-punctuation":!1,height:!0,hyphens:!1,icon:!1,"image-orientation":!1,"image-resolution":!1,"ime-mode":!1,"initial-letters":!1,"inline-box-align":!1,"justify-content":!1,"justify-items":!1,"justify-self":!1,left:!1,"letter-spacing":!0,"lighting-color":!0,"line-box-contain":!1,"line-break":!1,"line-grid":!1,"line-height":!1,"line-snap":!1,"line-stacking":!1,"line-stacking-ruby":!1,"line-stacking-shift":!1,"line-stacking-strategy":!1,"list-style":!0,"list-style-image":!0,"list-style-position":!0,"list-style-type":!0,margin:!0,"margin-bottom":!0,"margin-left":!0,"margin-right":!0,"margin-top":!0,"marker-offset":!1,"marker-side":!1,marks:!1,mask:!1,"mask-box":!1,"mask-box-outset":!1,"mask-box-repeat":!1,"mask-box-slice":!1,"mask-box-source":!1,"mask-box-width":!1,"mask-clip":!1,"mask-image":!1,"mask-origin":!1,"mask-position":!1,"mask-repeat":!1,"mask-size":!1,"mask-source-type":!1,"mask-type":!1,"max-height":!0,"max-lines":!1,"max-width":!0,"min-height":!0,"min-width":!0,"move-to":!1,"nav-down":!1,"nav-index":!1,"nav-left":!1,"nav-right":!1,"nav-up":!1,"object-fit":!1,"object-position":!1,opacity:!1,order:!1,orphans:!1,outline:!1,"outline-color":!1,"outline-offset":!1,"outline-style":!1,"outline-width":!1,overflow:!1,"overflow-wrap":!1,"overflow-x":!1,"overflow-y":!1,padding:!0,"padding-bottom":!0,"padding-left":!0,"padding-right":!0,"padding-top":!0,page:!1,"page-break-after":!1,"page-break-before":!1,"page-break-inside":!1,"page-policy":!1,pause:!1,"pause-after":!1,"pause-before":!1,perspective:!1,"perspective-origin":!1,pitch:!1,"pitch-range":!1,"play-during":!1,position:!1,"presentation-level":!1,quotes:!1,"region-fragment":!1,resize:!1,rest:!1,"rest-after":!1,"rest-before":!1,richness:!1,right:!1,rotation:!1,"rotation-point":!1,"ruby-align":!1,"ruby-merge":!1,"ruby-position":!1,"shape-image-threshold":!1,"shape-outside":!1,"shape-margin":!1,size:!1,speak:!1,"speak-as":!1,"speak-header":!1,"speak-numeral":!1,"speak-punctuation":!1,"speech-rate":!1,stress:!1,"string-set":!1,"tab-size":!1,"table-layout":!1,"text-align":!0,"text-align-last":!0,"text-combine-upright":!0,"text-decoration":!0,"text-decoration-color":!0,"text-decoration-line":!0,"text-decoration-skip":!0,"text-decoration-style":!0,"text-emphasis":!0,"text-emphasis-color":!0,"text-emphasis-position":!0,"text-emphasis-style":!0,"text-height":!0,"text-indent":!0,"text-justify":!0,"text-orientation":!0,"text-overflow":!0,"text-shadow":!0,"text-space-collapse":!0,"text-transform":!0,"text-underline-position":!0,"text-wrap":!0,top:!1,transform:!1,"transform-origin":!1,"transform-style":!1,transition:!1,"transition-delay":!1,"transition-duration":!1,"transition-property":!1,"transition-timing-function":!1,"unicode-bidi":!1,"vertical-align":!1,visibility:!1,"voice-balance":!1,"voice-duration":!1,"voice-family":!1,"voice-pitch":!1,"voice-range":!1,"voice-rate":!1,"voice-stress":!1,"voice-volume":!1,volume:!1,"white-space":!1,widows:!1,width:!0,"will-change":!1,"word-break":!0,"word-spacing":!0,"word-wrap":!0,"wrap-flow":!1,"wrap-through":!1,"writing-mode":!1,"z-index":!1};return t}var ev=/javascript\s*\:/gim;fi.whiteList=tv(),fi.getDefaultWhiteList=tv,fi.onAttr=function(t,e,i){},fi.onIgnoreAttr=function(t,e,i){},fi.safeAttrValue=function(t,e){return ev.test(e)?"":e};var iv={indexOf:function(t,e){var i,n;if(Array.prototype.indexOf)return t.indexOf(e);for(i=0,n=t.length;i<n;i++)if(t[i]===e)return i;return-1},forEach:function(t,e,i){var n,o;if(Array.prototype.forEach)return t.forEach(e,i);for(n=0,o=t.length;n<o;n++)e.call(i,t[n],n,t)},trim:function(t){return String.prototype.trim?t.trim():t.replace(/(^\s*)|(\s*$)/g,"")},trimRight:function(t){return String.prototype.trimRight?t.trimRight():t.replace(/(\s*$)/g,"")}};var nv=fi,ov=function(n,o){";"!==(n=iv.trimRight(n))[n.length-1]&&(n+=";");var t=n.length,r=!1,s=0,a=0,l="";function e(){var t,e,i;r||-1!==(e=(t=iv.trim(n.slice(s,a))).indexOf(":"))&&(i=iv.trim(t.slice(0,e)),e=iv.trim(t.slice(e+1)),!i||(i=o(s,l.length,i,e,t))&&(l+=i+"; ")),s=a+1}for(;a<t;a++){var i=n[a];if("/"===i&&"*"===n[a+1]){var h=n.indexOf("*/",a+2);if(-1===h)break;s=(a=h+1)+1,r=!1}else"("===i?r=!0:")"===i?r=!1:";"===i?r||e():"\n"===i&&e()}return iv.trim(l)};function rv(t){return null==t}function sv(t){(t=function(t){var e,i={};for(e in t)i[e]=t[e];return i}(t||{})).whiteList=t.whiteList||nv.whiteList,t.onAttr=t.onAttr||nv.onAttr,t.onIgnoreAttr=t.onIgnoreAttr||nv.onIgnoreAttr,t.safeAttrValue=t.safeAttrValue||nv.safeAttrValue,this.options=t}sv.prototype.process=function(t){if(!(t=(t=t||"").toString()))return"";var e=this.options,l=e.whiteList,h=e.onAttr,u=e.onIgnoreAttr,c=e.safeAttrValue;return ov(t,function(t,e,i,n,o){var r,s=l[i],a=!1;if(!0===s?a=s:"function"==typeof s?a=s(n):s instanceof RegExp&&(a=s.test(n)),!0!==a&&(a=!1),n=c(i,n))return s={position:e,sourcePosition:t,source:o,isWhite:a},a?rv(r=h(i,n,s))?i+":"+n:r:rv(r=u(i,n,s))?void 0:r})};var av,he=Oc,lv=Jg,hv=fi,uv=sv;for(av in(lv=he.exports=function(t,e){return new uv(e).process(t)}).FilterCSS=uv,hv)lv[av]=hv[av];"undefined"!=typeof window&&(window.filterCSS=he.exports);var Et={indexOf:function(t,e){var i,n;if(Array.prototype.indexOf)return t.indexOf(e);for(i=0,n=t.length;i<n;i++)if(t[i]===e)return i;return-1},forEach:function(t,e,i){var n,o;if(Array.prototype.forEach)return t.forEach(e,i);for(n=0,o=t.length;n<o;n++)e.call(i,t[n],n,t)},trim:function(t){return String.prototype.trim?t.trim():t.replace(/(^\s*)|(\s*$)/g,"")},spaceIndex:function(t){t=/\s|\n|\t/.exec(t);return t?t.index:-1}},e=Jg.FilterCSS,s=Jg.getDefaultWhiteList,cv=Et;function dv(){return{a:["target","href","title"],abbr:["title"],address:[],area:["shape","coords","href","alt"],article:[],aside:[],audio:["autoplay","controls","crossorigin","loop","muted","preload","src"],b:[],bdi:["dir"],bdo:["dir"],big:[],blockquote:["cite"],br:[],caption:[],center:[],cite:[],code:[],col:["align","valign","span","width"],colgroup:["align","valign","span","width"],dd:[],del:["datetime"],details:["open"],div:[],dl:[],dt:[],em:[],figcaption:[],figure:[],font:["color","size","face"],footer:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],header:[],hr:[],i:[],img:["src","alt","title","width","height"],ins:["datetime"],li:[],mark:[],nav:[],ol:[],p:[],pre:[],s:[],section:[],small:[],span:[],sub:[],summary:[],sup:[],strong:[],strike:[],table:["width","border","align","valign"],tbody:["align","valign"],td:["width","rowspan","colspan","align","valign"],tfoot:["align","valign"],th:["width","rowspan","colspan","align","valign"],thead:["align","valign"],tr:["rowspan","align","valign"],tt:[],u:[],ul:[],video:["autoplay","controls","crossorigin","loop","muted","playsinline","poster","preload","src","height","width"]}}var pv=new e;function mv(t){return t.replace(fv,"&lt;").replace(gv,"&gt;")}var fv=/</g,gv=/>/g,vv=/"/g,yv=/&quot;/g,bv=/&#([a-zA-Z0-9]*);?/gim,wv=/&colon;?/gim,kv=/&newline;?/gim,xv=/((j\s*a\s*v\s*a|v\s*b|l\s*i\s*v\s*e)\s*s\s*c\s*r\s*i\s*p\s*t\s*|m\s*o\s*c\s*h\s*a):/gi,_v=/e\s*x\s*p\s*r\s*e\s*s\s*s\s*i\s*o\s*n\s*\(.*/gi,Cv=/u\s*r\s*l\s*\(.*/gi;function Sv(t){return t.replace(vv,"&quot;")}function Dv(t){return t.replace(yv,'"')}function Tv(t){return t.replace(bv,function(t,e){return"x"===e[0]||"X"===e[0]?String.fromCharCode(parseInt(e.substr(1),16)):String.fromCharCode(parseInt(e,10))})}function Ov(t){return t.replace(wv,":").replace(kv," ")}function Ev(t){for(var e="",i=0,n=t.length;i<n;i++)e+=t.charCodeAt(i)<32?" ":t.charAt(i);return cv.trim(e)}function Av(t){return t=Ev(t=Ov(t=Tv(t=Dv(t))))}function Iv(t){return t=mv(t=Sv(t))}n.whiteList=dv(),n.getDefaultWhiteList=dv,n.onTag=function(t,e,i){},n.onIgnoreTag=function(t,e,i){},n.onTagAttr=function(t,e,i){},n.onIgnoreTagAttr=function(t,e,i){},n.safeAttrValue=function(t,e,i,n){if(i=Av(i),"href"===e||"src"===e){if("#"===(i=cv.trim(i)))return"#";if("http://"!==i.substr(0,7)&&"https://"!==i.substr(0,8)&&"mailto:"!==i.substr(0,7)&&"tel:"!==i.substr(0,4)&&"data:image/"!==i.substr(0,11)&&"ftp://"!==i.substr(0,6)&&"./"!==i.substr(0,2)&&"../"!==i.substr(0,3)&&"#"!==i[0]&&"/"!==i[0])return""}else if("background"===e){if(xv.lastIndex=0,xv.test(i))return""}else if("style"===e){if(_v.lastIndex=0,_v.test(i))return"";if(Cv.lastIndex=0,Cv.test(i)&&(xv.lastIndex=0,xv.test(i)))return"";!1!==n&&(i=(n=n||pv).process(i))}return i=Iv(i)},n.escapeHtml=mv,n.escapeQuote=Sv,n.unescapeQuote=Dv,n.escapeHtmlEntities=Tv,n.escapeDangerHtml5Entities=Ov,n.clearNonPrintableCharacter=Ev,n.friendlyAttrValue=Av,n.escapeAttrValue=Iv,n.onIgnoreTagStripAll=function(){return""},n.StripTagBody=function(r,s){"function"!=typeof s&&(s=function(){});var a=!Array.isArray(r),l=[],h=!1;return{onIgnoreTag:function(t,e,i){var n,o;return o=t,a||-1!==cv.indexOf(r,o)?i.isClosing?(n=i.position+(o="[/removed]").length,l.push([!1!==h?h:i.position,n]),h=!1,o):(h=h||i.position,"[removed]"):s(t,e,i)},remove:function(e){var i="",n=0;return cv.forEach(l,function(t){i+=e.slice(n,t[0]),n=t[1]}),i+=e.slice(n)}}},n.stripCommentTag=function(t){for(var e="",i=0;i<t.length;){var n=t.indexOf("\x3c!--",i);if(-1===n){e+=t.slice(i);break}e+=t.slice(i,n);n=t.indexOf("--\x3e",n);if(-1===n)break;i=n+3}return e},n.stripBlankChar=function(t){return t.split("").filter(function(t){t=t.charCodeAt(0);return 127!==t&&(!(t<=31)||(10===t||13===t))}).join("")},n.cssFilter=pv,n.getDefaultCSSWhiteList=s;var gs={},Pv=Et;var Mv=/[^a-zA-Z0-9\\_:.-]/gim;function Nv(t){return'"'===(e=t)[0]&&'"'===e[e.length-1]||"'"===e[0]&&"'"===e[e.length-1]?t.substr(1,t.length-2):t;var e}gs.parseTag=function(t,u,c){var e,i,n,o="",r=0,s=!1,a=!1,l=0,d=t.length,p="";t:for(l=0;l<d;l++){var h=t.charAt(l);if(!1===s)"<"!==h||(s=l);else if(!1===a)if("<"!==h)if(">"!==h&&l!==d-1){if('"'===h||"'"===h)for(var m=1,f=t.charAt(l-m);""===f.trim()||"="===f;){if("="===f){a=h;continue t}f=t.charAt(l-++m)}}else o+=c(t.slice(r,s)),e=t.slice(s,l+1),i=e,n=void 0,n=Pv.spaceIndex(i),i=-1===n?i.slice(1,-1):i.slice(1,n+1),p=i="/"===(i="/"===(i=Pv.trim(i).toLowerCase()).slice(0,1)?i.slice(1):i).slice(-1)?i.slice(0,-1):i,o+=u(s,o.length,p,e,"</"===e.slice(0,2)),r=l+1,s=!1;else o+=c(t.slice(r,l)),r=s=l;else h!==a||(a=!1)}return r<d&&(o+=c(t.substr(r))),o},gs.parseAttr=function(t,i){var e=0,n=0,o=[],r=!1,u=t.length;function s(t,e){(t=(t=Pv.trim(t)).replace(Mv,"").toLowerCase()).length<1||(t=i(t,e||""))&&o.push(t)}for(var a=0;a<u;a++){var l,h=t.charAt(a);if(!1!==r||"="!==h)if(!1===r||a!==n)/\s|\n|\t/.test(h)&&(t=t.replace(/\s|\n|\t/g," "),!1===r?-1===(l=function(t,e){for(;e<t.length;e++){var i=t[e];if(" "!==i)return"="===i?e:-1}}(t,a))?(s(Pv.trim(t.slice(e,a))),r=!1,e=a+1):a=l-1:-1!==(l=function(t,e){for(;0<e;e--){var i=t[e];if(" "!==i)return"="===i?e:-1}}(t,a-1))||(s(r,Nv(Pv.trim(t.slice(e,a)))),r=!1,e=a+1));else{if(-1===(l=t.indexOf(h,a+1)))break;s(r,Pv.trim(t.slice(n+1,l))),r=!1,e=(a=l)+1}else r=t.slice(e,a),n='"'===t.charAt(e=a+1)||"'"===t.charAt(e)?e:function(t,e){for(;e<t.length;e++){var i=t[e];if(" "!==i)return"'"===i||'"'===i?e:-1}}(t,a+1)}return e<t.length&&(!1===r?s(t.slice(e)):s(r,Nv(Pv.trim(t.slice(e))))),Pv.trim(o.join(" "))};var Fv=Jg.FilterCSS,Rv=n,Lv=gs.parseTag,jv=gs.parseAttr,Bv=Et;function zv(t){return null==t}function Hv(t){(t=function(t){var e,i={};for(e in t)i[e]=t[e];return i}(t||{})).stripIgnoreTag&&(t.onIgnoreTag&&console.error('Notes: cannot use these two options "stripIgnoreTag" and "onIgnoreTag" at the same time'),t.onIgnoreTag=Rv.onIgnoreTagStripAll),t.whiteList||t.allowList?t.whiteList=function(t){var e,i={};for(e in t)Array.isArray(t[e])?i[e.toLowerCase()]=t[e].map(function(t){return t.toLowerCase()}):i[e.toLowerCase()]=t[e];return i}(t.whiteList||t.allowList):t.whiteList=Rv.whiteList,t.onTag=t.onTag||Rv.onTag,t.onTagAttr=t.onTagAttr||Rv.onTagAttr,t.onIgnoreTag=t.onIgnoreTag||Rv.onIgnoreTag,t.onIgnoreTagAttr=t.onIgnoreTagAttr||Rv.onIgnoreTagAttr,t.safeAttrValue=t.safeAttrValue||Rv.safeAttrValue,t.escapeHtml=t.escapeHtml||Rv.escapeHtml,!1===(this.options=t).css?this.cssFilter=!1:(t.css=t.css||{},this.cssFilter=new Fv(t.css))}Hv.prototype.process=function(t){if(!(t=(t=t||"").toString()))return"";var e=this.options,a=e.whiteList,l=e.onTag,h=e.onIgnoreTag,u=e.onTagAttr,c=e.onIgnoreTagAttr,d=e.safeAttrValue,p=e.escapeHtml,m=this.cssFilter,i=(e.stripBlankChar&&(t=Rv.stripBlankChar(t)),e.allowCommentTag||(t=Rv.stripCommentTag(t)),!1),e=(e.stripIgnoreTagBody&&(i=Rv.StripTagBody(e.stripIgnoreTagBody,h),h=i.onIgnoreTag),Lv(t,function(t,e,o,i,n){t={sourcePosition:t,position:e,isClosing:n,isWhite:Object.prototype.hasOwnProperty.call(a,o)},e=l(o,i,t);if(!zv(e))return e;if(t.isWhite){if(t.isClosing)return"</"+o+">";n=i;var n=-1===(s=Bv.spaceIndex(n))?{html:"",closing:"/"===n[n.length-2]}:{html:n=(s="/"===(n=Bv.trim(n.slice(s+1,-1)))[n.length-1])?Bv.trim(n.slice(0,-1)):n,closing:s},r=a[o],s=jv(n.html,function(t,e){var i=-1!==Bv.indexOf(r,t),n=u(o,t,e,i);return zv(n)?i?(e=d(o,t,e,m))?t+'="'+e+'"':t:zv(n=c(o,t,e,i))?void 0:n:n});return i="<"+o,s&&(i+=" "+s),n.closing&&(i+=" /"),i+=">"}return zv(e=h(o,i,t))?p(i):e},p));return e=i?i.remove(e):e};var Gv,Wv,ns=ss,Yv=Qg,Vv=n,Uv=gs,Xv=Hv;function qv(t,e){return new Xv(e).process(t)}for(Gv in(Yv=ns.exports=qv).filterXSS=qv,Yv.FilterXSS=Xv,Vv)Yv[Gv]=Vv[Gv];for(Wv in Uv)Yv[Wv]=Uv[Wv];"undefined"!=typeof window&&(window.filterXSS=ns.exports),"undefined"!=typeof self&&"undefined"!=typeof DedicatedWorkerGlobalScope&&self instanceof DedicatedWorkerGlobalScope&&(self.filterXSS=ns.exports);var Kv=Qg;let $v;const Zv=new Uint8Array(16);const Qv=[];for(let t=0;t<256;++t)Qv.push((t+256).toString(16).slice(1));var Jv={randomUUID:"undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};function ty(t,e,i){if(Jv.randomUUID&&!e&&!t)return Jv.randomUUID();const n=(t=t||{}).random||(t.rng||function(){if(!$v&&!($v="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return $v(Zv)})();if(n[6]=15&n[6]|64,n[8]=63&n[8]|128,e){i=i||0;for(let t=0;t<16;++t)e[i+t]=n[t];return e}return t=n,o=0,(Qv[t[o+0]]+Qv[t[o+1]]+Qv[t[o+2]]+Qv[t[o+3]]+"-"+Qv[t[o+4]]+Qv[t[o+5]]+"-"+Qv[t[o+6]]+Qv[t[o+7]]+"-"+Qv[t[o+8]]+Qv[t[o+9]]+"-"+Qv[t[o+10]]+Qv[t[o+11]]+Qv[t[o+12]]+Qv[t[o+13]]+Qv[t[o+14]]+Qv[t[o+15]]).toLowerCase();var o}function ey(e,t){var i,n=Vu(e);return Uh&&(i=Uh(e),t&&(i=Qh(i).call(i,function(t){return ou(e,t).enumerable})),n.push.apply(n,i)),n}function iy(e){for(var t=1;t<arguments.length;t++){var i,n=null!=arguments[t]?arguments[t]:{};t%2?k(i=ey(Object(n),!0)).call(i,function(t){bu(e,t,n[t])}):mu?yu(e,mu(n)):k(i=ey(Object(n))).call(i,function(t){Xu(e,t,ou(n,t))})}return e}function ny(t){var e;if(t)return e=null!==(e=t.idProp)&&void 0!==e?e:t._idProp,e?u.isDataViewLike(e,t):void 0}var oy=/^\/?Date\((-?\d+)/i,ry=/^\d+$/;function sy(e,i){var t;if(void 0!==e){if(null===e)return null;if(!i)return e;if("string"!=typeof i&&!(i instanceof String))throw new Error("Type must be a string");switch(i){case"boolean":case"Boolean":return Boolean(e);case"number":case"Number":return Tg(e)&&!isNaN(Date.parse(e))?h(e).valueOf():Number(e.valueOf());case"string":case"String":return String(e);case"Date":try{return sy(e,"Moment").toDate()}catch(t){throw t instanceof TypeError?new TypeError("Cannot convert object of type "+Ig(e)+" to type "+i):t}case"Moment":if(Dg(e))return h(e);if(e instanceof Date)return h(e.valueOf());if(h.isMoment(e))return h(e);if(Tg(e))return(t=oy.exec(e))?h(Number(t[1])):(t=ry.exec(e))?h(Number(e)):h(e);throw new TypeError("Cannot convert object of type "+Ig(e)+" to type "+i);case"ISODate":if(Dg(e))return new Date(e);if(e instanceof Date)return e.toISOString();if(h.isMoment(e))return e.toDate().toISOString();if(Tg(e))return(t=oy.exec(e))?new Date(Number(t[1])).toISOString():h(e).format();throw new Error("Cannot convert object of type "+Ig(e)+" to type ISODate");case"ASPDate":if(Dg(e))return"/Date("+e+")/";if(e instanceof Date||h.isMoment(e))return"/Date("+e.valueOf()+")/";if(Tg(e))return"/Date("+((t=oy.exec(e))?new Date(Number(t[1])):new Date(e)).valueOf()+")/";throw new Error("Cannot convert object of type "+Ig(e)+" to type ASPDate");default:throw new Error("Unknown type ".concat(i))}}}function ay(e,t){var i,n=1<arguments.length&&void 0!==t?t:{start:"Date",end:"Date"},o=e._idProp,r=new u.DataSet({fieldId:o}),s=Du(i=u.createNewDataPipeFrom(e)).call(i,function(i){var t;return Lu(t=Vu(i)).call(t,function(t,e){return t[e]=sy(i[e],n[e]),t},{})}).to(r);return s.all().start(),{add:function(){var t;return(t=e.getDataSet()).add.apply(t,arguments)},remove:function(){var t;return(t=e.getDataSet()).remove.apply(t,arguments)},update:function(){var t;return(t=e.getDataSet()).update.apply(t,arguments)},updateOnly:function(){var t;return(t=e.getDataSet()).updateOnly.apply(t,arguments)},clear:function(){var t;return(t=e.getDataSet()).clear.apply(t,arguments)},forEach:p(i=k(r)).call(i,r),get:p(i=r.get).call(i,r),getIds:p(i=r.getIds).call(i,r),off:p(i=r.off).call(i,r),on:p(i=r.on).call(i,r),get length(){return r.length},idProp:o,type:n,rawDS:e,coercedDS:r,dispose:function(){return s.stop()}}}function ly(t){var e=new Kv.FilterXSS(t);return function(t){return e.process(t)}}function hy(t){return t}var uy=ly(),x=iy(iy({},Ci),{},{convert:sy,setupXSSProtection:function(t){t&&(!0===t.disabled?(uy=hy,console.warn("You disabled XSS protection for vis-Timeline. I sure hope you know what you're doing!")):t.filterOptions&&(uy=ly(t.filterOptions)))}}),cy=(Xu(x,"xss",{get:function(){return uy}}),{}),Pi={get exports(){return cy},set exports(t){cy=t}},_o=c,X=m,is=Q,dy=Zn,py=jt.trim,my=is("".charAt),fy=_o.parseFloat,Zo=_o.Symbol,gy=Zo&&Zo.iterator,Ai=1/fy("\t\n\v\f\r Â áââââââââââââ¯âã\u2028\u2029\ufeff-0")!=-1/0||gy&&!X(function(){fy(Object(gy))})?function(t){var t=py(dy(t)),e=fy(t);return 0===e&&"-"==my(t,0)?-0:e}:fy;L({global:!0,forced:parseFloat!=Ai},{parseFloat:Ai});Pi.exports=J.parseFloat;var vy=t(cy),yy=function(){function i(t,e){Un(this,i),this.options=null,this.props=null}return Xl(i,[{key:"setOptions",value:function(t){t&&x.extend(this.options,t)}},{key:"redraw",value:function(){return!1}},{key:"destroy",value:function(){}},{key:"_isResized",value:function(){var t=this.props._previousWidth!==this.props.width||this.props._previousHeight!==this.props.height;return this.props._previousWidth=this.props.width,this.props._previousHeight=this.props.height,t}}]),i}(),by={},os={get exports(){return by},set exports(t){by=t}},wy=H,ky=Zn,xy=b,_y=RangeError;L({target:"String",proto:!0},{repeat:function(t){var e=ky(xy(this)),i="",n=wy(t);if(n<0||n==1/0)throw _y("Wrong number of repetitions");for(;0<n;(n>>>=1)&&(e+=e))1&n&&(i+=e);return i}});function Cy(t,e){var u=t.length,c=Iy(u/2);if(u<8){for(var i,n,o=t,d=e,p=o.length,r=1;r<p;){for(i=o[n=r];n&&0<d(o[n-1],i);)o[n]=o[--n];n!==r++&&(o[n]=i)}return o}for(var m=t,s=Cy(Ay(t,0,c),e),a=Cy(Ay(t,c),e),f=e,g=s.length,v=a.length,l=0,h=0;l<g||h<v;)m[l+h]=l<g&&h<v?f(s[l],a[h])<=0?s[l++]:a[h++]:l<g?s[l++]:a[h++];return m}var ls=ih("String").repeat,Sy=Tt,Dy=ls,Ty=String.prototype,Oy=(os.exports=function(t){var e=t.repeat;return"string"==typeof t||t===Ty||Sy(Ty,t)&&e===Ty.repeat?Dy:e},t(by)),Ey={},a={get exports(){return Ey},set exports(t){Ey=t}},Ay=Qn,Iy=Math.floor,Dn=Cy,us=Ot.match(/firefox\/(\d+)/i),dt=!!us&&+us[1],K=/MSIE|Trident/.test(Ot),at=Ot.match(/AppleWebKit\/(\d+)\./),ms=!!at&&+at[1],rs=L,Mr=Q,Py=D,My=O,Ny=W,Fy=Td,Ry=Zn,xo=m,Ly=Dn,q=Mh,jy=dt,By=K,zy=At,Hy=ms,Gy=[],Wy=Mr(Gy.sort),Yy=Mr(Gy.push),ct=xo(function(){Gy.sort(void 0)}),Vr=xo(function(){Gy.sort(null)}),as=q("sort"),Vy=!xo(function(){if(zy)return zy<70;if(!(jy&&3<jy)){if(By)return!0;if(Hy)return Hy<603;for(var t,e,i,n="",o=65;o<76;o++){switch(t=String.fromCharCode(o),o){case 66:case 69:case 70:case 72:e=3;break;case 68:case 71:e=4;break;default:e=2}for(i=0;i<47;i++)Gy.push({k:t+i,v:e})}for(Gy.sort(function(t,e){return e.v-t.v}),i=0;i<Gy.length;i++)t=Gy[i].k.charAt(0),n.charAt(n.length-1)!==t&&(n+=t);return"DGBEFHACIJK"!==n}});rs({target:"Array",proto:!0,forced:ct||!Vr||!as||!Vy},{sort:function(t){void 0!==t&&Py(t);var e=My(this);if(Vy)return void 0===t?Wy(e):Wy(e,t);for(var i,n,o=[],r=Ny(e),s=0;s<r;s++)s in e&&Yy(o,e[s]);for(Ly(o,(n=t,function(t,e){return void 0===e?-1:void 0===t?1:void 0!==n?+n(t,e)||0:Ry(t)>Ry(e)?1:-1})),i=Ny(o),s=0;s<i;)e[s]=o[s++];for(;s<r;)Fy(e,s++);return e}});var dn=ih("Array").sort,Uy=Tt,Xy=dn,qy=Array.prototype,Ky=(a.exports=function(t){var e=t.sort;return t===qy||Uy(qy,t)&&e===qy.sort?Xy:e},t(Ey));function $y(t,e,i){if(i&&!_h(i))return $y(t,e,[i]);if(e.hiddenDates=[],i&&1==_h(i)){for(var n,o,r=0;r<i.length;r++)void 0===Oy(i[r])&&((o={}).start=t(i[r].start).toDate().valueOf(),o.end=t(i[r].end).toDate().valueOf(),e.hiddenDates.push(o));Ky(n=e.hiddenDates).call(n,function(t,e){return t.start-e.start})}}function Zy(t,e,i){if(i&&!_h(i))return Zy(t,e,[i]);if(i&&void 0!==e.domProps.centerContainer.width){$y(t,e,i);for(var n=t(e.range.start),u=t(e.range.end),c=(e.range.end-e.range.start)/e.domProps.centerContainer.width,o=0;o<i.length;o++)if(void 0!==Oy(i[o])){var r=t(i[o].start),s=t(i[o].end);if("Invalid Date"==r._d)throw new Error("Supplied start date is not valid: ".concat(i[o].start));if("Invalid Date"==s._d)throw new Error("Supplied end date is not valid: ".concat(i[o].end));if(4*c<=s-r){var a=0,l=u.clone();switch(Oy(i[o])){case"daily":r.day()!=s.day()&&(a=1),r.dayOfYear(n.dayOfYear()),r.year(n.year()),r.subtract(7,"days"),s.dayOfYear(n.dayOfYear()),s.year(n.year()),s.subtract(7-a,"days"),l.add(1,"weeks");break;case"weekly":var d=s.diff(r,"days"),p=r.day();r.date(n.date()),r.month(n.month()),r.year(n.year()),s=r.clone(),r.day(p),s.day(p),s.add(d,"days"),r.subtract(1,"weeks"),s.subtract(1,"weeks"),l.add(1,"weeks");break;case"monthly":r.month()!=s.month()&&(a=1),r.month(n.month()),r.year(n.year()),r.subtract(1,"months"),s.month(n.month()),s.year(n.year()),s.subtract(1,"months"),s.add(a,"months"),l.add(1,"months");break;case"yearly":r.year()!=s.year()&&(a=1),r.year(n.year()),r.subtract(1,"years"),s.year(n.year()),s.subtract(1,"years"),s.add(a,"years"),l.add(1,"years");break;default:return void console.log("Wrong repeat format, allowed are: daily, weekly, monthly, yearly. Given:",Oy(i[o]))}for(;r<l;)switch(e.hiddenDates.push({start:r.valueOf(),end:s.valueOf()}),Oy(i[o])){case"daily":r.add(1,"days"),s.add(1,"days");break;case"weekly":r.add(1,"weeks"),s.add(1,"weeks");break;case"monthly":r.add(1,"months"),s.add(1,"months");break;case"yearly":r.add(1,"y"),s.add(1,"y");break;default:return void console.log("Wrong repeat format, allowed are: daily, weekly, monthly, yearly. Given:",Oy(i[o]))}e.hiddenDates.push({start:r.valueOf(),end:s.valueOf()})}}Qy(e);var h=lb(e.range.start,e.hiddenDates),m=lb(e.range.end,e.hiddenDates),f=e.range.start,g=e.range.end;1==h.hidden&&(f=1==e.range.startToFront?h.startDate-1:h.endDate+1),1==m.hidden&&(g=1==e.range.endToFront?m.startDate-1:m.endDate+1),1!=h.hidden&&1!=m.hidden||e.range._applyRange(f,g)}}function Qy(t){for(var e=t.hiddenDates,i=[],n=0;n<e.length;n++)for(var o=0;o<e.length;o++)n!=o&&1!=e[o].remove&&1!=e[n].remove&&(e[o].start>=e[n].start&&e[o].end<=e[n].end?e[o].remove=!0:e[o].start>=e[n].start&&e[o].start<=e[n].end?(e[n].end=e[o].end,e[o].remove=!0):e[o].end>=e[n].start&&e[o].end<=e[n].end&&(e[n].start=e[o].start,e[o].remove=!0));for(n=0;n<e.length;n++)!0!==e[n].remove&&i.push(e[n]);t.hiddenDates=i,Ky(t=t.hiddenDates).call(t,function(t,e){return t.start-e.start})}function Jy(t,e,i){for(var n=!1,o=e.current.valueOf(),r=0;r<e.hiddenDates.length;r++){var s=e.hiddenDates[r].start,a=e.hiddenDates[r].end;if(s<=o&&o<a){n=!0;break}}1==n&&o<e._end.valueOf()&&o!=i&&(i=t(i),t=t(a),i.year()!=t.year()?e.switchedYear=!0:i.month()!=t.month()?e.switchedMonth=!0:i.dayOfYear()!=t.dayOfYear()&&(e.switchedDay=!0),e.current=t)}function tb(t,e,i){var n,o,r;return 0==t.body.hiddenDates.length?(o=t.range.conversion(i),(e.valueOf()-o.offset)*o.scale):(1==(n=lb(e,t.body.hiddenDates)).hidden&&(e=n.startDate),n=ib(t.body.hiddenDates,t.range.start,t.range.end),e<t.range.start?(o=t.range.conversion(i,n),r=nb(t.body.hiddenDates,e,o.offset),e=t.options.moment(e).toDate().valueOf(),-(o.offset-(e+=r).valueOf())*o.scale):(o=(e=e>t.range.end?(r={start:t.range.start,end:e},ob(t.options.moment,t.body.hiddenDates,r,e)):ob(t.options.moment,t.body.hiddenDates,t.range,e),t.range.conversion(i,n)),(e.valueOf()-o.offset)*o.scale))}function eb(t,e,i){var n;return 0==t.body.hiddenDates.length?(n=t.range.conversion(i),new Date(e/n.scale+n.offset)):(n=ib(t.body.hiddenDates,t.range.start,t.range.end),n=(t.range.end-t.range.start-n)*e/i,e=sb(t.body.hiddenDates,t.range,n),new Date(e+n+t.range.start))}function ib(t,e,i){for(var n=0,o=0;o<t.length;o++){var r=t[o].start,s=t[o].end;e<=r&&s<i&&(n+=s-r)}return n}function nb(t,e,i){for(var n=0,o=0;o<t.length;o++){var r=t[o].start,s=t[o].end;e<=r&&s<=i&&(n+=s-r)}return n}function ob(t,e,i,n){return n=t(n).toDate().valueOf(),n-=rb(t,e,i,n)}function rb(t,e,i,n){var o=0;n=t(n).toDate().valueOf();for(var r=0;r<e.length;r++){var s=e[r].start,a=e[r].end;s>=i.start&&a<i.end&&a<=n&&(o+=a-s)}return o}function sb(t,e,i){for(var n=0,o=0,r=e.start,s=0;s<t.length;s++){var a=t[s].start,l=t[s].end;if(a>=e.start&&l<e.end){if(o+=a-r,r=l,i<=o)break;n+=l-a}}return n}function ab(t,e,i,n){t=lb(e,t);return 1==t.hidden?i<0?1==n?t.startDate-(t.endDate-e)-1:t.startDate-1:1==n?t.endDate+(e-t.startDate)+1:t.endDate+1:e}function lb(t,e){for(var i=0;i<e.length;i++){var n=e[i].start,o=e[i].end;if(n<=t&&t<o)return{hidden:!0,startDate:n,endDate:o}}return{hidden:!1,startDate:n,endDate:o}}hs=Object.freeze({__proto__:null,convertHiddenOptions:$y,correctTimeForHidden:ob,getAccumulatedHiddenDuration:sb,getHiddenDurationBefore:rb,getHiddenDurationBeforeStart:nb,getHiddenDurationBetween:ib,getIsHidden:lb,printDates:function(t){for(var e=0;e<t.length;e++)console.log(e,new Date(t[e].start),new Date(t[e].end),t[e].start,t[e].end,t[e].remove)},removeDuplicates:Qy,snapAwayFromHidden:ab,stepOverHiddenDates:Jy,toScreen:tb,toTime:eb,updateHiddenDates:Zy});function hb(i){var n=function(){if("undefined"==typeof Reflect||!o)return!1;if(o.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(o(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var t,e=wh(i);return mh(this,n?(t=wh(this).constructor,o(e,arguments,t)):e.apply(this,arguments))}}var ub=function(){ph(s,yy);var r=hb(s);function s(t,e){Un(this,s),i=r.call(this);var i,n=Yh().hours(0).minutes(0).seconds(0).milliseconds(0),o=n.clone().add(-3,"days").valueOf(),n=n.clone().add(3,"days").valueOf();return(i.millisecondsPerPixelCache=void 0)===e?(i.start=o,i.end=n):(i.start=e.start||o,i.end=e.end||n),i.rolling=!1,i.body=t,i.deltaDifference=0,i.scaleOffset=0,i.startToFront=!1,i.endToFront=!0,i.defaultOptions={rtl:!1,start:null,end:null,moment:Yh,direction:"horizontal",moveable:!0,zoomable:!0,min:null,max:null,zoomMin:10,zoomMax:31536e10,rollingMode:{follow:!1,offset:.5}},i.options=x.extend({},i.defaultOptions),i.props={touch:{}},i.animationTimer=null,i.body.emitter.on("panstart",p(o=i._onDragStart).call(o,ql(i))),i.body.emitter.on("panmove",p(n=i._onDrag).call(n,ql(i))),i.body.emitter.on("panend",p(t=i._onDragEnd).call(t,ql(i))),i.body.emitter.on("mousewheel",p(o=i._onMouseWheel).call(o,ql(i))),i.body.emitter.on("touch",p(n=i._onTouch).call(n,ql(i))),i.body.emitter.on("pinch",p(t=i._onPinch).call(t,ql(i))),i.body.dom.rollingModeBtn.addEventListener("click",p(o=i.startRolling).call(o,ql(i))),i.setOptions(e),i}return Xl(s,[{key:"setOptions",value:function(t){t&&(x.selectiveExtend(["animation","direction","min","max","zoomMin","zoomMax","moveable","zoomable","moment","activate","hiddenDates","zoomKey","zoomFriction","rtl","showCurrentTime","rollingMode","horizontalScroll"],this.options,t),t.rollingMode&&t.rollingMode.follow&&this.startRolling(),("start"in t||"end"in t)&&this.setRange(t.start,t.end))}},{key:"startRolling",value:function(){var o=this;!function t(){o.stopRolling(),o.rolling=!0;var e=o.end-o.start,i=x.convert(new Date,"Date").valueOf(),n=o.options.rollingMode&&o.options.rollingMode.offset||.5;o.setRange(i-e*n,i+e*(1-n),{animation:!1}),1e3<(e=(e=1/o.conversion(o.body.domProps.center.width).scale/10)<30?30:e)&&(e=1e3),o.body.dom.rollingModeBtn.style.visibility="hidden",o.currentTimeTimer=Nh(t,e)}()}},{key:"stopRolling",value:function(){void 0!==this.currentTimeTimer&&(clearTimeout(this.currentTimeTimer),this.rolling=!1,this.body.dom.rollingModeBtn.style.visibility="visible")}},{key:"setRange",value:function(t,e,o,r,s){!0!==(o=o||{}).byUser&&(o.byUser=!1);var a=this,l=null!=t?x.convert(t,"Date").valueOf():null,h=null!=e?x.convert(e,"Date").valueOf():null;if(this._cancelAnimation(),this.millisecondsPerPixelCache=void 0,o.animation){var d=this.start,p=this.end,m="object"===Hl(o.animation)&&"duration"in o.animation?o.animation.duration:500,t="object"===Hl(o.animation)&&"easingFunction"in o.animation?o.animation.easingFunction:"easeInOutQuad",f=x.easingFunctions[t];if(!f)throw new Error(fd(e="Unknown easing function ".concat(xm(t),". Choose from: ")).call(e,Vu(x.easingFunctions).join(", ")));var g=_d(),u=!1;return function t(){if(!a.props.touch.dragging){var e=_d()-g,i=f(e/m),e=m<e,n=(c=a._applyRange(e||null===l?l:d+(l-d)*i,e||null===h?h:p+(h-p)*i),Zy(a.options.moment,a.body,a.options.hiddenDates),u=u||c,{start:new Date(a.start),end:new Date(a.end),byUser:o.byUser,event:o.event});if(s&&s(i,c,e),c&&a.body.emitter.emit("rangechange",n),e){if(u&&(a.body.emitter.emit("rangechanged",n),r))return r()}else a.animationTimer=Nh(t,20)}}()}var c=this._applyRange(l,h);if(Zy(this.options.moment,this.body,this.options.hiddenDates),c){var i={start:new Date(this.start),end:new Date(this.end),byUser:o.byUser,event:o.event};if(this.body.emitter.emit("rangechange",i),clearTimeout(a.timeoutID),a.timeoutID=Nh(function(){a.body.emitter.emit("rangechanged",i)},200),r)return r()}}},{key:"getMillisecondsPerPixel",value:function(){return void 0===this.millisecondsPerPixelCache&&(this.millisecondsPerPixelCache=(this.end-this.start)/this.body.dom.center.clientWidth),this.millisecondsPerPixelCache}},{key:"_cancelAnimation",value:function(){this.animationTimer&&(clearTimeout(this.animationTimer),this.animationTimer=null)}},{key:"_applyRange",value:function(t,e){var i,n=null!=t?x.convert(t,"Date").valueOf():this.start,o=null!=e?x.convert(e,"Date").valueOf():this.end,r=null!=this.options.max?x.convert(this.options.max,"Date").valueOf():null,s=null!=this.options.min?x.convert(this.options.min,"Date").valueOf():null;if(isNaN(n)||null===n)throw new Error('Invalid start "'.concat(t,'"'));if(isNaN(o)||null===o)throw new Error('Invalid end "'.concat(e,'"'));o<n&&(o=n),null!==s&&n<s&&(n+=i=s-n,o+=i,null!=r&&r<o&&(o=r)),null!==r&&r<o&&(n-=i=o-r,o-=i,null!=s&&n<s&&(n=s)),null===this.options.zoomMin||o-n<(t=(t=vy(this.options.zoomMin))<0?0:t)&&(this.end-this.start===t&&n>=this.start-.5&&o<=this.end?(n=this.start,o=this.end):(n-=(i=t-(o-n))/2,o+=i/2)),null===this.options.zoomMax||(e=(e=vy(this.options.zoomMax))<0?0:e)<o-n&&(this.end-this.start===e&&n<this.start&&o>this.end?(n=this.start,o=this.end):(n+=(i=o-n-e)/2,o-=i/2));r=this.start!=n||this.end!=o;return n>=this.start&&n<=this.end||o>=this.start&&o<=this.end||this.start>=n&&this.start<=o||this.end>=n&&this.end<=o||this.body.emitter.emit("checkRangedItems"),this.start=n,this.end=o,r}},{key:"getRange",value:function(){return{start:this.start,end:this.end}}},{key:"conversion",value:function(t,e){return s.conversion(this.start,this.end,t,e)}},{key:"_onDragStart",value:function(t){this.deltaDifference=0,this.previousDelta=0,this.options.moveable&&this._isInsideRange(t)&&this.props.touch.allowDragging&&(this.stopRolling(),this.props.touch.start=this.start,this.props.touch.end=this.end,this.props.touch.dragging=!0,this.body.dom.root&&(this.body.dom.root.style.cursor="move"))}},{key:"_onDrag",value:function(t){if(t&&this.props.touch.dragging&&this.options.moveable&&this.props.touch.allowDragging){var e=this.options.direction,i=(cb(e),"horizontal"==e?t.deltaX:t.deltaY),n=(i-=this.deltaDifference,this.props.touch.end-this.props.touch.start),e=(n-=ib(this.body.hiddenDates,this.start,this.end),"horizontal"==e?this.body.domProps.center.width:this.body.domProps.center.height),e=this.options.rtl?i/e*n:-i/e*n,n=this.props.touch.start+e,e=this.props.touch.end+e,o=ab(this.body.hiddenDates,n,this.previousDelta-i,!0),r=ab(this.body.hiddenDates,e,this.previousDelta-i,!0);if(o!=n||r!=e)return this.deltaDifference+=i,this.props.touch.start=o,this.props.touch.end=r,void this._onDrag(t);this.previousDelta=i,this._applyRange(n,e);o=new Date(this.start),r=new Date(this.end);this.body.emitter.emit("rangechange",{start:o,end:r,byUser:!0,event:t}),this.body.emitter.emit("panmove")}}},{key:"_onDragEnd",value:function(t){this.props.touch.dragging&&this.options.moveable&&this.props.touch.allowDragging&&(this.props.touch.dragging=!1,this.body.dom.root&&(this.body.dom.root.style.cursor="auto"),this.body.emitter.emit("rangechanged",{start:new Date(this.start),end:new Date(this.end),byUser:!0,event:t}))}},{key:"_onMouseWheel",value:function(t){var e,i,n=0;t.wheelDelta?n=t.wheelDelta/120:t.detail?n=-t.detail/3:t.deltaY&&(n=-t.deltaY/3),this.options.zoomKey&&!t[this.options.zoomKey]&&this.options.zoomable||!this.options.zoomable&&this.options.moveable||this.options.zoomable&&this.options.moveable&&this._isInsideRange(t)&&n&&(i=this.options.zoomFriction||5,i=n<0?1-n/i:1/(1+n/i),e=this.rolling?(e=this.options.rollingMode&&this.options.rollingMode.offset||.5,this.start+(this.end-this.start)*e):(e=this.getPointer({x:t.clientX,y:t.clientY},this.body.dom.center),this._pointerToDate(e)),this.zoom(i,e,n,t),t.preventDefault())}},{key:"_onTouch",value:function(t){this.props.touch.start=this.start,this.props.touch.end=this.end,this.props.touch.allowDragging=!0,this.props.touch.center=null,this.props.touch.centerDate=null,this.scaleOffset=0,this.deltaDifference=0,x.preventDefault(t)}},{key:"_onPinch",value:function(t){var e,i,n,o,r;this.options.zoomable&&this.options.moveable&&(x.preventDefault(t),this.props.touch.allowDragging=!1,this.props.touch.center||(this.props.touch.center=this.getPointer(t.center,this.body.dom.center),this.props.touch.centerDate=this._pointerToDate(this.props.touch.center)),this.stopRolling(),e=1/(t.scale+this.scaleOffset),o=this.props.touch.centerDate,r=ib(this.body.hiddenDates,this.start,this.end),i=o-(n=rb(this.options.moment,this.body.hiddenDates,this,o))+(this.props.touch.start-(o-n))*e,n=o+(r=r-n)+(this.props.touch.end-(o+r))*e,this.startToFront=1-e<=0,this.endToFront=e-1<=0,o=ab(this.body.hiddenDates,i,1-e,!0),r=ab(this.body.hiddenDates,n,e-1,!0),o==i&&r==n||(this.props.touch.start=o,this.props.touch.end=r,this.scaleOffset=1-t.scale,i=o,n=r),this.setRange(i,n,{animation:!1,byUser:!0,event:t}),this.startToFront=!1,this.endToFront=!0)}},{key:"_isInsideRange",value:function(t){var t=t.center?t.center.x:t.clientX,e=this.body.dom.centerContainer.getBoundingClientRect(),e=this.options.rtl?t-e.left:e.right-t,t=this.body.util.toTime(e);return t>=this.start&&t<=this.end}},{key:"_pointerToDate",value:function(t){var e=this.options.direction;return cb(e),"horizontal"==e?this.body.util.toTime(t.x).valueOf():(e=this.body.domProps.center.height,e=this.conversion(e),t.y/e.scale+e.offset)}},{key:"getPointer",value:function(t,e){e=e.getBoundingClientRect();return this.options.rtl?{x:e.right-t.x,y:t.y-e.top}:{x:t.x-e.left,y:t.y-e.top}}},{key:"zoom",value:function(t,e,i,n){null==e&&(e=(this.start+this.end)/2);var o=ib(this.body.hiddenDates,this.start,this.end),r=rb(this.options.moment,this.body.hiddenDates,this,e),o=o-r,r=e-r+(this.start-(e-r))*t,e=e+o+(this.end-(e+o))*t,o=(this.startToFront=!(0<i),this.endToFront=!(0<-i),ab(this.body.hiddenDates,r,i,!0)),t=ab(this.body.hiddenDates,e,-i,!0),i=(o==r&&t==e||(r=o,e=t),{animation:!1,byUser:!0,event:n});this.setRange(r,e,i),this.startToFront=!1,this.endToFront=!0}},{key:"move",value:function(t){var e=this.end-this.start,i=this.start+e*t,e=this.end+e*t;this.start=i,this.end=e}},{key:"moveTo",value:function(t){var t=(this.start+this.end)/2-t,e=this.start-t,t=this.end-t;this.setRange(e,t,{animation:!1,byUser:!0,event:null})}}],[{key:"conversion",value:function(t,e,i,n){return void 0===n&&(n=0),0!=i&&e-t!=0?{offset:t,scale:i/(e-t-n)}:{offset:0,scale:1}}}]),s}();function cb(t){if("horizontal"!=t&&"vertical"!=t)throw new TypeError('Unknown direction "'.concat(t,'". Choose "horizontal" or "vertical".'))}var db={},Ur={get exports(){return db},set exports(t){db=t}},r=L,pb=$o.some;r({target:"Array",proto:!0,forced:!Mh("some")},{some:function(t){return pb(this,t,1<arguments.length?arguments[1]:void 0)}});var Oc=ih("Array").some,mb=Tt,fb=Oc,gb=Array.prototype,vb=(Ur.exports=function(t){var e=t.some;return t===gb||mb(gb,t)&&e===gb.some?fb:e},t(db)),yb={},fi={get exports(){return yb},set exports(t){yb=t}},bb=(fi.exports=J.setInterval,t(yb)),wb=null;var kb="undefined"!=typeof window?function n(o,t){var r,s=t||{preventDefault:!1};if(o.Manager)return(r=o).assign(t=function(t,e){var i=Object.create(s);return e&&r.assign(i,e),n(new r(t,i),i)},r),t.Manager=function(t,e){var i=Object.create(s);return e&&r.assign(i,e),n(new r.Manager(t,i),i)},t;var a=Object.create(o),t=o.element;function e(t){return t.match(/[^ ]+/g)}function l(t){if("hammer.input"!==t.type){if(t.srcEvent._handled||(t.srcEvent._handled={}),t.srcEvent._handled[t.type])return;t.srcEvent._handled[t.type]=!0}for(var e=!1,i=(t.stopPropagation=function(){e=!0},t.srcEvent.stopPropagation.bind(t.srcEvent)),n=("function"==typeof i&&(t.srcEvent.stopPropagation=function(){i(),t.stopPropagation()}),t.firstTarget=wb);n&&!e;){var o=n.hammer;if(o)for(var r,s=0;s<o.length;s++)if(r=o[s]._handlers[t.type])for(var a=0;a<r.length&&!e;a++)r[a](t);n=n.parentNode}}return t.hammer||(t.hammer=[]),t.hammer.push(a),o.on("hammer.input",function(t){!0!==s.preventDefault&&s.preventDefault!==t.pointerType||t.preventDefault(),t.isFirst&&(wb=t.target)}),a._handlers={},a.on=function(t,i){return e(t).forEach(function(t){var e=a._handlers[t];e||(a._handlers[t]=e=[],o.on(t,l)),e.push(i)}),a},a.off=function(t,i){return e(t).forEach(function(t){var e=a._handlers[t];e&&(0<(e=i?e.filter(function(t){return t!==i}):[]).length?a._handlers[t]=e:(o.off(t,l),delete a._handlers[t]))}),a},a.emit=function(t,e){wb=e.target,o.emit(t,e)},a.destroy=function(){var t=o.element.hammer,e=t.indexOf(a);-1!==e&&t.splice(e,1),t.length||delete o.element.hammer,a._handlers={},o.destroy()},a}(window.Hammer||Qt,{preventDefault:"mouse"}):function(){return{on:e,off:e,destroy:e,emit:e,get:function(t){return{set:e}}};function e(){}};function xb(t,e){e.inputHandler=function(t){t.isFirst&&e(t)},t.on("hammer.input",e.inputHandler)}var _b=function(){function r(t,e,i,n,o){Un(this,r),this.moment=o&&o.moment||Yh,this.options=o||{},this.current=this.moment(),this._start=this.moment(),this._end=this.moment(),this.autoScale=!0,this.scale="day",this.step=1,this.setRange(t,e,i),this.switchedDay=!1,this.switchedMonth=!1,this.switchedYear=!1,_h(n)?this.hiddenDates=n:this.hiddenDates=null!=n?[n]:[],this.format=r.FORMAT}return Xl(r,[{key:"setMoment",value:function(t){this.moment=t,this.current=this.moment(this.current.valueOf()),this._start=this.moment(this._start.valueOf()),this._end=this.moment(this._end.valueOf())}},{key:"setFormat",value:function(t){var e=x.deepExtend({},r.FORMAT);this.format=x.deepExtend(e,t)}},{key:"setRange",value:function(t,e,i){if(!(t instanceof Date&&e instanceof Date))throw"No legal start or end date in method setRange";this._start=null!=t?this.moment(t.valueOf()):_d(),this._end=null!=e?this.moment(e.valueOf()):_d(),this.autoScale&&this.setMinimumStep(i)}},{key:"start",value:function(){this.current=this._start.clone(),this.roundToMinor()}},{key:"roundToMinor",value:function(){switch("week"==this.scale&&this.current.weekday(0),this.scale){case"year":this.current.year(this.step*Math.floor(this.current.year()/this.step)),this.current.month(0);case"month":this.current.date(1);case"week":case"day":case"weekday":this.current.hours(0);case"hour":this.current.minutes(0);case"minute":this.current.seconds(0);case"second":this.current.milliseconds(0)}if(1!=this.step){var t=this.current.clone();switch(this.scale){case"millisecond":this.current.subtract(this.current.milliseconds()%this.step,"milliseconds");break;case"second":this.current.subtract(this.current.seconds()%this.step,"seconds");break;case"minute":this.current.subtract(this.current.minutes()%this.step,"minutes");break;case"hour":this.current.subtract(this.current.hours()%this.step,"hours");break;case"weekday":case"day":this.current.subtract((this.current.date()-1)%this.step,"day");break;case"week":this.current.subtract(this.current.week()%this.step,"week");break;case"month":this.current.subtract(this.current.month()%this.step,"month");break;case"year":this.current.subtract(this.current.year()%this.step,"year")}t.isSame(this.current)||(this.current=this.moment(ab(this.hiddenDates,this.current.valueOf(),-1,!0)))}}},{key:"hasNext",value:function(){return this.current.valueOf()<=this._end.valueOf()}},{key:"next",value:function(){var t,e=this.current.valueOf();switch(this.scale){case"millisecond":this.current.add(this.step,"millisecond");break;case"second":this.current.add(this.step,"second");break;case"minute":this.current.add(this.step,"minute");break;case"hour":this.current.add(this.step,"hour"),this.current.month()<6?this.current.subtract(this.current.hours()%this.step,"hour"):this.current.hours()%this.step!=0&&this.current.add(this.step-this.current.hours()%this.step,"hour");break;case"weekday":case"day":this.current.add(this.step,"day");break;case"week":0!==this.current.weekday()?(this.current.weekday(0),this.current.add(this.step,"week")):!1===this.options.showMajorLabels?this.current.add(this.step,"week"):((t=this.current.clone()).add(1,"week"),t.isSame(this.current,"month")?this.current.add(this.step,"week"):(this.current.add(this.step,"week"),this.current.date(1)));break;case"month":this.current.add(this.step,"month");break;case"year":this.current.add(this.step,"year")}if(1!=this.step)switch(this.scale){case"millisecond":0<this.current.milliseconds()&&this.current.milliseconds()<this.step&&this.current.milliseconds(0);break;case"second":0<this.current.seconds()&&this.current.seconds()<this.step&&this.current.seconds(0);break;case"minute":0<this.current.minutes()&&this.current.minutes()<this.step&&this.current.minutes(0);break;case"hour":0<this.current.hours()&&this.current.hours()<this.step&&this.current.hours(0);break;case"weekday":case"day":this.current.date()<this.step+1&&this.current.date(1);break;case"week":this.current.week()<this.step&&this.current.week(1);break;case"month":this.current.month()<this.step&&this.current.month(0)}this.current.valueOf()==e&&(this.current=this._end.clone()),this.switchedDay=!1,this.switchedMonth=!1,this.switchedYear=!1,Jy(this.moment,this,e)}},{key:"getCurrent",value:function(){return this.current.clone()}},{key:"setScale",value:function(t){t&&"string"==typeof t.scale&&(this.scale=t.scale,this.step=0<t.step?t.step:1,this.autoScale=!1)}},{key:"setAutoScale",value:function(t){this.autoScale=t}},{key:"setMinimumStep",value:function(t){var e;null!=t&&(e=31104e6,t<31104e9&&(this.scale="year",this.step=1e3),t<15552e9&&(this.scale="year",this.step=500),t<31104e8&&(this.scale="year",this.step=100),t<50*e&&(this.scale="year",this.step=50),t<10*e&&(this.scale="year",this.step=10),t<5*e&&(this.scale="year",this.step=5),t<e&&(this.scale="year",this.step=1),t<7776e6&&(this.scale="month",this.step=3),t<2592e6&&(this.scale="month",this.step=1),t<6048e5&&this.options.showWeekScale&&(this.scale="week",this.step=1),t<1728e5&&(this.scale="day",this.step=2),t<864e5&&(this.scale="day",this.step=1),t<432e5&&(this.scale="weekday",this.step=1),t<144e5&&(this.scale="hour",this.step=4),t<36e5&&(this.scale="hour",this.step=1),t<9e5&&(this.scale="minute",this.step=15),t<6e5&&(this.scale="minute",this.step=10),t<3e5&&(this.scale="minute",this.step=5),t<6e4&&(this.scale="minute",this.step=1),t<15e3&&(this.scale="second",this.step=15),t<1e4&&(this.scale="second",this.step=10),t<5e3&&(this.scale="second",this.step=5),t<1e3&&(this.scale="second",this.step=1),t<200&&(this.scale="millisecond",this.step=200),t<100&&(this.scale="millisecond",this.step=100),t<50&&(this.scale="millisecond",this.step=50),t<10&&(this.scale="millisecond",this.step=10),t<5&&(this.scale="millisecond",this.step=5),t<1&&(this.scale="millisecond",this.step=1))}},{key:"isMajor",value:function(){if(1==this.switchedYear)switch(this.scale){case"year":case"month":case"week":case"weekday":case"day":case"hour":case"minute":case"second":case"millisecond":return!0;default:return!1}else if(1==this.switchedMonth)switch(this.scale){case"week":case"weekday":case"day":case"hour":case"minute":case"second":case"millisecond":return!0;default:return!1}else if(1==this.switchedDay)switch(this.scale){case"millisecond":case"second":case"minute":case"hour":return!0;default:return!1}var t=this.moment(this.current);switch(this.scale){case"millisecond":return 0==t.milliseconds();case"second":return 0==t.seconds();case"minute":return 0==t.hours()&&0==t.minutes();case"hour":return 0==t.hours();case"weekday":case"day":return this.options.showWeekScale?1==t.isoWeekday():1==t.date();case"week":return 1==t.date();case"month":return 0==t.month();default:return!1}}},{key:"getLabelMinor",value:function(t){if((t=null==t?this.current:t)instanceof Date&&(t=this.moment(t)),"function"==typeof this.format.minorLabels)return this.format.minorLabels(t,this.scale,this.step);var e=this.format.minorLabels[this.scale];return("week"!==this.scale||1!==t.date()||0===t.weekday())&&e&&0<e.length?this.moment(t).format(e):""}},{key:"getLabelMajor",value:function(t){if((t=null==t?this.current:t)instanceof Date&&(t=this.moment(t)),"function"==typeof this.format.majorLabels)return this.format.majorLabels(t,this.scale,this.step);var e=this.format.majorLabels[this.scale];return e&&0<e.length?this.moment(t).format(e):""}},{key:"getClassName",value:function(){var t,e=this.moment,i=this.moment(this.current),n=i.locale?i.locale("en"):i.lang("en"),o=this.step,r=[];function s(t){return t/o%2==0?" vis-even":" vis-odd"}function a(t){return t.isSame(_d(),"day")?" vis-today":t.isSame(e().add(1,"day"),"day")?" vis-tomorrow":t.isSame(e().add(-1,"day"),"day")?" vis-yesterday":""}function l(t){return t.isSame(_d(),"week")?" vis-current-week":""}function h(t){return t.isSame(_d(),"month")?" vis-current-month":""}switch(this.scale){case"millisecond":r.push(a(n)),r.push(s(n.milliseconds()));break;case"second":r.push(a(n)),r.push(s(n.seconds()));break;case"minute":r.push(a(n)),r.push(s(n.minutes()));break;case"hour":r.push(fd(t="vis-h".concat(n.hours())).call(t,4==this.step?"-h"+(n.hours()+4):"")),r.push(a(n)),r.push(s(n.hours()));break;case"weekday":r.push("vis-".concat(n.format("dddd").toLowerCase())),r.push(a(n)),r.push(l(n)),r.push(s(n.date()));break;case"day":r.push("vis-day".concat(n.date())),r.push("vis-".concat(n.format("MMMM").toLowerCase())),r.push(a(n)),r.push(h(n)),r.push(this.step<=2?a(n):""),r.push(this.step<=2?"vis-".concat(n.format("dddd").toLowerCase()):""),r.push(s(n.date()-1));break;case"week":r.push("vis-week".concat(n.format("w"))),r.push(l(n)),r.push(s(n.week()));break;case"month":r.push("vis-".concat(n.format("MMMM").toLowerCase())),r.push(h(n)),r.push(s(n.month()));break;case"year":r.push("vis-year".concat(n.year())),r.push(n.isSame(_d(),"year")?" vis-current-year":""),r.push(s(n.year()))}return Qh(r).call(r,String).join(" ")}}],[{key:"snap",value:function(t,e,i){var n=Yh(t);if("year"==e){var t=n.year()+Math.round(n.month()/12);n.year(Math.round(t/i)*i),n.month(0),n.date(0),n.hours(0),n.minutes(0),n.seconds(0),n.milliseconds(0)}else if("month"==e)15<n.date()?(n.date(1),n.add(1,"month")):n.date(1),n.hours(0),n.minutes(0),n.seconds(0),n.milliseconds(0);else if("week"==e)2<n.weekday()?(n.weekday(0),n.add(1,"week")):n.weekday(0),n.hours(0),n.minutes(0),n.seconds(0),n.milliseconds(0);else if("day"==e){switch(i){case 5:case 2:n.hours(24*Math.round(n.hours()/24));break;default:n.hours(12*Math.round(n.hours()/12))}n.minutes(0),n.seconds(0),n.milliseconds(0)}else if("weekday"==e){switch(i){case 5:case 2:n.hours(12*Math.round(n.hours()/12));break;default:n.hours(6*Math.round(n.hours()/6))}n.minutes(0),n.seconds(0),n.milliseconds(0)}else if("hour"==e)4===i?n.minutes(60*Math.round(n.minutes()/60)):n.minutes(30*Math.round(n.minutes()/30)),n.seconds(0),n.milliseconds(0);else if("minute"==e){switch(i){case 15:case 10:n.minutes(5*Math.round(n.minutes()/5)),n.seconds(0);break;case 5:n.seconds(60*Math.round(n.seconds()/60));break;default:n.seconds(30*Math.round(n.seconds()/30))}n.milliseconds(0)}else if("second"==e)switch(i){case 15:case 10:n.seconds(5*Math.round(n.seconds()/5)),n.milliseconds(0);break;case 5:n.milliseconds(1e3*Math.round(n.milliseconds()/1e3));break;default:n.milliseconds(500*Math.round(n.milliseconds()/500))}else"millisecond"==e&&(t=5<i?i/2:1,n.milliseconds(Math.round(n.milliseconds()/t)*t));return n}}]),r}();function Cb(i){var n=function(){if("undefined"==typeof Reflect||!o)return!1;if(o.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(o(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var t,e=wh(i);return mh(this,n?(t=wh(this).constructor,o(e,arguments,t)):e.apply(this,arguments))}}_b.FORMAT={minorLabels:{millisecond:"SSS",second:"s",minute:"HH:mm",hour:"HH:mm",weekday:"ddd D",day:"D",week:"w",month:"MMM",year:"YYYY"},majorLabels:{millisecond:"HH:mm:ss",second:"D MMMM HH:mm",minute:"ddd D MMMM",hour:"ddd D MMMM",weekday:"MMMM YYYY",day:"MMMM YYYY",week:"MMMM YYYY",month:"YYYY",year:""}};var Sb=function(){ph(o,yy);var n=Cb(o);function o(t,e){var i;return Un(this,o),(i=n.call(this)).dom={foreground:null,lines:[],majorTexts:[],minorTexts:[],redundant:{lines:[],majorTexts:[],minorTexts:[]}},i.props={range:{start:0,end:0,minimumStep:0},lineTop:0},i.defaultOptions={orientation:{axis:"bottom"},showMinorLabels:!0,showMajorLabels:!0,showWeekScale:!1,maxMinorChars:7,format:x.extend({},_b.FORMAT),moment:Yh,timeAxis:null},i.options=x.extend({},i.defaultOptions),i.body=t,i._create(),i.setOptions(e),i}return Xl(o,[{key:"setOptions",value:function(t){t&&(x.selectiveExtend(["showMinorLabels","showMajorLabels","showWeekScale","maxMinorChars","hiddenDates","timeAxis","moment","rtl"],this.options,t),x.selectiveDeepExtend(["format"],this.options,t),"orientation"in t&&("string"==typeof t.orientation?this.options.orientation.axis=t.orientation:"object"===Hl(t.orientation)&&"axis"in t.orientation&&(this.options.orientation.axis=t.orientation.axis)),"locale"in t&&("function"==typeof Yh.locale?Yh.locale(t.locale):Yh.lang(t.locale)))}},{key:"_create",value:function(){this.dom.foreground=document.createElement("div"),this.dom.background=document.createElement("div"),this.dom.foreground.className="vis-time-axis vis-foreground",this.dom.background.className="vis-time-axis vis-background"}},{key:"destroy",value:function(){this.dom.foreground.parentNode&&this.dom.foreground.parentNode.removeChild(this.dom.foreground),this.dom.background.parentNode&&this.dom.background.parentNode.removeChild(this.dom.background),this.body=null}},{key:"redraw",value:function(){var t=this.props,e=this.dom.foreground,i=this.dom.background,n="top"==this.options.orientation.axis?this.body.dom.top:this.body.dom.bottom,o=e.parentNode!==n,r=(this._calculateCharSize(),this.options.showMinorLabels&&"none"!==this.options.orientation.axis),s=this.options.showMajorLabels&&"none"!==this.options.orientation.axis,r=(t.minorLabelHeight=r?t.minorCharHeight:0,t.majorLabelHeight=s?t.majorCharHeight:0,t.height=t.minorLabelHeight+t.majorLabelHeight,t.width=e.offsetWidth,t.minorLineHeight=this.body.domProps.root.height-t.majorLabelHeight-("top"==this.options.orientation.axis?this.body.domProps.bottom:this.body.domProps.top).height,t.minorLineWidth=1,t.majorLineHeight=t.minorLineHeight+t.majorLabelHeight,t.majorLineWidth=1,e.nextSibling),s=i.nextSibling;return e.parentNode&&e.parentNode.removeChild(e),i.parentNode&&i.parentNode.removeChild(i),e.style.height="".concat(this.props.height,"px"),this._repaintLabels(),r?n.insertBefore(e,r):n.appendChild(e),s?this.body.dom.backgroundVertical.insertBefore(i,s):this.body.dom.backgroundVertical.appendChild(i),this._isResized()||o}},{key:"_repaintLabels",value:function(){var u,t,e,c,d,i,n,o,r=this.options.orientation.axis,s=x.convert(this.body.range.start,"Number"),p=x.convert(this.body.range.end,"Number"),a=this.body.util.toTime((this.props.minorCharWidth||10)*this.options.maxMinorChars).valueOf(),a=a-rb(this.options.moment,this.body.hiddenDates,this.body.range,a),l=(a-=this.body.util.toTime(0).valueOf(),new _b(new Date(s),new Date(p),a,this.body.hiddenDates,this.options)),s=(l.setMoment(this.options.moment),this.options.format&&l.setFormat(this.options.format),this.options.timeAxis&&l.setScale(this.options.timeAxis),this.step=l,this.dom),h=(s.redundant.lines=s.lines,s.redundant.majorTexts=s.majorTexts,s.redundant.minorTexts=s.minorTexts,s.lines=[],s.majorTexts=[],s.minorTexts=[],0),m=void 0,f=0;for(l.start(),t=l.getCurrent(),c=this.body.util.toScreen(t);l.hasNext()&&f<1e3;)f++,d=l.isMajor(),o=l.getClassName(),u=t,e=c,l.next(),t=l.getCurrent(),i=h,h=(c=this.body.util.toScreen(t))-e,i="week"===l.scale||.4*i<=h,this.options.showMinorLabels&&i&&(this._repaintMinorText(e,l.getLabelMinor(u),r,o).style.width="".concat(h,"px")),d&&this.options.showMajorLabels?(0<e&&(null==m&&(m=e),this._repaintMajorText(e,l.getLabelMajor(u),r,o)),n=this._repaintMajorLine(e,h,r,o)):i?n=this._repaintMinorLine(e,h,r,o):n&&(n.style.width="".concat(Jp(n.style.width)+h,"px"));1e3!==f||Db||(console.warn("Something is wrong with the Timeline scale. Limited drawing of grid lines to ".concat(1e3," lines.")),Db=!0),this.options.showMajorLabels&&(p=this.body.util.toTime(0),s=(a=l.getLabelMajor(p)).length*(this.props.majorCharWidth||10)+10,(null==m||s<m)&&this._repaintMajorText(0,a,r,o)),k(x).call(x,this.dom.redundant,function(t){for(;t.length;){var e=t.pop();e&&e.parentNode&&e.parentNode.removeChild(e)}})}},{key:"_repaintMinorText",value:function(t,e,i,n){var o=this.dom.redundant.minorTexts.shift(),r=(o||(r=document.createTextNode(""),(o=document.createElement("div")).appendChild(r),this.dom.foreground.appendChild(o)),this.dom.minorTexts.push(o),o.innerHTML=x.xss(e),"top"==i?this.props.majorLabelHeight:0);return this._setXY(o,t,r),o.className="vis-text vis-minor ".concat(n),o}},{key:"_repaintMajorText",value:function(t,e,i,n){var o=this.dom.redundant.majorTexts.shift(),r=(o||(r=document.createElement("div"),(o=document.createElement("div")).appendChild(r),this.dom.foreground.appendChild(o)),o.childNodes[0].innerHTML=x.xss(e),o.className="vis-text vis-major ".concat(n),"top"==i?0:this.props.minorLabelHeight);return this._setXY(o,t,r),this.dom.majorTexts.push(o),o}},{key:"_setXY",value:function(t,e,i){e=this.options.rtl?-1*e:e;t.style.transform=fd(t="translate(".concat(e,"px, ")).call(t,i,"px)")}},{key:"_repaintMinorLine",value:function(t,e,i,n){var o=this.dom.redundant.lines.shift(),r=(o||(o=document.createElement("div"),this.dom.background.appendChild(o)),this.dom.lines.push(o),this.props),e=(o.style.width="".concat(e,"px"),o.style.height="".concat(r.minorLineHeight,"px"),"top"==i?r.majorLabelHeight:this.body.domProps.top.height),i=t-r.minorLineWidth/2;return this._setXY(o,i,e),o.className=fd(t="vis-grid ".concat(this.options.rtl?"vis-vertical-rtl":"vis-vertical"," vis-minor ")).call(t,n),o}},{key:"_repaintMajorLine",value:function(t,e,i,n){var o=this.dom.redundant.lines.shift(),r=(o||(o=document.createElement("div"),this.dom.background.appendChild(o)),this.dom.lines.push(o),this.props),e=(o.style.width="".concat(e,"px"),o.style.height="".concat(r.majorLineHeight,"px"),"top"==i?0:this.body.domProps.top.height),i=t-r.majorLineWidth/2;return this._setXY(o,i,e),o.className=fd(t="vis-grid ".concat(this.options.rtl?"vis-vertical-rtl":"vis-vertical"," vis-major ")).call(t,n),o}},{key:"_calculateCharSize",value:function(){this.dom.measureCharMinor||(this.dom.measureCharMinor=document.createElement("DIV"),this.dom.measureCharMinor.className="vis-text vis-minor vis-measure",this.dom.measureCharMinor.style.position="absolute",this.dom.measureCharMinor.appendChild(document.createTextNode("0")),this.dom.foreground.appendChild(this.dom.measureCharMinor)),this.props.minorCharHeight=this.dom.measureCharMinor.clientHeight,this.props.minorCharWidth=this.dom.measureCharMinor.clientWidth,this.dom.measureCharMajor||(this.dom.measureCharMajor=document.createElement("DIV"),this.dom.measureCharMajor.className="vis-text vis-major vis-measure",this.dom.measureCharMajor.style.position="absolute",this.dom.measureCharMajor.appendChild(document.createTextNode("0")),this.dom.foreground.appendChild(this.dom.measureCharMajor)),this.props.majorCharHeight=this.dom.measureCharMajor.clientHeight,this.props.majorCharWidth=this.dom.measureCharMajor.clientWidth}}]),o}(),Db=!1;function Tb(t){for(var o=t&&t.preventDefault||!1,e=t&&t.container||window,n={},s={keydown:{},keyup:{}},a={},i=97;i<=122;i++)a[String.fromCharCode(i)]={code:i-97+65,shift:!1};for(i=65;i<=90;i++)a[String.fromCharCode(i)]={code:i,shift:!0};for(i=0;i<=9;i++)a[""+i]={code:48+i,shift:!1};for(i=1;i<=12;i++)a["F"+i]={code:111+i,shift:!1};for(i=0;i<=9;i++)a["num"+i]={code:96+i,shift:!1};a["num*"]={code:106,shift:!1},a["num+"]={code:107,shift:!1},a["num-"]={code:109,shift:!1},a["num/"]={code:111,shift:!1},a["num."]={code:110,shift:!1},a.left={code:37,shift:!1},a.up={code:38,shift:!1},a.right={code:39,shift:!1},a.down={code:40,shift:!1},a.space={code:32,shift:!1},a.enter={code:13,shift:!1},a.shift={code:16,shift:void 0},a.esc={code:27,shift:!1},a.backspace={code:8,shift:!1},a.tab={code:9,shift:!1},a.ctrl={code:17,shift:!1},a.alt={code:18,shift:!1},a.delete={code:46,shift:!1},a.pageup={code:33,shift:!1},a.pagedown={code:34,shift:!1},a["="]={code:187,shift:!1},a["-"]={code:189,shift:!1},a["]"]={code:221,shift:!1},a["["]={code:219,shift:!1};function r(t){h(t,"keydown")}function l(t){h(t,"keyup")}function h(t,e){if(void 0!==s[e][t.keyCode]){for(var i=s[e][t.keyCode],n=0;n<i.length;n++)(void 0===i[n].shift||1==i[n].shift&&1==t.shiftKey||0==i[n].shift&&0==t.shiftKey)&&i[n].fn(t);1==o&&t.preventDefault()}}return n.bind=function(t,e,i){if(void 0===i&&(i="keydown"),void 0===a[t])throw new Error("unsupported key: "+t);void 0===s[i][a[t].code]&&(s[i][a[t].code]=[]),s[i][a[t].code].push({fn:e,shift:a[t].shift})},n.bindAll=function(t,e){for(var i in void 0===e&&(e="keydown"),a)a.hasOwnProperty(i)&&n.bind(i,t,e)},n.getKey=function(t){for(var e in a)if(a.hasOwnProperty(e)){if(1==t.shiftKey&&1==a[e].shift&&t.keyCode==a[e].code)return e;if(0==t.shiftKey&&0==a[e].shift&&t.keyCode==a[e].code)return e;if(t.keyCode==a[e].code&&"shift"==e)return e}return"unknown key, currently not supported"},n.unbind=function(t,e,i){if(void 0===i&&(i="keydown"),void 0===a[t])throw new Error("unsupported key: "+t);if(void 0!==e){var n=[],o=s[i][a[t].code];if(void 0!==o)for(var r=0;r<o.length;r++)o[r].fn==e&&o[r].shift==a[t].shift||n.push(s[i][a[t].code][r]);s[i][a[t].code]=n}else s[i][a[t].code]=[]},n.reset=function(){s={keydown:{},keyup:{}}},n.destroy=function(){s={keydown:{},keyup:{}},e.removeEventListener("keydown",r,!0),e.removeEventListener("keyup",l,!0)},e.addEventListener("keydown",r,!0),e.addEventListener("keyup",l,!0),n}function Ob(e){this.active=!1,this.dom={container:e},this.dom.overlay=document.createElement("div"),this.dom.overlay.className="vis-overlay",this.dom.container.appendChild(this.dom.overlay),this.hammer=kb(this.dom.overlay),this.hammer.on("tap",p(t=this._onTapOverlay).call(t,this));var i=this,t=["tap","doubletap","press","pinch","pan","panstart","panmove","panend"];k(t).call(t,function(t){i.hammer.on(t,function(t){t.stopPropagation()})}),document&&document.body&&(this.onClick=function(t){!function(t,e){for(;t;){if(t===e)return!0;t=t.parentNode}return!1}(t.target,e)&&i.deactivate()},document.body.addEventListener("click",this.onClick)),void 0!==this.keycharm&&this.keycharm.destroy(),this.keycharm=Tb(),this.escListener=p(t=this.deactivate).call(t,this)}vs(Ob.prototype),Ob.current=null,Ob.prototype.destroy=function(){this.deactivate(),this.dom.overlay.parentNode.removeChild(this.dom.overlay),this.onClick&&document.body.removeEventListener("click",this.onClick),void 0!==this.keycharm&&this.keycharm.destroy(),this.keycharm=null,this.hammer.destroy(),this.hammer=null},Ob.prototype.activate=function(){var t;Ob.current&&Ob.current.deactivate(),(Ob.current=this).active=!0,this.dom.overlay.style.display="none",x.addClassName(this.dom.container,"vis-active"),this.emit("change"),this.emit("activate"),p(t=this.keycharm).call(t,"esc",this.escListener)},Ob.prototype.deactivate=function(){Ob.current===this&&(Ob.current=null),this.active=!1,this.dom.overlay.style.display="",x.removeClassName(this.dom.container,"vis-active"),this.keycharm.unbind("esc",this.escListener),this.emit("change"),this.emit("deactivate")},Ob.prototype._onTapOverlay=function(t){this.activate(),t.stopPropagation()};var he={current:"current",time:"time",deleteSelected:"Delete selected"},e={current:"attuale",time:"tempo",deleteSelected:"Cancella la selezione"},s={current:"huidige",time:"tijd",deleteSelected:"Selectie verwijderen"},Et={current:"Aktuelle",time:"Zeit",deleteSelected:"LÃ¶sche Auswahl"},ss={current:"actuel",time:"heure",deleteSelected:"Effacer la selection"},n={current:"corriente",time:"hora",deleteSelected:"Eliminar selecciÃ³n"},gs={current:"Ð¿Ð¾ÑÐ¾ÑÐ½Ð¸Ð¹",time:"ÑÐ°Ñ",deleteSelected:"ÐÐ¸Ð´Ð°Ð»Ð¸ÑÐ¸ Ð¾Ð±ÑÐ°Ð½Ðµ"},ns={current:"ÑÐµÐºÑÑÐµÐµ",time:"Ð²ÑÐµÐ¼Ñ",deleteSelected:"Ð£Ð´Ð°Ð»Ð¸ÑÑ Ð²ÑÐ±ÑÐ°Ð½Ð½Ð¾Ðµ"},Ci={current:"aktualny",time:"czas",deleteSelected:"UsuÅ wybrane"},jt={current:"atual",time:"data",deleteSelected:"Apagar selecionado"},is={current:"ç¾å¨",time:"æå»",deleteSelected:"é¸æããããã®ãåé¤"},_o={current:"nuvarande",time:"tid",deleteSelected:"Radera valda"},Zo={current:"nÃ¥vÃ¦rende",time:"tid",deleteSelected:"Slett valgte"},X={current:"einamas",time:"laikas",deleteSelected:"PaÅ¡alinti pasirinktÄ"},Eb={en:he,en_EN:he,en_US:he,it:e,it_IT:e,it_CH:e,nl:s,nl_NL:s,nl_BE:s,de:Et,de_DE:Et,fr:ss,fr_FR:ss,fr_CA:ss,fr_BE:ss,es:n,es_ES:n,uk:gs,uk_UA:gs,ru:ns,ru_RU:ns,pl:Ci,pl_PL:Ci,pt:jt,pt_BR:jt,pt_PT:jt,ja:is,ja_JP:is,lt:X,lt_LT:X,sv:_o,sv_SE:_o,nb:Zo,nn:Zo,nb_NO:Zo,nn_NO:Zo};function Ab(i){var n=function(){if("undefined"==typeof Reflect||!o)return!1;if(o.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(o(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var t,e=wh(i);return mh(this,n?(t=wh(this).constructor,o(e,arguments,t)):e.apply(this,arguments))}}var Ib=function(){ph(r,yy);var o=Ab(r);function r(t,e){Un(this,r),(i=o.call(this)).body=t,i.defaultOptions={moment:Yh,locales:Eb,locale:"en",id:void 0,title:void 0},i.options=x.extend({},i.defaultOptions),i.setOptions(e),i.options.locales=x.extend({},Eb,i.options.locales);var i,n=i.defaultOptions.locales[i.defaultOptions.locale];return k(t=Vu(i.options.locales)).call(t,function(t){i.options.locales[t]=x.extend({},n,i.options.locales[t])}),e&&null!=e.time?i.customTime=e.time:i.customTime=new Date,i.eventParams={},i._create(),i}return Xl(r,[{key:"setOptions",value:function(t){t&&x.selectiveExtend(["moment","locale","locales","id","title","rtl","snap"],this.options,t)}},{key:"_create",value:function(){var t=document.createElement("div"),e=(t["custom-time"]=this,t.className="vis-custom-time ".concat(this.options.id||""),t.style.position="absolute",t.style.top="0px",t.style.height="100%",this.bar=t,document.createElement("div"));function i(t){this.body.range._onMouseWheel(t)}e.style.position="relative",e.style.top="0px",this.options.rtl?e.style.right="-10px":e.style.left="-10px",e.style.height="100%",e.style.width="20px",e.addEventListener?(e.addEventListener("mousewheel",p(i).call(i,this),!1),e.addEventListener("DOMMouseScroll",p(i).call(i,this),!1)):e.attachEvent("onmousewheel",p(i).call(i,this)),t.appendChild(e),this.hammer=new kb(e),this.hammer.on("panstart",p(t=this._onDragStart).call(t,this)),this.hammer.on("panmove",p(e=this._onDrag).call(e,this)),this.hammer.on("panend",p(t=this._onDragEnd).call(t,this)),this.hammer.get("pan").set({threshold:5,direction:kb.DIRECTION_ALL}),this.hammer.get("press").set({time:1e4})}},{key:"destroy",value:function(){this.hide(),this.hammer.destroy(),this.hammer=null,this.body=null}},{key:"redraw",value:function(){var t=this.body.dom.backgroundVertical,t=(this.bar.parentNode!=t&&(this.bar.parentNode&&this.bar.parentNode.removeChild(this.bar),t.appendChild(this.bar)),this.body.util.toScreen(this.customTime)),e=this.options.locales[this.options.locale],i=(e||(this.warned||(console.warn("WARNING: options.locales['".concat(this.options.locale,"'] not found. See https://visjs.github.io/vis-timeline/docs/timeline/#Localization")),this.warned=!0),e=this.options.locales.en),this.options.title);return void 0===i?i=(i=fd(e="".concat(e.time,": ")).call(e,this.options.moment(this.customTime).format("dddd, MMMM Do YYYY, H:mm:ss"))).charAt(0).toUpperCase()+i.substring(1):"function"==typeof i&&(i=i.call(this,this.customTime)),this.options.rtl?this.bar.style.right="".concat(t,"px"):this.bar.style.left="".concat(t,"px"),this.bar.title=i,!1}},{key:"hide",value:function(){this.bar.parentNode&&this.bar.parentNode.removeChild(this.bar)}},{key:"setCustomTime",value:function(t){this.customTime=x.convert(t,"Date"),this.redraw()}},{key:"getCustomTime",value:function(){return new Date(this.customTime.valueOf())}},{key:"setCustomMarker",value:function(t,e){var i=document.createElement("div");i.className="vis-custom-time-marker",i.innerHTML=x.xss(t),i.style.position="absolute",e&&(i.setAttribute("contenteditable","true"),i.addEventListener("pointerdown",function(){i.focus()}),i.addEventListener("input",p(e=this._onMarkerChange).call(e,this)),i.title=t,i.addEventListener("blur",p(e=function(t){this.title!=t.target.innerHTML&&(this._onMarkerChanged(t),this.title=t.target.innerHTML)}).call(e,this))),this.bar.appendChild(i)}},{key:"setCustomTitle",value:function(t){this.options.title=t}},{key:"_onDragStart",value:function(t){this.eventParams.dragging=!0,this.eventParams.customTime=this.customTime,t.stopPropagation()}},{key:"_onDrag",value:function(t){var e,i,n,o;this.eventParams.dragging&&(e=this.options.rtl?-1*t.deltaX:t.deltaX,e=this.body.util.toScreen(this.eventParams.customTime)+e,e=this.body.util.toTime(e),i=this.body.util.getScale(),n=this.body.util.getStep(),o=(o=this.options.snap)?o(e,i,n):e,this.setCustomTime(o),this.body.emitter.emit("timechange",{id:this.options.id,time:new Date(this.customTime.valueOf()),event:t}),t.stopPropagation())}},{key:"_onDragEnd",value:function(t){this.eventParams.dragging&&(this.body.emitter.emit("timechanged",{id:this.options.id,time:new Date(this.customTime.valueOf()),event:t}),t.stopPropagation())}},{key:"_onMarkerChange",value:function(t){this.body.emitter.emit("markerchange",{id:this.options.id,title:t.target.innerHTML,event:t}),t.stopPropagation()}},{key:"_onMarkerChanged",value:function(t){this.body.emitter.emit("markerchanged",{id:this.options.id,title:t.target.innerHTML,event:t}),t.stopPropagation()}}],[{key:"customTimeFromTarget",value:function(t){for(var e=t.target;e;){if(e.hasOwnProperty("custom-time"))return e["custom-time"];e=e.parentNode}return null}}]),r}(),Pb=function(){function t(){Un(this,t)}return Xl(t,[{key:"_create",value:function(t){var e,i=this,n=(this.dom={},this.dom.container=t,this.dom.container.style.position="relative",this.dom.root=document.createElement("div"),this.dom.background=document.createElement("div"),this.dom.backgroundVertical=document.createElement("div"),this.dom.backgroundHorizontal=document.createElement("div"),this.dom.centerContainer=document.createElement("div"),this.dom.leftContainer=document.createElement("div"),this.dom.rightContainer=document.createElement("div"),this.dom.center=document.createElement("div"),this.dom.left=document.createElement("div"),this.dom.right=document.createElement("div"),this.dom.top=document.createElement("div"),this.dom.bottom=document.createElement("div"),this.dom.shadowTop=document.createElement("div"),this.dom.shadowBottom=document.createElement("div"),this.dom.shadowTopLeft=document.createElement("div"),this.dom.shadowBottomLeft=document.createElement("div"),this.dom.shadowTopRight=document.createElement("div"),this.dom.shadowBottomRight=document.createElement("div"),this.dom.rollingModeBtn=document.createElement("div"),this.dom.loadingScreen=document.createElement("div"),this.dom.root.className="vis-timeline",this.dom.background.className="vis-panel vis-background",this.dom.backgroundVertical.className="vis-panel vis-background vis-vertical",this.dom.backgroundHorizontal.className="vis-panel vis-background vis-horizontal",this.dom.centerContainer.className="vis-panel vis-center",this.dom.leftContainer.className="vis-panel vis-left",this.dom.rightContainer.className="vis-panel vis-right",this.dom.top.className="vis-panel vis-top",this.dom.bottom.className="vis-panel vis-bottom",this.dom.left.className="vis-content",this.dom.center.className="vis-content",this.dom.right.className="vis-content",this.dom.shadowTop.className="vis-shadow vis-top",this.dom.shadowBottom.className="vis-shadow vis-bottom",this.dom.shadowTopLeft.className="vis-shadow vis-top",this.dom.shadowBottomLeft.className="vis-shadow vis-bottom",this.dom.shadowTopRight.className="vis-shadow vis-top",this.dom.shadowBottomRight.className="vis-shadow vis-bottom",this.dom.rollingModeBtn.className="vis-rolling-mode-btn",this.dom.loadingScreen.className="vis-loading-screen",this.dom.root.appendChild(this.dom.background),this.dom.root.appendChild(this.dom.backgroundVertical),this.dom.root.appendChild(this.dom.backgroundHorizontal),this.dom.root.appendChild(this.dom.centerContainer),this.dom.root.appendChild(this.dom.leftContainer),this.dom.root.appendChild(this.dom.rightContainer),this.dom.root.appendChild(this.dom.top),this.dom.root.appendChild(this.dom.bottom),this.dom.root.appendChild(this.dom.rollingModeBtn),this.dom.centerContainer.appendChild(this.dom.center),this.dom.leftContainer.appendChild(this.dom.left),this.dom.rightContainer.appendChild(this.dom.right),this.dom.centerContainer.appendChild(this.dom.shadowTop),this.dom.centerContainer.appendChild(this.dom.shadowBottom),this.dom.leftContainer.appendChild(this.dom.shadowTopLeft),this.dom.leftContainer.appendChild(this.dom.shadowBottomLeft),this.dom.rightContainer.appendChild(this.dom.shadowTopRight),this.dom.rightContainer.appendChild(this.dom.shadowBottomRight),this.props={root:{},background:{},centerContainer:{},leftContainer:{},rightContainer:{},center:{},left:{},right:{},top:{},bottom:{},border:{},scrollTop:0,scrollTopMin:0},this.on("rangechange",function(){!0===i.initialDrawDone&&i._redraw()}),this.on("rangechanged",function(){i.initialRangeChangeDone||(i.initialRangeChangeDone=!0)}),this.on("touch",p(o=this._onTouch).call(o,this)),this.on("panmove",p(o=this._onDrag).call(o,this)),this),o=(this._origRedraw=p(o=this._redraw).call(o,this),this._redraw=x.throttle(this._origRedraw),this.on("_change",function(t){n.itemSet&&n.itemSet.initialItemSetDrawn&&t&&1==t.queue?n._redraw():n._origRedraw()}),this.hammer=new kb(this.dom.root),this.hammer.get("pinch").set({enable:!0})),o=(o&&(o.getTouchAction=function(){return["pan-y"]}),this.hammer.get("pan").set({threshold:5,direction:kb.DIRECTION_ALL}),this.timelineListeners={},["tap","doubletap","press","pinch","pan","panstart","panmove","panend"]);function r(t){this.isActive()&&this.emit("mousewheel",t);var e,i,n=0,o=0;if("detail"in t&&(o=-1*t.detail),"wheelDelta"in t&&(o=t.wheelDelta),"wheelDeltaY"in t&&(o=t.wheelDeltaY),"wheelDeltaX"in t&&(n=-1*t.wheelDeltaX),"axis"in t&&t.axis===t.HORIZONTAL_AXIS&&(n=-1*o,o=0),"deltaY"in t&&(o=-1*t.deltaY),"deltaX"in t&&(n=t.deltaX),t.deltaMode&&(1===t.deltaMode?(n*=40,o*=40):(n*=40,o*=800)),this.options.preferZoom){if(!this.options.zoomKey||t[this.options.zoomKey])return}else if(this.options.zoomKey&&t[this.options.zoomKey])return;(this.options.verticalScroll||this.options.horizontalScroll)&&(this.options.verticalScroll&&Math.abs(o)>=Math.abs(n)?(e=(i=this.props.scrollTop)+o,this.isActive()&&this._setScrollTop(e)!==i&&(this._redraw(),this.emit("scroll",t),t.preventDefault())):this.options.horizontalScroll&&(e=(Math.abs(n)>=Math.abs(o)?n:o)/120*(this.range.end-this.range.start)/20,i=this.range.start+e,n=this.range.end+e,this.range.setRange(i,n,{animation:!1,byUser:!0,event:t}),t.preventDefault()))}k(o).call(o,function(e){function t(t){n.isActive()&&n.emit(e,t)}n.hammer.on(e,t),n.timelineListeners[e]=t}),xb(this.hammer,function(t){n.emit("touch",t)}),o=this.hammer,(e=function(t){n.emit("release",t)}).inputHandler=function(t){t.isFinal&&e(t)},o.on("hammer.input",e.inputHandler);o="onwheel"in document.createElement("div")?"wheel":void 0!==document.onmousewheel?"mousewheel":this.dom.centerContainer.addEventListener?"DOMMouseScroll":"onmousewheel";function s(t){var e;n.options.verticalScroll&&(t.preventDefault(),n.isActive()&&(e=-t.target.scrollTop,n._setScrollTop(e),n._redraw(),n.emit("scrollSide",t)))}this.dom.top.addEventListener,this.dom.bottom.addEventListener,this.dom.centerContainer.addEventListener(o,p(r).call(r,this),!1),this.dom.top.addEventListener(o,p(r).call(r,this),!1),this.dom.bottom.addEventListener(o,p(r).call(r,this),!1),this.dom.left.parentNode.addEventListener("scroll",p(s).call(s,this)),this.dom.right.parentNode.addEventListener("scroll",p(s).call(s,this));var a=!1;function l(t){var e;if(t.preventDefault&&(n.emit("dragover",n.getEventProperties(t)),t.preventDefault()),-1<am(e=t.target.className).call(e,"timeline")&&!a)return t.dataTransfer.dropEffect="move",!(a=!0)}function h(t){t.preventDefault&&t.preventDefault(),t.stopPropagation&&t.stopPropagation();try{var e=JSON.parse(t.dataTransfer.getData("text"));if(!e||!e.content)return}catch(t){return!1}return a=!1,t.center={x:t.clientX,y:t.clientY},"item"!==e.target?n.itemSet._onAddItem(t):n.itemSet._onDropObjectOnItem(t),n.emit("drop",n.getEventProperties(t)),!1}if(this.dom.center.addEventListener("dragover",p(l).call(l,this),!1),this.dom.center.addEventListener("drop",p(h).call(h,this),!1),this.customTimes=[],this.touch={},this.redrawCount=0,this.initialDrawDone=!1,this.initialRangeChangeDone=!1,!t)throw new Error("No container provided");t.appendChild(this.dom.root),t.appendChild(this.dom.loadingScreen)}},{key:"setOptions",value:function(e){var i,t,n,o;e&&(x.selectiveExtend(["width","height","minHeight","maxHeight","autoResize","start","end","clickToUse","dataAttributes","hiddenDates","locale","locales","moment","preferZoom","rtl","zoomKey","horizontalScroll","verticalScroll","longSelectPressTime","snap"],this.options,e),this.dom.rollingModeBtn.style.visibility="hidden",this.options.rtl&&(this.dom.container.style.direction="rtl",this.dom.backgroundVertical.className="vis-panel vis-background vis-vertical-rtl"),this.options.verticalScroll&&(this.options.rtl?this.dom.rightContainer.className="vis-panel vis-right vis-vertical-scroll":this.dom.leftContainer.className="vis-panel vis-left vis-vertical-scroll"),"object"!==Hl(this.options.orientation)&&(this.options.orientation={item:void 0,axis:void 0}),"orientation"in e&&("string"==typeof e.orientation?this.options.orientation={item:e.orientation,axis:e.orientation}:"object"===Hl(e.orientation)&&("item"in e.orientation&&(this.options.orientation.item=e.orientation.item),"axis"in e.orientation&&(this.options.orientation.axis=e.orientation.axis))),"both"===this.options.orientation.axis?this.timeAxis2||((i=this.timeAxis2=new Sb(this.body)).setOptions=function(t){t=t?x.extend({},t):{};t.orientation="top",Sb.prototype.setOptions.call(i,t)},this.components.push(i)):this.timeAxis2&&(-1!==(n=am(n=this.components).call(n,this.timeAxis2))&&Qd(t=this.components).call(t,n,1),this.timeAxis2.destroy(),this.timeAxis2=null),"function"==typeof e.drawPoints&&(e.drawPoints={onRender:e.drawPoints}),"hiddenDates"in this.options&&$y(this.options.moment,this.body,this.options.hiddenDates),"clickToUse"in e&&(e.clickToUse?this.activator||(this.activator=new Ob(this.dom.root)):this.activator&&(this.activator.destroy(),delete this.activator)),this._initAutoResize()),k(t=this.components).call(t,function(t){return t.setOptions(e)}),"configure"in e&&(this.configurator||(this.configurator=this._createConfigurator()),this.configurator.setOptions(e.configure),o=x.deepExtend({},this.options),k(n=this.components).call(n,function(t){x.deepExtend(o,t.options)}),this.configurator.setModuleOptions({global:o})),this._redraw()}},{key:"isActive",value:function(){return!this.activator||this.activator.active}},{key:"destroy",value:function(){var t,e;for(e in this.setItems(null),this.setGroups(null),this.off(),this._stopAutoResize(),this.dom.root.parentNode&&this.dom.root.parentNode.removeChild(this.dom.root),this.dom=null,this.activator&&(this.activator.destroy(),delete this.activator),this.timelineListeners)this.timelineListeners.hasOwnProperty(e)&&delete this.timelineListeners[e];this.timelineListeners=null,this.hammer&&this.hammer.destroy(),this.hammer=null,k(t=this.components).call(t,function(t){return t.destroy()}),this.body=null}},{key:"setCustomTime",value:function(t,e){var i=Qh(i=this.customTimes).call(i,function(t){return e===t.options.id});if(0===i.length)throw new Error("No custom time bar found with id ".concat(xm(e)));0<i.length&&i[0].setCustomTime(t)}},{key:"getCustomTime",value:function(e){var t=Qh(t=this.customTimes).call(t,function(t){return t.options.id===e});if(0===t.length)throw new Error("No custom time bar found with id ".concat(xm(e)));return t[0].getCustomTime()}},{key:"setCustomTimeMarker",value:function(t,e,i){var n=Qh(n=this.customTimes).call(n,function(t){return t.options.id===e});if(0===n.length)throw new Error("No custom time bar found with id ".concat(xm(e)));0<n.length&&n[0].setCustomMarker(t,i)}},{key:"setCustomTimeTitle",value:function(t,e){var i=Qh(i=this.customTimes).call(i,function(t){return t.options.id===e});if(0===i.length)throw new Error("No custom time bar found with id ".concat(xm(e)));if(0<i.length)return i[0].setCustomTitle(t)}},{key:"getEventProperties",value:function(t){return{event:t}}},{key:"addCustomTime",value:function(t,e){t=void 0!==t?x.convert(t,"Date"):new Date;if(vb(i=this.customTimes).call(i,function(t){return t.options.id===e}))throw new Error("A custom time with id ".concat(xm(e)," already exists"));var i=new Ib(this.body,x.extend({},this.options,{time:t,id:e,snap:(this.itemSet||this).options.snap}));return this.customTimes.push(i),this.components.push(i),this._redraw(),e}},{key:"removeCustomTime",value:function(e){var i=this,t=Qh(t=this.customTimes).call(t,function(t){return t.options.id===e});if(0===t.length)throw new Error("No custom time bar found with id ".concat(xm(e)));k(t).call(t,function(t){var e;Qd(e=i.customTimes).call(e,am(e=i.customTimes).call(e,t),1),Qd(e=i.components).call(e,am(e=i.components).call(e,t),1),t.destroy()})}},{key:"getVisibleItems",value:function(){return this.itemSet&&this.itemSet.getVisibleItems()||[]}},{key:"getItemsAtCurrentTime",value:function(t){return this.time=t,this.itemSet&&this.itemSet.getItemsAtCurrentTime(this.time)||[]}},{key:"getVisibleGroups",value:function(){return this.itemSet&&this.itemSet.getVisibleGroups()||[]}},{key:"fit",value:function(t,e){var i,n,o=this.getDataRange();null===o.min&&null===o.max||(n=o.max-o.min,i=new Date(o.min.valueOf()-.01*n),o=new Date(o.max.valueOf()+.01*n),n=!t||void 0===t.animation||t.animation,this.range.setRange(i,o,{animation:n},e))}},{key:"getDataRange",value:function(){throw new Error("Cannot invoke abstract method getDataRange")}},{key:"setWindow",value:function(t,e,i,n){var o,r;"function"==typeof arguments[2]&&(n=arguments[2],i={}),1==arguments.length?(o=void 0===(r=t).animation||r.animation,this.range.setRange(r.start,r.end,{animation:o})):2==arguments.length&&"function"==typeof e?(o=void 0===(r=t).animation||r.animation,this.range.setRange(r.start,r.end,{animation:o},n=e)):(o=!i||void 0===i.animation||i.animation,this.range.setRange(t,e,{animation:o},n))}},{key:"moveTo",value:function(t,e,i){"function"==typeof arguments[1]&&(i=arguments[1],e={});var n=this.range.end-this.range.start,o=x.convert(t,"Date").valueOf(),r=!e||void 0===e.animation||e.animation;this.range.setRange(o-n/2,o+n/2,{animation:r},i)}},{key:"getWindow",value:function(){var t=this.range.getRange();return{start:new Date(t.start),end:new Date(t.end)}}},{key:"zoomIn",value:function(t,e,i){var n,o;!t||t<0||1<t||("function"==typeof arguments[1]&&(i=arguments[1],e={}),o=(n=this.getWindow()).start.valueOf(),n=n.end.valueOf(),this.setWindow(o+(o=((o=n-o)-o/(1+t))/2),n-o,e,i))}},{key:"zoomOut",value:function(t,e,i){var n,o;!t||t<0||1<t||("function"==typeof arguments[1]&&(i=arguments[1],e={}),o=(n=this.getWindow()).start.valueOf(),n=n.end.valueOf(),this.setWindow(o-(o=n-o)*t/2,n+o*t/2,e,i))}},{key:"redraw",value:function(){this._redraw()}},{key:"_redraw",value:function(){this.redrawCount++;var t=this.dom;if(t&&t.container&&0!=t.root.offsetWidth){var e=!1,i=this.options,n=this.props,o=(Zy(this.options.moment,this.body,this.options.hiddenDates),"top"==i.orientation?(x.addClassName(t.root,"vis-top"),x.removeClassName(t.root,"vis-bottom")):(x.removeClassName(t.root,"vis-top"),x.addClassName(t.root,"vis-bottom")),i.rtl?(x.addClassName(t.root,"vis-rtl"),x.removeClassName(t.root,"vis-ltr")):(x.addClassName(t.root,"vis-ltr"),x.removeClassName(t.root,"vis-rtl")),t.root.style.maxHeight=x.option.asSize(i.maxHeight,""),t.root.style.minHeight=x.option.asSize(i.minHeight,""),t.root.style.width=x.option.asSize(i.width,""),t.root.offsetWidth),r=(n.border.left=1,n.border.right=1,n.border.top=1,n.border.bottom=1,n.center.height=t.center.offsetHeight,n.left.height=t.left.offsetHeight,n.right.height=t.right.offsetHeight,n.top.height=t.top.clientHeight||-n.border.top,n.bottom.height=Math.round(t.bottom.getBoundingClientRect().height)||t.bottom.clientHeight||-n.border.bottom,Math.max(n.left.height,n.center.height,n.right.height)),r=n.top.height+r+n.bottom.height+n.border.top+n.border.bottom,r=(t.root.style.height=x.option.asSize(i.height,"".concat(r,"px")),n.root.height=t.root.offsetHeight,n.background.height=n.root.height,n.root.height-n.top.height-n.bottom.height),r=(n.centerContainer.height=r,n.leftContainer.height=r,n.rightContainer.height=n.leftContainer.height,n.root.width=o,n.background.width=n.root.width,this.initialDrawDone||(n.scrollbarWidth=x.getScrollBarWidth()),t.leftContainer.clientWidth),o=t.rightContainer.clientWidth,s=(i.verticalScroll?i.rtl?(n.left.width=r||-n.border.left,n.right.width=o+n.scrollbarWidth||-n.border.right):(n.left.width=r+n.scrollbarWidth||-n.border.left,n.right.width=o||-n.border.right):(n.left.width=r||-n.border.left,n.right.width=o||-n.border.right),this._setDOM(),this._updateScrollTop()),a=("top"!=i.orientation.item&&(s+=Math.max(n.centerContainer.height-n.center.height-n.border.top-n.border.bottom,0)),t.center.style.transform="translateY(".concat(s,"px)"),0==n.scrollTop?"hidden":""),l=n.scrollTop==n.scrollTopMin?"hidden":"",a=(t.shadowTop.style.visibility=a,t.shadowBottom.style.visibility=l,t.shadowTopLeft.style.visibility=a,t.shadowBottomLeft.style.visibility=l,t.shadowTopRight.style.visibility=a,t.shadowBottomRight.style.visibility=l,i.verticalScroll&&(t.rightContainer.className="vis-panel vis-right vis-vertical-scroll",t.leftContainer.className="vis-panel vis-left vis-vertical-scroll",t.shadowTopRight.style.visibility="hidden",t.shadowBottomRight.style.visibility="hidden",t.shadowTopLeft.style.visibility="hidden",t.shadowBottomLeft.style.visibility="hidden",t.left.style.top="0px",t.right.style.top="0px"),(!i.verticalScroll||n.center.height<n.centerContainer.height)&&(t.left.style.top="".concat(s,"px"),t.right.style.top="".concat(s,"px"),t.rightContainer.className=t.rightContainer.className.replace(new RegExp("(?:^|\\s)vis-vertical-scroll(?:\\s|$)")," "),t.leftContainer.className=t.leftContainer.className.replace(new RegExp("(?:^|\\s)vis-vertical-scroll(?:\\s|$)")," "),n.left.width=r||-n.border.left,n.right.width=o||-n.border.right,this._setDOM()),n.center.height>n.centerContainer.height);this.hammer.get("pan").set({direction:a?kb.DIRECTION_ALL:kb.DIRECTION_HORIZONTAL}),this.hammer.get("press").set({time:this.options.longSelectPressTime}),k(l=this.components).call(l,function(t){e=t.redraw()||e});if(e){if(this.redrawCount<5)return void this.body.emitter.emit("_change");console.log("WARNING: infinite loop in redraw?")}else this.redrawCount=0;this.body.emitter.emit("changed")}}},{key:"_setDOM",value:function(){var t=this.props,e=this.dom,i=(t.leftContainer.width=t.left.width,t.rightContainer.width=t.right.width,t.root.width-t.left.width-t.right.width);t.center.width=i,t.centerContainer.width=i,t.top.width=i,t.bottom.width=i,e.background.style.height="".concat(t.background.height,"px"),e.backgroundVertical.style.height="".concat(t.background.height,"px"),e.backgroundHorizontal.style.height="".concat(t.centerContainer.height,"px"),e.centerContainer.style.height="".concat(t.centerContainer.height,"px"),e.leftContainer.style.height="".concat(t.leftContainer.height,"px"),e.rightContainer.style.height="".concat(t.rightContainer.height,"px"),e.background.style.width="".concat(t.background.width,"px"),e.backgroundVertical.style.width="".concat(t.centerContainer.width,"px"),e.backgroundHorizontal.style.width="".concat(t.background.width,"px"),e.centerContainer.style.width="".concat(t.center.width,"px"),e.top.style.width="".concat(t.top.width,"px"),e.bottom.style.width="".concat(t.bottom.width,"px"),e.background.style.left="0",e.background.style.top="0",e.backgroundVertical.style.left="".concat(t.left.width+t.border.left,"px"),e.backgroundVertical.style.top="0",e.backgroundHorizontal.style.left="0",e.backgroundHorizontal.style.top="".concat(t.top.height,"px"),e.centerContainer.style.left="".concat(t.left.width,"px"),e.centerContainer.style.top="".concat(t.top.height,"px"),e.leftContainer.style.left="0",e.leftContainer.style.top="".concat(t.top.height,"px"),e.rightContainer.style.left="".concat(t.left.width+t.center.width,"px"),e.rightContainer.style.top="".concat(t.top.height,"px"),e.top.style.left="".concat(t.left.width,"px"),e.top.style.top="0",e.bottom.style.left="".concat(t.left.width,"px"),e.bottom.style.top="".concat(t.top.height+t.centerContainer.height,"px"),e.center.style.left="0",e.left.style.left="0",e.right.style.left="0"}},{key:"setCurrentTime",value:function(t){if(!this.currentTime)throw new Error("Option showCurrentTime must be true");this.currentTime.setCurrentTime(t)}},{key:"getCurrentTime",value:function(){if(!this.currentTime)throw new Error("Option showCurrentTime must be true");return this.currentTime.getCurrentTime()}},{key:"_toTime",value:function(t){return eb(this,t,this.props.center.width)}},{key:"_toGlobalTime",value:function(t){return eb(this,t,this.props.root.width)}},{key:"_toScreen",value:function(t){return tb(this,t,this.props.center.width)}},{key:"_toGlobalScreen",value:function(t){return tb(this,t,this.props.root.width)}},{key:"_initAutoResize",value:function(){1==this.options.autoResize?this._startAutoResize():this._stopAutoResize()}},{key:"_startAutoResize",value:function(){var i=this;this._stopAutoResize(),this._onResize=function(){var t,e;1==i.options.autoResize?i.dom.root&&(t=i.dom.root.offsetHeight,(e=i.dom.root.offsetWidth)==i.props.lastWidth&&t==i.props.lastHeight||(i.props.lastWidth=e,i.props.lastHeight=t,i.props.scrollbarWidth=x.getScrollBarWidth(),i.body.emitter.emit("_change"))):i._stopAutoResize()},x.addEventListener(window,"resize",this._onResize),i.dom.root&&(i.props.lastWidth=i.dom.root.offsetWidth,i.props.lastHeight=i.dom.root.offsetHeight),this.watchTimer=bb(this._onResize,1e3)}},{key:"_stopAutoResize",value:function(){this.watchTimer&&(clearInterval(this.watchTimer),this.watchTimer=void 0),this._onResize&&(x.removeEventListener(window,"resize",this._onResize),this._onResize=null)}},{key:"_onTouch",value:function(t){this.touch.allowDragging=!0,this.touch.initialScrollTop=this.props.scrollTop}},{key:"_onPinch",value:function(t){this.touch.allowDragging=!1}},{key:"_onDrag",value:function(t){var e;t&&this.touch.allowDragging&&(t=t.deltaY,e=this._getScrollTop(),t=this._setScrollTop(this.touch.initialScrollTop+t),this.options.verticalScroll&&(this.dom.left.parentNode.scrollTop=-this.props.scrollTop,this.dom.right.parentNode.scrollTop=-this.props.scrollTop),t!=e&&this.emit("verticalDrag"))}},{key:"_setScrollTop",value:function(t){return this.props.scrollTop=t,this._updateScrollTop(),this.props.scrollTop}},{key:"_updateScrollTop",value:function(){var t=Math.min(this.props.centerContainer.height-this.props.border.top-this.props.border.bottom-this.props.center.height,0);return t!=this.props.scrollTopMin&&("top"!=this.options.orientation.item&&(this.props.scrollTop+=t-this.props.scrollTopMin),this.props.scrollTopMin=t),0<this.props.scrollTop&&(this.props.scrollTop=0),this.props.scrollTop<t&&(this.props.scrollTop=t),this.options.verticalScroll&&(this.dom.left.parentNode.scrollTop=-this.props.scrollTop,this.dom.right.parentNode.scrollTop=-this.props.scrollTop),this.props.scrollTop}},{key:"_getScrollTop",value:function(){return this.props.scrollTop}},{key:"_createConfigurator",value:function(){throw new Error("Cannot invoke abstract method _createConfigurator")}}]),t}();function Mb(i){var n=function(){if("undefined"==typeof Reflect||!o)return!1;if(o.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(o(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var t,e=wh(i);return mh(this,n?(t=wh(this).constructor,o(e,arguments,t)):e.apply(this,arguments))}}vs(Pb.prototype);var Nb=function(){ph(r,yy);var o=Mb(r);function r(t,e){Un(this,r),(i=o.call(this)).body=t,i.defaultOptions={rtl:!1,showCurrentTime:!0,alignCurrentTime:void 0,moment:Yh,locales:Eb,locale:"en"},i.options=x.extend({},i.defaultOptions),i.setOptions(e),i.options.locales=x.extend({},Eb,i.options.locales);var i,n=i.defaultOptions.locales[i.defaultOptions.locale];return k(t=Vu(i.options.locales)).call(t,function(t){i.options.locales[t]=x.extend({},n,i.options.locales[t])}),i.offset=0,i._create(),i}return Xl(r,[{key:"_create",value:function(){var t=document.createElement("div");t.className="vis-current-time",t.style.position="absolute",t.style.top="0px",t.style.height="100%",this.bar=t}},{key:"destroy",value:function(){this.options.showCurrentTime=!1,this.redraw(),this.body=null}},{key:"setOptions",value:function(t){t&&x.selectiveExtend(["rtl","showCurrentTime","alignCurrentTime","moment","locale","locales"],this.options,t)}},{key:"redraw",value:function(){var t,e,i,n;return this.options.showCurrentTime?(e=this.body.dom.backgroundVertical,this.bar.parentNode!=e&&(this.bar.parentNode&&this.bar.parentNode.removeChild(this.bar),e.appendChild(this.bar),this.start()),e=this.options.moment(_d()+this.offset),this.options.alignCurrentTime&&(e=e.startOf(this.options.alignCurrentTime)),i=this.body.util.toScreen(e),(n=this.options.locales[this.options.locale])||(this.warned||(console.warn("WARNING: options.locales['".concat(this.options.locale,"'] not found. See https://visjs.github.io/vis-timeline/docs/timeline/#Localization")),this.warned=!0),n=this.options.locales.en),n=(n=fd(t=fd(t="".concat(n.current," ")).call(t,n.time,": ")).call(t,e.format("dddd, MMMM Do YYYY, H:mm:ss"))).charAt(0).toUpperCase()+n.substring(1),this.options.rtl?this.bar.style.transform="translateX(".concat(-1*i,"px)"):this.bar.style.transform="translateX(".concat(i,"px)"),this.bar.title=n):(this.bar.parentNode&&this.bar.parentNode.removeChild(this.bar),this.stop()),!1}},{key:"start",value:function(){var i=this;!function t(){i.stop();var e=1/i.body.range.conversion(i.body.domProps.center.width).scale/10;1e3<(e=e<30?30:e)&&(e=1e3),i.redraw(),i.body.emitter.emit("currentTimeTick"),i.currentTimeTimer=Nh(t,e)}()}},{key:"stop",value:function(){void 0!==this.currentTimeTimer&&(clearTimeout(this.currentTimeTimer),delete this.currentTimeTimer)}},{key:"setCurrentTime",value:function(t){var t=x.convert(t,"Date").valueOf(),e=_d();this.offset=t-e,this.redraw()}},{key:"getCurrentTime",value:function(){return new Date(_d()+this.offset)}}]),r}(),Fb={},Ai={get exports(){return Fb},set exports(t){Fb=t}},Pi=L,Rb=$o.find,Lb=!0;"find"in[]&&Array(1).find(function(){Lb=!1}),Pi({target:"Array",proto:!0,forced:Lb},{find:function(t){return Rb(this,t,1<arguments.length?arguments[1]:void 0)}});function jb(t){i0(t,l0,{value:{objectID:"O"+h0++,weakData:{}}})}function Bb(t,e){this.stopped=t,this.result=e}function zb(t,u,e){function i(t){return o&&w0(o,"normal",t),new Bb(!0,t)}function n(t){return p?(p0(t),g?h(t[0],t[1],i):h(t[0],t[1])):g?h(t,i):h(t)}var o,r,s,a,l,c,d=e&&e.that,p=!(!e||!e.AS_ENTRIES),m=!(!e||!e.IS_RECORD),f=!(!e||!e.IS_ITERATOR),g=!(!e||!e.INTERRUPTED),h=c0(u,d);if(m)o=t.iterator;else if(f)o=t;else{if(!(e=b0(t)))throw k0(m0(t)+" is not iterable");if(f0(e)){for(r=0,s=g0(t);r<s;r++)if((a=n(t[r]))&&v0(x0,a))return a;return new Bb(!1)}o=y0(t,e)}for(l=(m?t:o).next;!(c=d0(l,o)).done;){try{a=n(c.value)}catch(t){w0(o,"throw",t)}if("object"==typeof a&&a&&v0(x0,a))return a}return new Bb(!1)}function Hb(t,e){if(_0(e,t))return t;throw C0("Incorrect invocation")}var ls=ih("Array").find,Gb=Tt,Wb=ls,Yb=Array.prototype,Vb=(Ai.exports=function(t){var e=t.find;return t===Yb||Gb(Yb,t)&&e===Yb.find?Wb:e},t(Fb)),Ub={},os={get exports(){return Ub},set exports(t){Ub=t}},Xb={},us={get exports(){return Xb},set exports(t){Xb=t}},Ot=m(function(){var t;"function"==typeof ArrayBuffer&&(t=new ArrayBuffer(8),Object.isExtensible(t)&&Object.defineProperty(t,"a",{value:8}))}),at=m,qb=mt,Kb=f,$b=Ot,Zb=Object.isExtensible,Dn=at(function(){Zb(1)})||$b?function(t){return!!qb(t)&&((!$b||"ArrayBuffer"!=Kb(t))&&(!Zb||Zb(t)))}:Zb,dt=!m(function(){return Object.isExtensible(Object.preventExtensions({}))}),Qb=L,Jb=Q,K=nn,t0=mt,e0=Jt,i0=It.f,n0=zn,o0=Ko,r0=Dn,s0=dt,a0=!1,l0=E("meta"),h0=0,u0=us.exports={enable:function(){u0.enable=function(){},a0=!0;var o=n0.f,r=Jb([].splice),t={};t[l0]=1,o(t).length&&(n0.f=function(t){for(var e=o(t),i=0,n=e.length;i<n;i++)if(e[i]===l0){r(e,i,1);break}return e},Qb({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:o0.f}))},fastKey:function(t,e){if(!t0(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!e0(t,l0)){if(!r0(t))return"F";if(!e)return"E";jb(t)}return t[l0].objectID},getWeakData:function(t,e){if(!e0(t,l0)){if(!r0(t))return!0;if(!e)return!1;jb(t)}return t[l0].weakData},onFreeze:function(t){return s0&&a0&&r0(t)&&!e0(t,l0)&&jb(t),t}},c0=(K[l0]=!0,N),d0=ut,p0=F,m0=S,f0=Gu,g0=W,v0=Tt,y0=Yu,b0=Wu,w0=Hu,k0=TypeError,x0=Bb.prototype,_0=Tt,C0=TypeError,S0=L,D0=c,T0=Xb,O0=m,E0=Mt,A0=zb,I0=Hb,P0=st,M0=mt,N0=no,F0=It.f,R0=$o.forEach,L0=lt,j0=on.set,B0=on.getterFor,z0=Jn,H0=C,G0=to,W0=lt,Y0=A("species"),V0=Ye,U0=to,X0=function(t,e,i){for(var n in e)i&&i.unsafe&&t[n]?t[n]=e[n]:z0(t,n,e[n],i);return t},q0=N,K0=Hb,$0=y,Z0=zb,Q0=Sa,J0=Da,tw=function(t){t=H0(t);W0&&t&&!t[Y0]&&G0(t,Y0,{configurable:!0,get:function(){return this}})},ew=lt,iw=Xb.fastKey,nw=on.set,ow=on.getterFor;(function(i,t,e){var n,r,s,o=-1!==i.indexOf("Map"),a=-1!==i.indexOf("Weak"),l=o?"set":"add",h=D0[i],u=h&&h.prototype,c={};L0&&P0(h)&&(a||u.forEach&&!O0(function(){(new h).entries().next()}))?(r=(n=t(function(t,e){j0(I0(t,r),{type:i,collection:new h}),null!=e&&A0(e,t[l],{that:t,AS_ENTRIES:o})})).prototype,s=B0(i),R0(["add","clear","delete","forEach","get","has","set","keys","values","entries"],function(n){var o="add"==n||"set"==n;n in u&&(!a||"clear"!=n)&&E0(r,n,function(t,e){var i=s(this).collection;if(!o&&a&&!M0(t))return"get"==n&&void 0;i=i[n](0===t?0:t,e);return o?this:i})}),a||F0(r,"size",{configurable:!0,get:function(){return s(this).collection.size}})):(n=e.getConstructor(t,i,o,l),T0.enable()),N0(n,i,!1,!0),c[i]=n,S0({global:!0,forced:!0},c),a||e.setStrong(n,i,o)})("Set",function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}},{getConstructor:function(t,i,n,o){function r(t,e,i){var n,o=l(t),r=s(t,e);return r?r.value=i:(o.last=r={index:n=iw(e,!0),key:e,value:i,previous:e=o.last,next:void 0,removed:!1},o.first||(o.first=r),e&&(e.next=r),ew?o.size++:t.size++,"F"!==n&&(o.index[n]=r)),t}function s(t,e){var i,t=l(t),n=iw(e);if("F"!==n)return t.index[n];for(i=t.first;i;i=i.next)if(i.key==e)return i}var t=t(function(t,e){K0(t,a),nw(t,{type:i,index:V0(null),first:void 0,last:void 0,size:0}),ew||(t.size=0),$0(e)||Z0(e,t[o],{that:t,AS_ENTRIES:n})}),a=t.prototype,l=ow(i);return X0(a,{clear:function(){for(var t=l(this),e=t.index,i=t.first;i;)i.removed=!0,i.previous&&(i.previous=i.previous.next=void 0),delete e[i.index],i=i.next;t.first=t.last=void 0,ew?t.size=0:this.size=0},delete:function(t){var e,i,n=l(this),t=s(this,t);return t&&(e=t.next,i=t.previous,delete n.index[t.index],t.removed=!0,i&&(i.next=e),e&&(e.previous=i),n.first==t&&(n.first=e),n.last==t&&(n.last=i),ew?n.size--:this.size--),!!t},forEach:function(t){for(var e,i=l(this),n=q0(t,1<arguments.length?arguments[1]:void 0);e=e?e.next:i.first;)for(n(e.value,e.key,this);e&&e.removed;)e=e.previous},has:function(t){return!!s(this,t)}}),X0(a,n?{get:function(t){t=s(this,t);return t&&t.value},set:function(t,e){return r(this,0===t?0:t,e)}}:{add:function(t){return r(this,t=0===t?0:t,t)}}),ew&&U0(a,"size",{configurable:!0,get:function(){return l(this).size}}),t},setStrong:function(t,e,i){var n=e+" Iterator",o=ow(e),r=ow(n);Q0(t,e,function(t,e){nw(this,{type:n,target:t,state:o(t),kind:e,last:void 0})},function(){for(var t=r(this),e=t.kind,i=t.last;i&&i.removed;)i=i.previous;return t.target&&(t.last=i=i?i.next:t.state.first)?J0("keys"==e?i.key:"values"==e?i.value:[i.key,i.value],!1):(t.target=void 0,J0(void 0,!0))},i?"entries":"values",!i,!0),tw(e)}});os.exports=J.Set;var rw=t(Ub),sw={},At={get exports(){return sw},set exports(t){sw=t}},ms=L,aw=$o.findIndex,Mr="findIndex",lw=!0;Mr in[]&&Array(1)[Mr](function(){lw=!1}),ms({target:"Array",proto:!0,forced:lw},{findIndex:function(t){return aw(this,t,1<arguments.length?arguments[1]:void 0)}});var q=ih("Array").findIndex,hw=Tt,uw=q,cw=Array.prototype,dw=(At.exports=function(t){var e=t.findIndex;return t===cw||hw(cw,t)&&e===cw.findIndex?uw:e},t(sw));function pw(t,e){var i,n=void 0!==ud&&Mc(t)||t["@@iterator"];if(!n){if(_h(t)||(n=function(t,e){if(t){if("string"==typeof t)return mw(t,e);var i=vd(i=Object.prototype.toString.call(t)).call(i,8,-1);return"Map"===(i="Object"===i&&t.constructor?t.constructor.name:i)||"Set"===i?Ac(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?mw(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length)return n&&(t=n),i=0,{s:e=function(){},n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:e};throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,r=!0,s=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return r=t.done,t},e:function(t){s=!0,o=t},f:function(){try{r||null==n.return||n.return()}finally{if(s)throw o}}}}function mw(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=new Array(e);i<e;i++)n[i]=t[i];return n}var fw=.001;function gw(t){Ky(t).call(t,function(t,e){return t.data.start-e.data.start})}function vw(t){Ky(t).call(t,function(t,e){return("end"in t.data?t.data.end:t.data.start)-("end"in e.data?e.data.end:e.data.start)})}function yw(t,e,i,n){return null===_w(t,e.item,!1,function(t){return t.stack&&(i||null===t.top)},function(t){return t.stack},function(t){return e.axis},n)}function bw(t,e,i){t=_w(t,e.item,!1,function(t){return t.stack},function(t){return 1},function(t){return t.baseTop});i.height=t-i.top+.5*e.item.vertical}function ww(t,e,i,n){for(var o=0;o<t.length;o++)if(null==t[o].data.subgroup)t[o].top=e.item.vertical;else if(void 0!==t[o].data.subgroup&&n){var r,s=0;for(r in i)i.hasOwnProperty(r)&&1==i[r].visible&&i[r].index<i[t[o].data.subgroup].index&&(s+=i[r].height,i[t[o].data.subgroup].top=s);t[o].top=s+.5*e.item.vertical}n||kw(t,e,i)}function kw(t,e,i){var n;_w(Ky(n=zp(i)).call(n,function(t,e){return t.index>e.index?1:t.index<e.index?-1:0}),{vertical:0},!0,function(t){return 1},function(t){return 1},function(t){return 0});for(var o=0;o<t.length;o++)void 0!==t[o].data.subgroup&&(t[o].top=i[t[o].data.subgroup].top+.5*e.item.vertical)}function xw(t,e,i){var n,o=!1,r=[];for(n in i)i[n].hasOwnProperty("index")?r[i[n].index]=n:r.push(n);for(var s=0;s<r.length;s++)if(n=r[s],i.hasOwnProperty(n)){for(var a in o=o||i[n].stack,i[n].top=0,i)i[a].visible&&i[n].index>i[a].index&&(i[n].top+=i[a].height);for(var l=t[n],h=0;h<l.length;h++)void 0!==l[h].data.subgroup&&(l[h].top=i[l[h].data.subgroup].top+.5*e.item.vertical,i[n].stack&&(l[h].baseTop=l[h].top));o&&i[n].stack&&bw(t[n],e,i[n])}}function _w(t,b,n,o,w,k,x){var r,c=function(t){return t.start},d=function(t){return t.end},_=(n||(c=!(!t[0]||!t[0].options.rtl)?function(t){return t.right}:function(t){return t.left},d=function(t){return c(t)+t.width+b.horizontal}),[]),p=[],m=null,f=0,e=pw(t);try{for(e.s();!(r=e.n()).done;)!function(){var e,t=r.value;o(t)?_.push(t):w(t)&&(e=c(t),null!==m&&e<m-fw&&(f=0),m=e,f=Cw(p,function(t){return c(t)-fw>e},f),Qd(p).call(p,f,0,t),f++)}()}catch(t){e.e(t)}finally{e.f()}function s(){for(var t,e,n,o=_.shift(),r=(o.top=k(o),c(o)),s=d(o),a=(null!==m&&r<m-fw&&(f=y=v=0,g=null),m=r,v=Cw(p,function(t){return r<d(t)-fw},v),(null===g||g<s-fw)&&(y=Cw(p,function(t){return s<c(t)-fw},Math.max(v,y))),null!==g&&s<g-fw&&(y=function(t,e,n,o){n=n||0;o=o||t.length;for(i=o-1;i>=n;i--)if(e(t[i]))return i;return n-1}(p,function(t){return s+fw>=c(t)},v,horizontalOVerlapEndIndex)+1),Ky(u=Qh(u=vd(p).call(p,v,y)).call(u,function(t){return r<d(t)-fw&&s-fw>c(t)})).call(u,function(t,e){return t.top-e.top})),l=0;l<a.length;l++){var h=a[l];e=h,n=b,(t=o).top-n.vertical+fw<e.top+e.height&&t.top+t.height+n.vertical-fw>e.top&&(o.top=h.top+h.height+b.vertical)}w(o)&&(f=Cw(p,function(t){return c(t)-fw>r},f),Qd(p).call(p,f,0,o),f++);var u=o.top+o.height;if(C<u&&(C=u),x&&x())return{v:null}}for(var m=null,g=null,f=0,v=0,y=0,C=0;0<_.length;){var a=s();if("object"===Hl(a))return a.v}return C}function Cw(t,e,i){i=i||0;var n=dw(n=vd(t).call(t,i)).call(n,e);return-1===n?t.length:n+i}var xo=Object.freeze({__proto__:null,nostack:ww,orderByEnd:vw,orderByStart:gw,stack:yw,stackSubgroups:kw,stackSubgroupsWithInnerStack:xw,substack:bw}),Sw="__background__",Dw=function(){function s(t,e,i){var n=this;if(Un(this,s),this.groupId=t,this.subgroups={},this.subgroupStack={},this.subgroupStackAll=!1,this.subgroupVisibility={},this.doInnerStack=!1,this.shouldBailStackItems=!1,this.subgroupIndex=0,this.subgroupOrderer=e&&e.subgroupOrder,this.itemSet=i,this.isVisible=null,this.stackDirty=!0,this._disposeCallbacks=[],e&&e.nestedGroups&&(this.nestedGroups=e.nestedGroups,0==e.showNested?this.showNested=!1:this.showNested=!0),e&&e.subgroupStack)if("boolean"==typeof e.subgroupStack)this.doInnerStack=e.subgroupStack,this.subgroupStackAll=e.subgroupStack;else for(var o in e.subgroupStack)this.subgroupStack[o]=e.subgroupStack[o],this.doInnerStack=this.doInnerStack||e.subgroupStack[o];e&&e.heightMode?this.heightMode=e.heightMode:this.heightMode=i.options.groupHeightMode,this.nestedInGroup=null,this.dom={},this.props={label:{width:0,height:0}},this.className=null,this.items={},this.visibleItems=[],this.itemsInRange=[],this.orderedItems={byStart:[],byEnd:[]},this.checkRangedItems=!1;function r(){n.checkRangedItems=!0}this.itemSet.body.emitter.on("checkRangedItems",r),this._disposeCallbacks.push(function(){n.itemSet.body.emitter.off("checkRangedItems",r)}),this._create(),this.setData(e)}return Xl(s,[{key:"_create",value:function(){var t=document.createElement("div"),e=(this.itemSet.options.groupEditable.order?t.className="vis-label draggable":t.className="vis-label",this.dom.label=t,document.createElement("div")),t=(e.className="vis-inner",t.appendChild(e),this.dom.inner=e,document.createElement("div"));t.className="vis-group",(t["vis-group"]=this).dom.foreground=t,this.dom.background=document.createElement("div"),this.dom.background.className="vis-group",this.dom.axis=document.createElement("div"),this.dom.axis.className="vis-group",this.dom.marker=document.createElement("div"),this.dom.marker.style.visibility="hidden",this.dom.marker.style.position="absolute",this.dom.marker.innerHTML="",this.dom.background.appendChild(this.dom.marker)}},{key:"setData",value:function(t){if(!this.itemSet.groupTouchParams.isDragging){var e;if(t&&t.subgroupVisibility)for(var i in t.subgroupVisibility)this.subgroupVisibility[i]=t.subgroupVisibility[i];if((e=this.itemSet.options&&this.itemSet.options.groupTemplate?(n=p(n=this.itemSet.options.groupTemplate).call(n,this))(t,this.dom.inner):t&&t.content)instanceof Element){for(;this.dom.inner.firstChild;)this.dom.inner.removeChild(this.dom.inner.firstChild);this.dom.inner.appendChild(e)}else e instanceof Object&&e.isReactComponent||(e instanceof Object?n(t,this.dom.inner):this.dom.inner.innerHTML=null!=e?x.xss(e):x.xss(this.groupId||""));this.dom.label.title=t&&t.title||"",this.dom.inner.firstChild?x.removeClassName(this.dom.inner,"vis-hidden"):x.addClassName(this.dom.inner,"vis-hidden"),t&&t.nestedGroups?(this.nestedGroups&&this.nestedGroups==t.nestedGroups||(this.nestedGroups=t.nestedGroups),void 0===t.showNested&&void 0!==this.showNested||(0==t.showNested?this.showNested=!1:this.showNested=!0),x.addClassName(this.dom.label,"vis-nesting-group"),this.showNested?(x.removeClassName(this.dom.label,"collapsed"),x.addClassName(this.dom.label,"expanded")):(x.removeClassName(this.dom.label,"expanded"),x.addClassName(this.dom.label,"collapsed"))):this.nestedGroups&&(this.nestedGroups=null,x.removeClassName(this.dom.label,"collapsed"),x.removeClassName(this.dom.label,"expanded"),x.removeClassName(this.dom.label,"vis-nesting-group")),t&&(t.treeLevel||t.nestedInGroup)?(x.addClassName(this.dom.label,"vis-nested-group"),t.treeLevel?x.addClassName(this.dom.label,"vis-group-level-"+t.treeLevel):x.addClassName(this.dom.label,"vis-group-level-unknown-but-gte1")):x.addClassName(this.dom.label,"vis-group-level-0");var n=t&&t.className||null;n!=this.className&&(this.className&&(x.removeClassName(this.dom.label,this.className),x.removeClassName(this.dom.foreground,this.className),x.removeClassName(this.dom.background,this.className),x.removeClassName(this.dom.axis,this.className)),x.addClassName(this.dom.label,n),x.addClassName(this.dom.foreground,n),x.addClassName(this.dom.background,n),x.addClassName(this.dom.axis,n),this.className=n),this.style&&(x.removeCssText(this.dom.label,this.style),this.style=null),t&&t.style&&(x.addCssText(this.dom.label,t.style),this.style=t.style)}}},{key:"getLabelWidth",value:function(){return this.props.label.width}},{key:"_didMarkerHeightChange",value:function(){var t=this.dom.marker.clientHeight;if(t==this.lastMarkerHeight)return!1;this.lastMarkerHeight=t;var i={},n=0;if(k(x).call(x,this.items,function(t,e){t.dirty=!0,t.displayed&&(i[e]=t.redraw(!0),n=i[e].length)}),0<n)for(var e=0;e<n;e++)!function(e){k(x).call(x,i,function(t){t[e]()})}(e);return!0}},{key:"_calculateGroupSizeAndPosition",value:function(){var t=this.dom.foreground,e=t.offsetTop,i=t.offsetLeft,t=t.offsetWidth;this.top=e,this.right=i,this.width=t}},{key:"_shouldBailItemsRedraw",value:function(){var e=this,t=this.itemSet.options.onTimeout,t={relativeBailingTime:this.itemSet.itemsSettingTime,bailTimeMs:t&&t.timeoutMs,userBailFunction:t&&t.callback,shouldBailStackItems:this.shouldBailStackItems},i=null;if(!this.itemSet.initialDrawDone){if(t.shouldBailStackItems)return!0;Math.abs(_d()-new Date(t.relativeBailingTime))>t.bailTimeMs&&(t.userBailFunction&&null==this.itemSet.userContinueNotBail?t.userBailFunction(function(t){e.itemSet.userContinueNotBail=t,i=!t}):i=0==e.itemSet.userContinueNotBail)}return i}},{key:"_redrawItems",value:function(t,e,i,n){var o=this;if(t||this.stackDirty||this.isVisible&&!e){function r(){var t,e=o._updateItemsInRange(l,Qh(e=o.visibleItems).call(e,function(t){return!t.isCluster}),n),i=o._updateClustersInRange(u,Qh(i=o.visibleItems).call(i,function(t){return t.isCluster}),n);return fd(t=[]).call(t,ad(e),ad(i))}function s(i){var t,n={};for(t in o.subgroups)!function(e){var t=Qh(t=o.visibleItems).call(t,function(t){return t.data.subgroup===e});n[e]=i?Ky(t).call(t,function(t,e){return i(t.data,e.data)}):t}(t);return n}var a,l={byEnd:Qh(t=this.orderedItems.byEnd).call(t,function(t){return!t.isCluster}),byStart:Qh(e=this.orderedItems.byStart).call(e,function(t){return!t.isCluster})},u={byEnd:ad(new rw(Qh(e=Du(t=this.orderedItems.byEnd).call(t,function(t){return t.cluster})).call(e,function(t){return!!t}))),byStart:ad(new rw(Qh(e=Du(t=this.orderedItems.byStart).call(t,function(t){return t.cluster})).call(e,function(t){return!!t})))};"function"==typeof this.itemSet.options.order?(a=this).doInnerStack&&this.itemSet.options.stackSubgroups?(xw(s(this.itemSet.options.order),i,this.subgroups),this.visibleItems=r(),this._updateSubGroupHeights(i)):(this.visibleItems=r(),this._updateSubGroupHeights(i),e=Ky(t=Qh(e=vd(t=this.visibleItems).call(t)).call(e,function(t){return t.isCluster||!t.isCluster&&!t.cluster})).call(t,function(t,e){return a.itemSet.options.order(t.data,e.data)}),this.shouldBailStackItems=yw(e,i,!0,p(t=this._shouldBailItemsRedraw).call(t,this))):(this.visibleItems=r(),this._updateSubGroupHeights(i),this.itemSet.options.stack?this.doInnerStack&&this.itemSet.options.stackSubgroups?xw(s(),i,this.subgroups):this.shouldBailStackItems=yw(this.visibleItems,i,!0,p(e=this._shouldBailItemsRedraw).call(e,this)):ww(this.visibleItems,i,this.subgroups,this.itemSet.options.stackSubgroups));for(var h=0;h<this.visibleItems.length;h++)this.visibleItems[h].repositionX(),void 0!==this.subgroupVisibility[this.visibleItems[h].data.subgroup]&&(this.subgroupVisibility[this.visibleItems[h].data.subgroup]||this.visibleItems[h].hide());this.itemSet.options.cluster&&k(x).call(x,this.items,function(t){t.cluster&&t.displayed&&t.hide()}),this.shouldBailStackItems&&this.itemSet.body.emitter.emit("destroyTimeline"),this.stackDirty=!1}}},{key:"_didResize",value:function(t,e){t=x.updateProperty(this,"height",e)||t;var e=this.dom.inner.clientWidth,i=this.dom.inner.clientHeight;return t=x.updateProperty(this.props.label,"width",e)||t,t=x.updateProperty(this.props.label,"height",i)||t}},{key:"_applyGroupHeight",value:function(t){this.dom.background.style.height="".concat(t,"px"),this.dom.foreground.style.height="".concat(t,"px"),this.dom.label.style.height="".concat(t,"px")}},{key:"_updateItemsVerticalPosition",value:function(t){for(var e=0,i=this.visibleItems.length;e<i;e++){var n=this.visibleItems[e];n.repositionY(t),this.isVisible||this.groupId==Sw||n.displayed&&n.hide()}}},{key:"redraw",value:function(e,i,n,t){var o,r,s=this,a=!1,l=this.isVisible,h=[function(){n=s._didMarkerHeightChange.call(s)||n},p(h=this._updateSubGroupHeights).call(h,this,i),p(h=this._calculateGroupSizeAndPosition).call(h,this),function(){var t;s.isVisible=p(t=s._isGroupVisible).call(t,s)(e,i)},function(){var t;p(t=s._redrawItems).call(t,s)(n,l,i,e)},p(h=this._updateSubgroupsSizes).call(h,this),function(){var t;o=p(t=s._calculateHeight).call(t,s)(i)},p(h=this._calculateGroupSizeAndPosition).call(h,this),function(){var t;a=p(t=s._didResize).call(t,s)(a,o)},function(){var t;p(t=s._applyGroupHeight).call(t,s)(o)},function(){var t;p(t=s._updateItemsVerticalPosition).call(t,s)(i)},p(h=function(){return a=!s.isVisible&&s.height?!1:a}).call(h,this)];return t?h:(k(h).call(h,function(t){r=t()}),r)}},{key:"_updateSubGroupHeights",value:function(e){var i,n=this;0<Vu(this.subgroups).length&&((i=this)._resetSubgroups(),k(x).call(x,this.visibleItems,function(t){void 0!==t.data.subgroup&&(i.subgroups[t.data.subgroup].height=Math.max(i.subgroups[t.data.subgroup].height,t.height+e.item.vertical),i.subgroups[t.data.subgroup].visible=void 0===n.subgroupVisibility[t.data.subgroup]||Boolean(n.subgroupVisibility[t.data.subgroup]))}))}},{key:"_isGroupVisible",value:function(t,e){return this.top<=t.body.domProps.centerContainer.height-t.body.domProps.scrollTop+e.axis&&this.top+this.height+e.axis>=-t.body.domProps.scrollTop}},{key:"_calculateHeight",value:function(t){var e,i,n,o,r="fixed"===this.heightMode?x.toArray(this.items):this.visibleItems;return 0<r.length?(i=r[0].top,n=r[0].top+r[0].height,k(x).call(x,r,function(t){i=Math.min(i,t.top),n=Math.max(n,t.top+t.height)}),i>t.axis&&(o=i-t.axis,n-=o,k(x).call(x,r,function(t){t.top-=o})),e=Math.ceil(n+t.item.vertical/2),"fitItems"!==this.heightMode&&(e=Math.max(e,this.props.label.height))):e=this.props.label.height,e}},{key:"show",value:function(){this.dom.label.parentNode||this.itemSet.dom.labelSet.appendChild(this.dom.label),this.dom.foreground.parentNode||this.itemSet.dom.foreground.appendChild(this.dom.foreground),this.dom.background.parentNode||this.itemSet.dom.background.appendChild(this.dom.background),this.dom.axis.parentNode||this.itemSet.dom.axis.appendChild(this.dom.axis)}},{key:"hide",value:function(){var t=this.dom.label,t=(t.parentNode&&t.parentNode.removeChild(t),this.dom.foreground),t=(t.parentNode&&t.parentNode.removeChild(t),this.dom.background),t=(t.parentNode&&t.parentNode.removeChild(t),this.dom.axis);t.parentNode&&t.parentNode.removeChild(t)}},{key:"add",value:function(t){var e;(this.items[t.id]=t).setParent(this),this.stackDirty=!0,void 0!==t.data.subgroup&&(this._addToSubgroup(t),this.orderSubgroups()),Ep(e=this.visibleItems).call(e,t)||(e=this.itemSet.body.range,this._checkIfVisible(t,this.visibleItems,e))}},{key:"_addToSubgroup",value:function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:t.data.subgroup,i=(null!=e&&void 0===this.subgroups[e]&&(this.subgroups[e]={height:0,top:0,start:t.data.start,end:t.data.end||t.data.start,visible:!1,index:this.subgroupIndex,items:[],stack:this.subgroupStackAll||this.subgroupStack[e]||!1},this.subgroupIndex++),new Date(t.data.start)<new Date(this.subgroups[e].start)&&(this.subgroups[e].start=t.data.start),t.data.end||t.data.start);new Date(i)>new Date(this.subgroups[e].end)&&(this.subgroups[e].end=i),this.subgroups[e].items.push(t)}},{key:"_updateSubgroupsSizes",value:function(){var n=this;if(n.subgroups)for(var o in n.subgroups)!function(){var t=n.subgroups[o].items[0].data.end||n.subgroups[o].items[0].data.start,e=n.subgroups[o].items[0].data.start,i=t-1;k(t=n.subgroups[o].items).call(t,function(t){new Date(t.data.start)<new Date(e)&&(e=t.data.start);t=t.data.end||t.data.start;new Date(t)>new Date(i)&&(i=t)}),n.subgroups[o].start=e,n.subgroups[o].end=new Date(i-1)}()}},{key:"orderSubgroups",value:function(){if(void 0!==this.subgroupOrderer){var t=[];if("string"==typeof this.subgroupOrderer){for(var e in this.subgroups)t.push({subgroup:e,sortField:this.subgroups[e].items[0].data[this.subgroupOrderer]});Ky(t).call(t,function(t,e){return t.sortField-e.sortField})}else if("function"==typeof this.subgroupOrderer){for(var i in this.subgroups)t.push(this.subgroups[i].items[0].data);Ky(t).call(t,this.subgroupOrderer)}if(0<t.length)for(var n=0;n<t.length;n++)this.subgroups[t[n].subgroup].index=n}}},{key:"_resetSubgroups",value:function(){for(var t in this.subgroups)this.subgroups.hasOwnProperty(t)&&(this.subgroups[t].visible=!1,this.subgroups[t].height=0)}},{key:"remove",value:function(t){delete this.items[t.id],t.setParent(null),this.stackDirty=!0;var e,i=am(i=this.visibleItems).call(i,t);-1!=i&&Qd(e=this.visibleItems).call(e,i,1),void 0!==t.data.subgroup&&(this._removeFromSubgroup(t),this.orderSubgroups())}},{key:"_removeFromSubgroup",value:function(t){var e,i,n,o=1<arguments.length&&void 0!==arguments[1]?arguments[1]:t.data.subgroup;null!=o&&(!(e=this.subgroups[o])||0<=(i=am(i=e.items).call(i,t))&&(Qd(n=e.items).call(n,i,1),e.items.length?this._updateSubgroupsSizes():delete this.subgroups[o]))}},{key:"removeFromDataSet",value:function(t){this.itemSet.removeItem(t.id)}},{key:"order",value:function(){for(var t=x.toArray(this.items),e=[],i=[],n=0;n<t.length;n++)void 0!==t[n].data.end&&i.push(t[n]),e.push(t[n]);this.orderedItems={byStart:e,byEnd:i},gw(this.orderedItems.byStart),vw(this.orderedItems.byEnd)}},{key:"_updateItemsInRange",value:function(t,e,i){var n=[],o={};if(!this.isVisible&&this.groupId!=Sw){for(var r=0;r<e.length;r++){var u=e[r];u.displayed&&u.hide()}return n}var s=(i.end-i.start)/4,a=i.start-s,l=i.end+s;if(0<e.length)for(var c=0;c<e.length;c++)this._checkIfVisibleWithReference(e[c],n,o,i);s=x.binarySearchCustom(t.byStart,function(t){return t<a?-1:t<=l?0:1},"data","start");if(this._traceVisible(s,t.byStart,n,o,function(t){return t.data.start<a||t.data.start>l}),1==this.checkRangedItems){this.checkRangedItems=!1;for(var d=0;d<t.byEnd.length;d++)this._checkIfVisibleWithReference(t.byEnd[d],n,o,i)}else{s=x.binarySearchCustom(t.byEnd,function(t){var e=t.start;return t.end<a?-1:e<=l?0:1},"data");this._traceVisible(s,t.byEnd,n,o,function(t){return t.data.end<a||t.data.start>l})}for(var p={},m=0,h=0;h<n.length;h++){var f=n[h];f.displayed||(p[h]=f.redraw(!0),m=p[h].length)}if(0<m)for(var g=0;g<m;g++)!function(e){k(x).call(x,p,function(t){t[e]()})}(g);for(var v=0;v<n.length;v++)n[v].repositionX();return n}},{key:"_traceVisible",value:function(t,e,i,n,o){if(-1!=t){for(var r=t;0<=r;r--){var s=e[r];if(o(s))break;s.isCluster&&!s.hasItems()||s.cluster||void 0===n[s.id]&&(n[s.id]=!0,i.push(s))}for(var a=t+1;a<e.length;a++){var l=e[a];if(o(l))break;l.isCluster&&!l.hasItems()||l.cluster||void 0===n[l.id]&&(n[l.id]=!0,i.push(l))}}}},{key:"_checkIfVisible",value:function(t,e,i){t.isVisible(i)?(t.displayed||t.show(),t.repositionX(),e.push(t)):t.displayed&&t.hide()}},{key:"_checkIfVisibleWithReference",value:function(t,e,i,n){t.isVisible(n)?void 0===i[t.id]&&(i[t.id]=!0,e.push(t)):t.displayed&&t.hide()}},{key:"_updateClustersInRange",value:function(t,e,i){var n=[],o={};if(0<e.length)for(var r=0;r<e.length;r++)this._checkIfVisibleWithReference(e[r],n,o,i);for(var s=0;s<t.byStart.length;s++)this._checkIfVisibleWithReference(t.byStart[s],n,o,i);for(var a=0;a<t.byEnd.length;a++)this._checkIfVisibleWithReference(t.byEnd[a],n,o,i);for(var l={},u=0,h=0;h<n.length;h++){var c=n[h];c.displayed||(l[h]=c.redraw(!0),u=l[h].length)}if(0<u)for(var d=0;d<u;d++)k(x).call(x,l,function(t){t[d]()});for(var p=0;p<n.length;p++)n[p].repositionX();return n}},{key:"changeSubgroup",value:function(t,e,i){this._removeFromSubgroup(t,e),this._addToSubgroup(t,i),this.orderSubgroups()}},{key:"dispose",value:function(){var t;for(this.hide();t=this._disposeCallbacks.pop();)t()}}]),s}();function Tw(i){var n=function(){if("undefined"==typeof Reflect||!o)return!1;if(o.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(o(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var t,e=wh(i);return mh(this,n?(t=wh(this).constructor,o(e,arguments,t)):e.apply(this,arguments))}}var Ow=function(){ph(o,Dw);var n=Tw(o);function o(t,e,i){return Un(this,o),(t=n.call(this,t,e,i)).width=0,t.height=0,t.top=0,t.left=0,t}return Xl(o,[{key:"redraw",value:function(t,e,i){this.visibleItems=this._updateItemsInRange(this.orderedItems,this.visibleItems,t),this.width=this.dom.background.offsetWidth,this.dom.background.style.height="0";for(var n=0,o=this.visibleItems.length;n<o;n++)this.visibleItems[n].repositionY(e);return!1}},{key:"show",value:function(){this.dom.background.parentNode||this.itemSet.dom.background.appendChild(this.dom.background)}}]),o}();function Ew(t,e){var i,n=void 0!==ud&&Mc(t)||t["@@iterator"];if(!n){if(_h(t)||(n=function(t,e){if(t){if("string"==typeof t)return Aw(t,e);var i=vd(i=Object.prototype.toString.call(t)).call(i,8,-1);return"Map"===(i="Object"===i&&t.constructor?t.constructor.name:i)||"Set"===i?Ac(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?Aw(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length)return n&&(t=n),i=0,{s:e=function(){},n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:e};throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,r=!0,s=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return r=t.done,t},e:function(t){s=!0,o=t},f:function(){try{r||null==n.return||n.return()}finally{if(s)throw o}}}}function Aw(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=new Array(e);i<e;i++)n[i]=t[i];return n}var Iw=function(){function r(t,e,i){var n=this,o=(Un(this,r),this.id=null,this.parent=null,this.data=t,this.dom=null,this.conversion=e||{},this.defaultOptions={locales:Eb,locale:"en"},this.options=x.extend({},this.defaultOptions,i),this.options.locales=x.extend({},Eb,this.options.locales),this.defaultOptions.locales[this.defaultOptions.locale]);k(e=Vu(this.options.locales)).call(e,function(t){n.options.locales[t]=x.extend({},o,n.options.locales[t])}),this.selected=!1,this.displayed=!1,this.groupShowing=!0,this.selectable=i&&i.selectable||!1,this.dirty=!0,this.top=null,this.right=null,this.left=null,this.width=null,this.height=null,this.setSelectability(t),this.editable=null,this._updateEditStatus()}return Xl(r,[{key:"select",value:function(){this.selectable&&(this.selected=!0,this.dirty=!0,this.displayed&&this.redraw())}},{key:"unselect",value:function(){this.selected=!1,this.dirty=!0,this.displayed&&this.redraw()}},{key:"setData",value:function(t){null!=t.group&&this.data.group!=t.group&&null!=this.parent&&this.parent.itemSet._moveToGroup(this,t.group),this.setSelectability(t),this.parent&&(this.parent.stackDirty=!0),null!=t.subgroup&&this.data.subgroup!=t.subgroup&&null!=this.parent&&this.parent.changeSubgroup(this,this.data.subgroup,t.subgroup),this.data=t,this._updateEditStatus(),this.dirty=!0,this.displayed&&this.redraw()}},{key:"setSelectability",value:function(t){t&&(this.selectable=void 0===t.selectable||Boolean(t.selectable))}},{key:"setParent",value:function(t){this.displayed?(this.hide(),this.parent=t,this.parent&&this.show()):this.parent=t}},{key:"isVisible",value:function(t){return!1}},{key:"show",value:function(){return!1}},{key:"hide",value:function(){return!1}},{key:"redraw",value:function(){}},{key:"repositionX",value:function(){}},{key:"repositionY",value:function(){}},{key:"_repaintDragCenter",value:function(){var t,e,i;this.selected&&this.editable.updateTime&&!this.dom.dragCenter?(e=this,(i=document.createElement("div")).className="vis-drag-center",(i.dragCenterItem=this).hammerDragCenter=new kb(i),this.hammerDragCenter.on("tap",function(t){e.parent.itemSet.body.emitter.emit("click",{event:t,item:e.id})}),this.hammerDragCenter.on("doubletap",function(t){t.stopPropagation(),e.parent.itemSet._onUpdateItem(e),e.parent.itemSet.body.emitter.emit("doubleClick",{event:t,item:e.id})}),this.hammerDragCenter.on("panstart",function(t){t.stopPropagation(),e.parent.itemSet._onDragStart(t)}),this.hammerDragCenter.on("panmove",p(t=e.parent.itemSet._onDrag).call(t,e.parent.itemSet)),this.hammerDragCenter.on("panend",p(t=e.parent.itemSet._onDragEnd).call(t,e.parent.itemSet)),this.hammerDragCenter.get("press").set({time:1e4}),this.dom.box?this.dom.dragLeft?this.dom.box.insertBefore(i,this.dom.dragLeft):this.dom.box.appendChild(i):this.dom.point&&this.dom.point.appendChild(i),this.dom.dragCenter=i):!this.selected&&this.dom.dragCenter&&(this.dom.dragCenter.parentNode&&this.dom.dragCenter.parentNode.removeChild(this.dom.dragCenter),this.dom.dragCenter=null,this.hammerDragCenter&&(this.hammerDragCenter.destroy(),this.hammerDragCenter=null))}},{key:"_repaintDeleteButton",value:function(t){var e,i,n,o=(this.options.editable.overrideItems||null==this.editable)&&this.options.editable.remove||!this.options.editable.overrideItems&&null!=this.editable&&this.editable.remove;this.selected&&o&&!this.dom.deleteButton?(e=this,i=document.createElement("div"),this.options.rtl?i.className="vis-delete-rtl":i.className="vis-delete",(n=this.options.locales[this.options.locale])||(this.warned||(console.warn("WARNING: options.locales['".concat(this.options.locale,"'] not found. See https://visjs.github.io/vis-timeline/docs/timeline/#Localization")),this.warned=!0),n=this.options.locales.en),i.title=n.deleteSelected,this.hammerDeleteButton=new kb(i).on("tap",function(t){t.stopPropagation(),e.parent.removeFromDataSet(e)}),t.appendChild(i),this.dom.deleteButton=i):this.selected&&o||!this.dom.deleteButton||(this.dom.deleteButton.parentNode&&this.dom.deleteButton.parentNode.removeChild(this.dom.deleteButton),this.dom.deleteButton=null,this.hammerDeleteButton&&(this.hammerDeleteButton.destroy(),this.hammerDeleteButton=null))}},{key:"_repaintOnItemUpdateTimeTooltip",value:function(t){var e,i;this.options.tooltipOnItemUpdateTime&&(e=(this.options.editable.updateTime||!0===this.data.editable)&&!1!==this.data.editable,this.selected&&e&&!this.dom.onItemUpdateTimeTooltip?((e=document.createElement("div")).className="vis-onUpdateTime-tooltip",t.appendChild(e),this.dom.onItemUpdateTimeTooltip=e):!this.selected&&this.dom.onItemUpdateTimeTooltip&&(this.dom.onItemUpdateTimeTooltip.parentNode&&this.dom.onItemUpdateTimeTooltip.parentNode.removeChild(this.dom.onItemUpdateTimeTooltip),this.dom.onItemUpdateTimeTooltip=null),this.dom.onItemUpdateTimeTooltip&&(this.dom.onItemUpdateTimeTooltip.style.visibility=this.parent.itemSet.touchParams.itemIsDragging?"visible":"hidden",this.dom.onItemUpdateTimeTooltip.style.transform="translateX(-50%)",this.dom.onItemUpdateTimeTooltip.style.left="50%",t=this.parent.itemSet.body.domProps.scrollTop,("top"==this.options.orientation.item?this.top:this.parent.height-this.top-this.height)+this.parent.top-50<-t?(this.dom.onItemUpdateTimeTooltip.style.bottom="",this.dom.onItemUpdateTimeTooltip.style.top="".concat(this.height+2,"px")):(this.dom.onItemUpdateTimeTooltip.style.top="",this.dom.onItemUpdateTimeTooltip.style.bottom="".concat(this.height+2,"px")),this.options.tooltipOnItemUpdateTime&&this.options.tooltipOnItemUpdateTime.template?i=p(e=this.options.tooltipOnItemUpdateTime.template).call(e,this)(this.data):(i="start: ".concat(Yh(this.data.start).format("MM/DD/YYYY hh:mm")),this.data.end&&(i+="<br> end: ".concat(Yh(this.data.end).format("MM/DD/YYYY hh:mm")))),this.dom.onItemUpdateTimeTooltip.innerHTML=x.xss(i)))}},{key:"_getItemData",value:function(){return this.parent.itemSet.itemsData.get(this.id)}},{key:"_updateContents",value:function(t){var e,i,n,o=this._getItemData(),r=(this.dom.box||this.dom.point).getElementsByClassName("vis-item-visible-frame")[0];if(e=this.options.visibleFrameTemplate?(i=p(i=this.options.visibleFrameTemplate).call(i,this),x.xss(i(o,r))):"",r)if(e instanceof Object&&!(e instanceof Element))i(o,r);else if(this._contentToString(this.itemVisibleFrameContent)!==this._contentToString(e)){if(e instanceof Element)r.innerHTML="",r.appendChild(e);else if(null!=e)r.innerHTML=x.xss(e);else if("background"!=this.data.type||void 0!==this.data.content)throw new Error('Property "content" missing in item '.concat(this.id));this.itemVisibleFrameContent=e}if((r=this.options.template?(n=p(i=this.options.template).call(i,this))(o,t,this.data):this.data.content)instanceof Object&&!(r instanceof Element))n(o,t);else if(this._contentToString(this.content)!==this._contentToString(r)){if(r instanceof Element)t.innerHTML="",t.appendChild(r);else if(null!=r)t.innerHTML=x.xss(r);else if("background"!=this.data.type||void 0!==this.data.content)throw new Error('Property "content" missing in item '.concat(this.id));this.content=r}}},{key:"_updateDataAttributes",value:function(t){if(this.options.dataAttributes&&0<this.options.dataAttributes.length){var e=[];if(_h(this.options.dataAttributes))e=this.options.dataAttributes;else{if("all"!=this.options.dataAttributes)return;e=Vu(this.data)}var i,n=Ew(e);try{for(n.s();!(i=n.n()).done;){var o=i.value,r=this.data[o];null!=r?t.setAttribute("data-".concat(o),r):t.removeAttribute("data-".concat(o))}}catch(t){n.e(t)}finally{n.f()}}}},{key:"_updateStyle",value:function(t){this.style&&(x.removeCssText(t,this.style),this.style=null),this.data.style&&(x.addCssText(t,this.data.style),this.style=this.data.style)}},{key:"_contentToString",value:function(t){return"string"!=typeof t&&t&&"outerHTML"in t?t.outerHTML:t}},{key:"_updateEditStatus",value:function(){this.options&&("boolean"==typeof this.options.editable?this.editable={updateTime:this.options.editable,updateGroup:this.options.editable,remove:this.options.editable}:"object"===Hl(this.options.editable)&&(this.editable={},x.selectiveExtend(["updateTime","updateGroup","remove"],this.editable,this.options.editable))),this.options&&this.options.editable&&!0===this.options.editable.overrideItems||this.data&&("boolean"==typeof this.data.editable?this.editable={updateTime:this.data.editable,updateGroup:this.data.editable,remove:this.data.editable}:"object"===Hl(this.data.editable)&&(this.editable={},x.selectiveExtend(["updateTime","updateGroup","remove"],this.editable,this.data.editable)))}},{key:"getWidthLeft",value:function(){return 0}},{key:"getWidthRight",value:function(){return 0}},{key:"getTitle",value:function(){var t;return this.options.tooltip&&this.options.tooltip.template?p(t=this.options.tooltip.template).call(t,this)(this._getItemData(),this.data):this.data.title}}]),r}();function Pw(i){var n=function(){if("undefined"==typeof Reflect||!o)return!1;if(o.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(o(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var t,e=wh(i);return mh(this,n?(t=wh(this).constructor,o(e,arguments,t)):e.apply(this,arguments))}}Iw.prototype.stack=!0;rs=function(){ph(o,Iw);var n=Pw(o);function o(t,e,i){if(Un(this,o),(e=n.call(this,t,e,i)).props={dot:{width:0,height:0},line:{width:0,height:0}},t&&null==t.start)throw new Error('Property "start" missing in item '.concat(t));return e}return Xl(o,[{key:"isVisible",value:function(t){if(this.cluster)return!1;var e=this.data.align||this.options.align,i=this.width*t.getMillisecondsPerPixel();return"right"==e?this.data.start.getTime()>t.start&&this.data.start.getTime()-i<t.end:"left"==e?this.data.start.getTime()+i>t.start&&this.data.start.getTime()<t.end:this.data.start.getTime()+i/2>t.start&&this.data.start.getTime()-i/2<t.end}},{key:"_createDomElement",value:function(){this.dom||(this.dom={},this.dom.box=document.createElement("DIV"),this.dom.content=document.createElement("DIV"),this.dom.content.className="vis-item-content",this.dom.box.appendChild(this.dom.content),this.dom.line=document.createElement("DIV"),this.dom.line.className="vis-line",this.dom.dot=document.createElement("DIV"),this.dom.dot.className="vis-dot",(this.dom.box["vis-item"]=this).dirty=!0)}},{key:"_appendDomElement",value:function(){if(!this.parent)throw new Error("Cannot redraw item: no parent attached");if(!this.dom.box.parentNode){var t=this.parent.dom.foreground;if(!t)throw new Error("Cannot redraw item: parent has no foreground container element");t.appendChild(this.dom.box)}if(!this.dom.line.parentNode){var e=this.parent.dom.background;if(!e)throw new Error("Cannot redraw item: parent has no background container element");e.appendChild(this.dom.line)}if(!this.dom.dot.parentNode){t=this.parent.dom.axis;if(!e)throw new Error("Cannot redraw item: parent has no axis container element");t.appendChild(this.dom.dot)}this.displayed=!0}},{key:"_updateDirtyDomComponents",value:function(){var t;this.dirty&&(this._updateContents(this.dom.content),this._updateDataAttributes(this.dom.box),this._updateStyle(this.dom.box),t=this.editable.updateTime||this.editable.updateGroup,t=(this.data.className?" "+this.data.className:"")+(this.selected?" vis-selected":"")+(t?" vis-editable":" vis-readonly"),this.dom.box.className="vis-item vis-box".concat(t),this.dom.line.className="vis-item vis-line".concat(t),this.dom.dot.className="vis-item vis-dot".concat(t))}},{key:"_getDomComponentsSizes",value:function(){return{previous:{right:this.dom.box.style.right,left:this.dom.box.style.left},dot:{height:this.dom.dot.offsetHeight,width:this.dom.dot.offsetWidth},line:{width:this.dom.line.offsetWidth},box:{width:this.dom.box.offsetWidth,height:this.dom.box.offsetHeight}}}},{key:"_updateDomComponentsSizes",value:function(t){this.options.rtl?this.dom.box.style.right="0px":this.dom.box.style.left="0px",this.props.dot.height=t.dot.height,this.props.dot.width=t.dot.width,this.props.line.width=t.line.width,this.width=t.box.width,this.height=t.box.height,this.options.rtl?this.dom.box.style.right=t.previous.right:this.dom.box.style.left=t.previous.left,this.dirty=!1}},{key:"_repaintDomAdditionals",value:function(){this._repaintOnItemUpdateTimeTooltip(this.dom.box),this._repaintDragCenter(),this._repaintDeleteButton(this.dom.box)}},{key:"redraw",value:function(t){var e,i,n=this,o=[p(o=this._createDomElement).call(o,this),p(o=this._appendDomElement).call(o,this),p(o=this._updateDirtyDomComponents).call(o,this),function(){n.dirty&&(e=n._getDomComponentsSizes())},function(){var t;n.dirty&&p(t=n._updateDomComponentsSizes).call(t,n)(e)},p(o=this._repaintDomAdditionals).call(o,this)];return t?o:(k(o).call(o,function(t){i=t()}),i)}},{key:"show",value:function(t){if(!this.displayed)return this.redraw(t)}},{key:"hide",value:function(){var t;this.displayed&&((t=this.dom).box.remove?t.box.remove():t.box.parentNode&&t.box.parentNode.removeChild(t.box),t.line.remove?t.line.remove():t.line.parentNode&&t.line.parentNode.removeChild(t.line),t.dot.remove?t.dot.remove():t.dot.parentNode&&t.dot.parentNode.removeChild(t.dot),this.displayed=!1)}},{key:"repositionXY",value:function(){var t,e=this.options.rtl;(t=function(t,e,i){var n,o;void 0===e&&void 0===i||(o=3<arguments.length&&void 0!==arguments[3]&&arguments[3]?-1*e:e,t.style.transform=void 0!==i?void 0!==e?fd(n="translate(".concat(o,"px, ")).call(n,i,"px)"):"translateY(".concat(i,"px)"):"translateX(".concat(o,"px)"))})(this.dom.box,this.boxX,this.boxY,e),t(this.dom.dot,this.dotX,this.dotY,e),t(this.dom.line,this.lineX,this.lineY,e)}},{key:"repositionX",value:function(){var t=this.conversion.toScreen(this.data.start),e=(void 0===this.data.align?this.options:this.data).align,i=this.props.line.width,n=this.props.dot.width;"right"==e?(this.boxX=t-this.width,this.lineX=t-i,this.dotX=t-i/2-n/2):"left"==e?(this.boxX=t,this.lineX=t,this.dotX=t+i/2-n/2):(this.boxX=t-this.width/2,this.lineX=this.options.rtl?t-i:t-i/2,this.dotX=t-n/2),this.options.rtl?this.right=this.boxX:this.left=this.boxX,this.repositionXY()}},{key:"repositionY",value:function(){var t=this.options.orientation.item,e=this.dom.line.style;"top"==t?(t=this.parent.top+this.top+1,this.boxY=this.top||0,e.height="".concat(t,"px"),e.bottom="",e.top="0"):(t=this.parent.itemSet.props.height-this.parent.top-this.parent.height+this.top,this.boxY=this.parent.height-this.top-(this.height||0),e.height="".concat(t,"px"),e.top="",e.bottom="0"),this.dotY=-this.props.dot.height/2,this.repositionXY()}},{key:"getWidthLeft",value:function(){return this.width/2}},{key:"getWidthRight",value:function(){return this.width/2}}]),o}();function Mw(i){var n=function(){if("undefined"==typeof Reflect||!o)return!1;if(o.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(o(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var t,e=wh(i);return mh(this,n?(t=wh(this).constructor,o(e,arguments,t)):e.apply(this,arguments))}}ct=function(){ph(o,Iw);var n=Mw(o);function o(t,e,i){if(Un(this,o),(e=n.call(this,t,e,i)).props={dot:{top:0,width:0,height:0},content:{height:0,marginLeft:0,marginRight:0}},t&&null==t.start)throw new Error('Property "start" missing in item '.concat(t));return e}return Xl(o,[{key:"isVisible",value:function(t){if(this.cluster)return!1;var e=this.width*t.getMillisecondsPerPixel();return this.data.start.getTime()+e>t.start&&this.data.start<t.end}},{key:"_createDomElement",value:function(){this.dom||(this.dom={},this.dom.point=document.createElement("div"),this.dom.content=document.createElement("div"),this.dom.content.className="vis-item-content",this.dom.point.appendChild(this.dom.content),this.dom.dot=document.createElement("div"),this.dom.point.appendChild(this.dom.dot),(this.dom.point["vis-item"]=this).dirty=!0)}},{key:"_appendDomElement",value:function(){if(!this.parent)throw new Error("Cannot redraw item: no parent attached");if(!this.dom.point.parentNode){var t=this.parent.dom.foreground;if(!t)throw new Error("Cannot redraw item: parent has no foreground container element");t.appendChild(this.dom.point)}this.displayed=!0}},{key:"_updateDirtyDomComponents",value:function(){var t;this.dirty&&(this._updateContents(this.dom.content),this._updateDataAttributes(this.dom.point),this._updateStyle(this.dom.point),t=this.editable.updateTime||this.editable.updateGroup,t=(this.data.className?" "+this.data.className:"")+(this.selected?" vis-selected":"")+(t?" vis-editable":" vis-readonly"),this.dom.point.className="vis-item vis-point".concat(t),this.dom.dot.className="vis-item vis-dot".concat(t))}},{key:"_getDomComponentsSizes",value:function(){return{dot:{width:this.dom.dot.offsetWidth,height:this.dom.dot.offsetHeight},content:{width:this.dom.content.offsetWidth,height:this.dom.content.offsetHeight},point:{width:this.dom.point.offsetWidth,height:this.dom.point.offsetHeight}}}},{key:"_updateDomComponentsSizes",value:function(t){this.props.dot.width=t.dot.width,this.props.dot.height=t.dot.height,this.props.content.height=t.content.height,this.options.rtl?this.dom.content.style.marginRight="".concat(this.props.dot.width/2,"px"):this.dom.content.style.marginLeft="".concat(this.props.dot.width/2,"px"),this.width=t.point.width,this.height=t.point.height,this.dom.dot.style.top="".concat((this.height-this.props.dot.height)/2,"px");t=this.props.dot.width,t=this.options.rtl?t/2:t/2*-1;this.dom.dot.style.transform="translateX(".concat(t,"px"),this.dirty=!1}},{key:"_repaintDomAdditionals",value:function(){this._repaintOnItemUpdateTimeTooltip(this.dom.point),this._repaintDragCenter(),this._repaintDeleteButton(this.dom.point)}},{key:"redraw",value:function(t){var e,i,n=this,o=[p(o=this._createDomElement).call(o,this),p(o=this._appendDomElement).call(o,this),p(o=this._updateDirtyDomComponents).call(o,this),function(){n.dirty&&(e=n._getDomComponentsSizes())},function(){var t;n.dirty&&p(t=n._updateDomComponentsSizes).call(t,n)(e)},p(o=this._repaintDomAdditionals).call(o,this)];return t?o:(k(o).call(o,function(t){i=t()}),i)}},{key:"repositionXY",value:function(){var t=this.options.rtl;(function(t,e,i){var n,o;void 0===e&&void 0===i||(o=3<arguments.length&&void 0!==arguments[3]&&arguments[3]?-1*e:e,t.style.transform=void 0!==i?void 0!==e?fd(n="translate(".concat(o,"px, ")).call(n,i,"px)"):"translateY(".concat(i,"px)"):"translateX(".concat(o,"px)"))})(this.dom.point,this.pointX,this.pointY,t)}},{key:"show",value:function(t){if(!this.displayed)return this.redraw(t)}},{key:"hide",value:function(){this.displayed&&(this.dom.point.parentNode&&this.dom.point.parentNode.removeChild(this.dom.point),this.displayed=!1)}},{key:"repositionX",value:function(){var t=this.conversion.toScreen(this.data.start);this.pointX=t,this.options.rtl?this.right=t-this.props.dot.width:this.left=t-this.props.dot.width,this.repositionXY()}},{key:"repositionY",value:function(){var t=this.options.orientation.item;this.pointY="top"==t?this.top:this.parent.height-this.top-this.height,this.repositionXY()}},{key:"getWidthLeft",value:function(){return this.props.dot.width}},{key:"getWidthRight",value:function(){return this.props.dot.width}}]),o}();function Nw(i){var n=function(){if("undefined"==typeof Reflect||!o)return!1;if(o.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(o(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var t,e=wh(i);return mh(this,n?(t=wh(this).constructor,o(e,arguments,t)):e.apply(this,arguments))}}var Fw=function(){ph(o,Iw);var n=Nw(o);function o(t,e,i){if(Un(this,o),(e=n.call(this,t,e,i)).props={content:{width:0}},e.overflow=!1,t){if(null==t.start)throw new Error('Property "start" missing in item '.concat(t.id));if(null==t.end)throw new Error('Property "end" missing in item '.concat(t.id))}return e}return Xl(o,[{key:"isVisible",value:function(t){return!this.cluster&&(this.data.start<t.end&&this.data.end>t.start)}},{key:"_createDomElement",value:function(){this.dom||(this.dom={},this.dom.box=document.createElement("div"),this.dom.frame=document.createElement("div"),this.dom.frame.className="vis-item-overflow",this.dom.box.appendChild(this.dom.frame),this.dom.visibleFrame=document.createElement("div"),this.dom.visibleFrame.className="vis-item-visible-frame",this.dom.box.appendChild(this.dom.visibleFrame),this.dom.content=document.createElement("div"),this.dom.content.className="vis-item-content",this.dom.frame.appendChild(this.dom.content),(this.dom.box["vis-item"]=this).dirty=!0)}},{key:"_appendDomElement",value:function(){if(!this.parent)throw new Error("Cannot redraw item: no parent attached");if(!this.dom.box.parentNode){var t=this.parent.dom.foreground;if(!t)throw new Error("Cannot redraw item: parent has no foreground container element");t.appendChild(this.dom.box)}this.displayed=!0}},{key:"_updateDirtyDomComponents",value:function(){var t;this.dirty&&(this._updateContents(this.dom.content),this._updateDataAttributes(this.dom.box),this._updateStyle(this.dom.box),t=this.editable.updateTime||this.editable.updateGroup,t=(this.data.className?" "+this.data.className:"")+(this.selected?" vis-selected":"")+(t?" vis-editable":" vis-readonly"),this.dom.box.className=this.baseClassName+t,this.dom.content.style.maxWidth="none")}},{key:"_getDomComponentsSizes",value:function(){return this.overflow="hidden"!==window.getComputedStyle(this.dom.frame).overflow,this.whiteSpace="nowrap"!==window.getComputedStyle(this.dom.content).whiteSpace,{content:{width:this.dom.content.offsetWidth},box:{height:this.dom.box.offsetHeight}}}},{key:"_updateDomComponentsSizes",value:function(t){this.props.content.width=t.content.width,this.height=t.box.height,this.dom.content.style.maxWidth="",this.dirty=!1}},{key:"_repaintDomAdditionals",value:function(){this._repaintOnItemUpdateTimeTooltip(this.dom.box),this._repaintDeleteButton(this.dom.box),this._repaintDragCenter(),this._repaintDragLeft(),this._repaintDragRight()}},{key:"redraw",value:function(t){var e,i,n=this,o=[p(o=this._createDomElement).call(o,this),p(o=this._appendDomElement).call(o,this),p(o=this._updateDirtyDomComponents).call(o,this),function(){var t;n.dirty&&(e=p(t=n._getDomComponentsSizes).call(t,n)())},function(){var t;n.dirty&&p(t=n._updateDomComponentsSizes).call(t,n)(e)},p(o=this._repaintDomAdditionals).call(o,this)];return t?o:(k(o).call(o,function(t){i=t()}),i)}},{key:"show",value:function(t){if(!this.displayed)return this.redraw(t)}},{key:"hide",value:function(){var t;this.displayed&&((t=this.dom.box).parentNode&&t.parentNode.removeChild(t),this.displayed=!1)}},{key:"repositionX",value:function(t){var e=this.parent.width,i=this.conversion.toScreen(this.data.start),n=this.conversion.toScreen(this.data.end),o=(void 0===this.data.align?this.options:this.data).align,r=(!1===this.data.limitSize||void 0!==t&&!0!==t||(i<-e&&(i=-e),2*e<n&&(n=2*e)),Math.max(Math.round(1e3*(n-i))/1e3,1)),s=this.overflow?(this.options.rtl?this.right=i:this.left=i,this.width=r+this.props.content.width,this.props.content.width):(this.options.rtl?this.right=i:this.left=i,this.width=r,Math.min(n-i,this.props.content.width));switch(this.options.rtl?this.dom.box.style.transform="translateX(".concat(-1*this.right,"px)"):this.dom.box.style.transform="translateX(".concat(this.left,"px)"),this.dom.box.style.width="".concat(r,"px"),this.whiteSpace&&(this.height=this.dom.box.offsetHeight),o){case"left":this.dom.content.style.transform="translateX(0)";break;case"right":this.options.rtl?(a=-1*Math.max(r-s,0),this.dom.content.style.transform="translateX(".concat(a,"px)")):this.dom.content.style.transform="translateX(".concat(Math.max(r-s,0),"px)");break;case"center":this.options.rtl?(a=-1*Math.max((r-s)/2,0),this.dom.content.style.transform="translateX(".concat(a,"px)")):this.dom.content.style.transform="translateX(".concat(Math.max((r-s)/2,0),"px)");break;default:var a=this.overflow?0<n?Math.max(-i,0):-s:i<0?-i:0;this.options.rtl?this.dom.content.style.transform="translateX(".concat(-1*a,"px)"):this.dom.content.style.transform="translateX(".concat(a,"px)")}}},{key:"repositionY",value:function(){var t=this.options.orientation.item,e=this.dom.box;e.style.top="".concat("top"==t?this.top:this.parent.height-this.top-this.height,"px")}},{key:"_repaintDragLeft",value:function(){var t;(this.selected||this.options.itemsAlwaysDraggable.range)&&this.editable.updateTime&&!this.dom.dragLeft?((t=document.createElement("div")).className="vis-drag-left",(t.dragLeftItem=this).dom.box.appendChild(t),this.dom.dragLeft=t):this.selected||this.options.itemsAlwaysDraggable.range||!this.dom.dragLeft||(this.dom.dragLeft.parentNode&&this.dom.dragLeft.parentNode.removeChild(this.dom.dragLeft),this.dom.dragLeft=null)}},{key:"_repaintDragRight",value:function(){var t;(this.selected||this.options.itemsAlwaysDraggable.range)&&this.editable.updateTime&&!this.dom.dragRight?((t=document.createElement("div")).className="vis-drag-right",(t.dragRightItem=this).dom.box.appendChild(t),this.dom.dragRight=t):this.selected||this.options.itemsAlwaysDraggable.range||!this.dom.dragRight||(this.dom.dragRight.parentNode&&this.dom.dragRight.parentNode.removeChild(this.dom.dragRight),this.dom.dragRight=null)}}]),o}();function Rw(i){var n=function(){if("undefined"==typeof Reflect||!o)return!1;if(o.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(o(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var t,e=wh(i);return mh(this,n?(t=wh(this).constructor,o(e,arguments,t)):e.apply(this,arguments))}}Fw.prototype.baseClassName="vis-item vis-range";var Lw=function(){ph(o,Iw);var n=Rw(o);function o(t,e,i){if(Un(this,o),(e=n.call(this,t,e,i)).props={content:{width:0}},e.overflow=!1,t){if(null==t.start)throw new Error('Property "start" missing in item '.concat(t.id));if(null==t.end)throw new Error('Property "end" missing in item '.concat(t.id))}return e}return Xl(o,[{key:"isVisible",value:function(t){return this.data.start<t.end&&this.data.end>t.start}},{key:"_createDomElement",value:function(){this.dom||(this.dom={},this.dom.box=document.createElement("div"),this.dom.frame=document.createElement("div"),this.dom.frame.className="vis-item-overflow",this.dom.box.appendChild(this.dom.frame),this.dom.content=document.createElement("div"),this.dom.content.className="vis-item-content",this.dom.frame.appendChild(this.dom.content),this.dirty=!0)}},{key:"_appendDomElement",value:function(){if(!this.parent)throw new Error("Cannot redraw item: no parent attached");if(!this.dom.box.parentNode){var t=this.parent.dom.background;if(!t)throw new Error("Cannot redraw item: parent has no background container element");t.appendChild(this.dom.box)}this.displayed=!0}},{key:"_updateDirtyDomComponents",value:function(){var t;this.dirty&&(this._updateContents(this.dom.content),this._updateDataAttributes(this.dom.content),this._updateStyle(this.dom.box),t=(this.data.className?" "+this.data.className:"")+(this.selected?" vis-selected":""),this.dom.box.className=this.baseClassName+t)}},{key:"_getDomComponentsSizes",value:function(){return this.overflow="hidden"!==window.getComputedStyle(this.dom.content).overflow,{content:{width:this.dom.content.offsetWidth}}}},{key:"_updateDomComponentsSizes",value:function(t){this.props.content.width=t.content.width,this.height=0,this.dirty=!1}},{key:"_repaintDomAdditionals",value:function(){}},{key:"redraw",value:function(t){var e,i,n=this,o=[p(o=this._createDomElement).call(o,this),p(o=this._appendDomElement).call(o,this),p(o=this._updateDirtyDomComponents).call(o,this),function(){var t;n.dirty&&(e=p(t=n._getDomComponentsSizes).call(t,n)())},function(){var t;n.dirty&&p(t=n._updateDomComponentsSizes).call(t,n)(e)},p(o=this._repaintDomAdditionals).call(o,this)];return t?o:(k(o).call(o,function(t){i=t()}),i)}},{key:"repositionY",value:function(t){var e,i,n=this.options.orientation.item;void 0!==this.data.subgroup?(i=this.data.subgroup,this.dom.box.style.height="".concat(this.parent.subgroups[i].height,"px"),this.dom.box.style.top="".concat("top"==n?this.parent.top+this.parent.subgroups[i].top:this.parent.top+this.parent.height-this.parent.subgroups[i].top-this.parent.subgroups[i].height,"px"),this.dom.box.style.bottom=""):this.parent instanceof Ow?(e=Math.max(this.parent.height,this.parent.itemSet.body.domProps.center.height,this.parent.itemSet.body.domProps.centerContainer.height),this.dom.box.style.bottom="bottom"==n?"0":"",this.dom.box.style.top="top"==n?"0":""):(e=this.parent.height,this.dom.box.style.top="".concat(this.parent.top,"px"),this.dom.box.style.bottom=""),this.dom.box.style.height="".concat(e,"px")}}]),o}(),jw=(Lw.prototype.baseClassName="vis-item vis-background",Lw.prototype.stack=!1,Lw.prototype.show=Fw.prototype.show,Lw.prototype.hide=Fw.prototype.hide,Lw.prototype.repositionX=Fw.prototype.repositionX,function(){function i(t,e){Un(this,i),this.container=t,this.overflowMethod=e||"cap",this.x=0,this.y=0,this.padding=5,this.hidden=!1,this.frame=document.createElement("div"),this.frame.className="vis-tooltip",this.container.appendChild(this.frame)}return Xl(i,[{key:"setPosition",value:function(t,e){this.x=Jp(t),this.y=Jp(e)}},{key:"setText",value:function(t){t instanceof Element?(this.frame.innerHTML="",this.frame.appendChild(t)):this.frame.innerHTML=x.xss(t)}},{key:"show",value:function(t){var e,i,n,o,r,s,a;!0===(t=void 0===t?!0:t)?(t=this.frame.clientHeight,e=this.frame.clientWidth,i=this.frame.parentNode.clientHeight,n=this.frame.parentNode.clientWidth,r=o=0,"flip"==this.overflowMethod||"none"==this.overflowMethod?(a=!(s=!1),"flip"==this.overflowMethod&&(this.y-t<this.padding&&(a=!1),this.x+e>n-this.padding&&(s=!0)),o=s?this.x-e:this.x,r=a?this.y-t:this.y):((r=(r=this.y-t)+t+this.padding>i?i-t-this.padding:r)<this.padding&&(r=this.padding),(o=(o=this.x)+e+this.padding>n?n-e-this.padding:o)<this.padding&&(o=this.padding)),this.frame.style.left=o+"px",this.frame.style.top=r+"px",this.frame.style.visibility="visible",this.hidden=!1):this.hide()}},{key:"hide",value:function(){this.hidden=!0,this.frame.style.left="0",this.frame.style.top="0",this.frame.style.visibility="hidden"}},{key:"destroy",value:function(){this.frame.parentNode.removeChild(this.frame)}}]),i}()),Bw={},Vr={get exports(){return Bw},set exports(t){Bw=t}},as=L,zw=$o.every;as({target:"Array",proto:!0,forced:!Mh("every")},{every:function(t){return zw(this,t,1<arguments.length?arguments[1]:void 0)}});var dn=ih("Array").every,Hw=Tt,Gw=dn,Ww=Array.prototype,Yw=(Vr.exports=function(t){var e=t.every;return t===Ww||Hw(Ww,t)&&e===Ww.every?Gw:e},t(Bw));function Vw(t,e){var i,n=void 0!==ud&&Mc(t)||t["@@iterator"];if(!n){if(_h(t)||(n=function(t,e){if(t){if("string"==typeof t)return Uw(t,e);var i=vd(i=Object.prototype.toString.call(t)).call(i,8,-1);return"Map"===(i="Object"===i&&t.constructor?t.constructor.name:i)||"Set"===i?Ac(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?Uw(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length)return n&&(t=n),i=0,{s:e=function(){},n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:e};throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,r=!0,s=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return r=t.done,t},e:function(t){s=!0,o=t},f:function(){try{r||null==n.return||n.return()}finally{if(s)throw o}}}}function Uw(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=new Array(e);i<e;i++)n[i]=t[i];return n}function Xw(i){var n=function(){if("undefined"==typeof Reflect||!o)return!1;if(o.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(o(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var t,e=wh(i);return mh(this,n?(t=wh(this).constructor,o(e,arguments,t)):e.apply(this,arguments))}}var qw=function(){ph(o,Iw);var n=Xw(o);function o(t,e,i){Un(this,o);i=up({},{fitOnDoubleClick:!0},i,{editable:!1}),e=n.call(this,t,e,i);if(e.props={content:{width:0,height:0}},!t||null==t.uiItems)throw new Error('Property "uiItems" missing in item '+t.id);return e.id=ty(),e.group=t.group,e._setupRange(),e.emitter=e.data.eventEmitter,e.range=e.data.range,e.attached=!1,e.isCluster=!0,e.data.isCluster=!0,e}return Xl(o,[{key:"hasItems",value:function(){return this.data.uiItems&&this.data.uiItems.length&&this.attached}},{key:"setUiItems",value:function(t){this.detach(),this.data.uiItems=t,this._setupRange(),this.attach()}},{key:"isVisible",value:function(t){var e=this.data.end?this.data.end-this.data.start:0,i=this.width*t.getMillisecondsPerPixel(),e=Math.max(this.data.start.getTime()+e,this.data.start.getTime()+i);return this.data.start<t.end&&e>t.start&&this.hasItems()}},{key:"getData",value:function(){return{isCluster:!0,id:this.id,items:this.data.items||[],data:this.data}}},{key:"redraw",value:function(t){var e,i,n=[p(n=this._createDomElement).call(n,this),p(n=this._appendDomElement).call(n,this),p(n=this._updateDirtyDomComponents).call(n,this),p(n=function(){this.dirty&&(e=this._getDomComponentsSizes())}).call(n,this),p(n=function(){var t;this.dirty&&p(t=this._updateDomComponentsSizes).call(t,this)(e)}).call(n,this),p(n=this._repaintDomAdditionals).call(n,this)];return t?n:(k(n).call(n,function(t){i=t()}),i)}},{key:"show",value:function(){this.displayed||this.redraw()}},{key:"hide",value:function(){var t;this.displayed&&((t=this.dom).box.parentNode&&t.box.parentNode.removeChild(t.box),this.options.showStipes&&(t.line.parentNode&&t.line.parentNode.removeChild(t.line),t.dot.parentNode&&t.dot.parentNode.removeChild(t.dot)),this.displayed=!1)}},{key:"repositionX",value:function(){var t,e=this.conversion.toScreen(this.data.start),i=this.data.end?this.conversion.toScreen(this.data.end):0;i?this.repositionXWithRanges(e,i):(t=(void 0===this.data.align?this.options:this.data).align,this.repositionXWithoutRanges(e,t)),this.options.showStipes&&(this.dom.line.style.display=this._isStipeVisible()?"block":"none",this.dom.dot.style.display=this._isStipeVisible()?"block":"none",this._isStipeVisible()&&this.repositionStype(e,i))}},{key:"repositionStype",value:function(t,e){this.dom.line.style.display="block",this.dom.dot.style.display="block";var i=this.dom.line.offsetWidth,n=this.dom.dot.offsetWidth;e?(e=(i=i+t+(e-t)/2)-n/2,i=this.options.rtl?-1*i:i,e=this.options.rtl?-1*e:e,this.dom.line.style.transform="translateX(".concat(i,"px)"),this.dom.dot.style.transform="translateX(".concat(e,"px)")):(i=this.options.rtl?-1*t:t,e=this.options.rtl?-1*(t-n/2):t-n/2,this.dom.line.style.transform="translateX(".concat(i,"px)"),this.dom.dot.style.transform="translateX(".concat(e,"px)"))}},{key:"repositionXWithoutRanges",value:function(t,e){"right"==e?this.options.rtl?(this.right=t-this.width,this.dom.box.style.right=this.right+"px"):(this.left=t-this.width,this.dom.box.style.left=this.left+"px"):"left"==e?this.options.rtl?(this.right=t,this.dom.box.style.right=this.right+"px"):(this.left=t,this.dom.box.style.left=this.left+"px"):this.options.rtl?(this.right=t-this.width/2,this.dom.box.style.right=this.right+"px"):(this.left=t-this.width/2,this.dom.box.style.left=this.left+"px")}},{key:"repositionXWithRanges",value:function(t,e){e=Math.round(Math.max(e-t+.5,1));this.options.rtl?this.right=t:this.left=t,this.width=Math.max(e,this.minWidth||0),this.options.rtl?this.dom.box.style.right=this.right+"px":this.dom.box.style.left=this.left+"px",this.dom.box.style.width=e+"px"}},{key:"repositionY",value:function(){var t=this.options.orientation.item,e=this.dom.box;e.style.top="top"==t?(this.top||0)+"px":(this.parent.height-this.top-this.height||0)+"px",this.options.showStipes&&("top"==t?(this.dom.line.style.top="0",this.dom.line.style.height=this.parent.top+this.top+1+"px",this.dom.line.style.bottom=""):(t=(e=this.parent.itemSet.props.height)-this.parent.top-this.parent.height+this.top,this.dom.line.style.top=e-t+"px",this.dom.line.style.bottom="0"),this.dom.dot.style.top=-this.dom.dot.offsetHeight/2+"px")}},{key:"getWidthLeft",value:function(){return this.width/2}},{key:"getWidthRight",value:function(){return this.width/2}},{key:"move",value:function(){this.repositionX(),this.repositionY()}},{key:"attach",value:function(){var t,e,i=Vw(this.data.uiItems);try{for(i.s();!(e=i.n()).done;)e.value.cluster=this}catch(t){i.e(t)}finally{i.f()}this.data.items=Du(t=this.data.uiItems).call(t,function(t){return t.data}),this.attached=!0,this.dirty=!0}},{key:"detach",value:function(){var t=0<arguments.length&&void 0!==arguments[0]&&arguments[0];if(this.hasItems()){var e,i=Vw(this.data.uiItems);try{for(i.s();!(e=i.n()).done;)delete e.value.cluster}catch(t){i.e(t)}finally{i.f()}this.attached=!1,t&&this.group&&(this.group.remove(this),this.group=null),this.data.items=[],this.dirty=!0}}},{key:"_onDoubleClick",value:function(){this._fit()}},{key:"_setupRange",value:function(){var t,e=Du(e=this.data.uiItems).call(e,function(t){return{start:t.data.start.valueOf(),end:(t.data.end||t.data.start).valueOf()}}),e=(this.data.min=Math.min.apply(Math,ad(Du(e).call(e,function(t){return Math.min(t.start,t.end||t.start)}))),this.data.max=Math.max.apply(Math,ad(Du(e).call(e,function(t){return Math.max(t.start,t.end||t.start)}))),Du(e=this.data.uiItems).call(e,function(t){return t.center})),e=Lu(e).call(e,function(t,e){return t+e},0)/this.data.uiItems.length;vb(t=this.data.uiItems).call(t,function(t){return t.data.end})?(this.data.start=new Date(this.data.min),this.data.end=new Date(this.data.max)):(this.data.start=new Date(e),this.data.end=null)}},{key:"_getUiItems",value:function(){var t,e=this;return this.data.uiItems&&this.data.uiItems.length?Qh(t=this.data.uiItems).call(t,function(t){return t.cluster===e}):[]}},{key:"_createDomElement",value:function(){var t;this.dom||(this.dom={},this.dom.box=document.createElement("DIV"),this.dom.content=document.createElement("DIV"),this.dom.content.className="vis-item-content",this.dom.box.appendChild(this.dom.content),this.options.showStipes&&(this.dom.line=document.createElement("DIV"),this.dom.line.className="vis-cluster-line",this.dom.line.style.display="none",this.dom.dot=document.createElement("DIV"),this.dom.dot.className="vis-cluster-dot",this.dom.dot.style.display="none"),this.options.fitOnDoubleClick&&(this.dom.box.ondblclick=p(t=o.prototype._onDoubleClick).call(t,this)),(this.dom.box["vis-item"]=this).dirty=!0)}},{key:"_appendDomElement",value:function(){if(!this.parent)throw new Error("Cannot redraw item: no parent attached");if(!this.dom.box.parentNode){var t=this.parent.dom.foreground;if(!t)throw new Error("Cannot redraw item: parent has no foreground container element");t.appendChild(this.dom.box)}t=this.parent.dom.background;if(this.options.showStipes){if(!this.dom.line.parentNode){if(!t)throw new Error("Cannot redraw item: parent has no background container element");t.appendChild(this.dom.line)}if(!this.dom.dot.parentNode){var e=this.parent.dom.axis;if(!t)throw new Error("Cannot redraw item: parent has no axis container element");e.appendChild(this.dom.dot)}}this.displayed=!0}},{key:"_updateDirtyDomComponents",value:function(){var t;this.dirty&&(this._updateContents(this.dom.content),this._updateDataAttributes(this.dom.box),this._updateStyle(this.dom.box),t=this.baseClassName+" "+(this.data.className?" "+this.data.className:"")+(this.selected?" vis-selected":"")+" vis-readonly",this.dom.box.className="vis-item "+t,this.options.showStipes&&(this.dom.line.className="vis-item vis-cluster-line "+(this.selected?" vis-selected":""),this.dom.dot.className="vis-item vis-cluster-dot "+(this.selected?" vis-selected":"")),this.data.end&&(this.dom.content.style.maxWidth="none"))}},{key:"_getDomComponentsSizes",value:function(){var t={previous:{right:this.dom.box.style.right,left:this.dom.box.style.left},box:{width:this.dom.box.offsetWidth,height:this.dom.box.offsetHeight}};return this.options.showStipes&&(t.dot={height:this.dom.dot.offsetHeight,width:this.dom.dot.offsetWidth},t.line={width:this.dom.line.offsetWidth}),t}},{key:"_updateDomComponentsSizes",value:function(t){this.options.rtl?this.dom.box.style.right="0px":this.dom.box.style.left="0px",this.data.end?this.minWidth=t.box.width:this.width=t.box.width,this.height=t.box.height,this.options.rtl?this.dom.box.style.right=t.previous.right:this.dom.box.style.left=t.previous.left,this.dirty=!1}},{key:"_repaintDomAdditionals",value:function(){this._repaintOnItemUpdateTimeTooltip(this.dom.box)}},{key:"_isStipeVisible",value:function(){return this.minWidth>=this.width||!this.data.end}},{key:"_getFitRange",value:function(){var t=.05*(this.data.max-this.data.min)/2;return{fitStart:this.data.min-t,fitEnd:this.data.max+t}}},{key:"_fit",value:function(){var t,e;this.emitter&&(e=(t=this._getFitRange()).fitStart,t=t.fitEnd,e={start:new Date(e),end:new Date(t),animation:!0},this.emitter.emit("fit",e))}},{key:"_getItemData",value:function(){return this.data}}]),o}();function Kw(t,e){var i,n=void 0!==ud&&Mc(t)||t["@@iterator"];if(!n){if(_h(t)||(n=function(t,e){if(t){if("string"==typeof t)return $w(t,e);var i=vd(i=Object.prototype.toString.call(t)).call(i,8,-1);return"Map"===(i="Object"===i&&t.constructor?t.constructor.name:i)||"Set"===i?Ac(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?$w(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length)return n&&(t=n),i=0,{s:e=function(){},n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:e};throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,r=!0,s=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return r=t.done,t},e:function(t){s=!0,o=t},f:function(){try{r||null==n.return||n.return()}finally{if(s)throw o}}}}function $w(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=new Array(e);i<e;i++)n[i]=t[i];return n}qw.prototype.baseClassName="vis-item vis-range vis-cluster";var Zw="__ungrouped__",Qw=function(){function e(t){Un(this,e),this.itemSet=t,this.groups={},this.cache={},this.cache[-1]=[]}return Xl(e,[{key:"createClusterItem",value:function(t,e,i){return new qw(t,e,i)}},{key:"setItems",value:function(t,e){this.items=t||[],this.dataChanged=!0,this.applyOnChangedLevel=!1,e&&e.applyOnChangedLevel&&(this.applyOnChangedLevel=e.applyOnChangedLevel)}},{key:"updateData",value:function(){this.dataChanged=!0,this.applyOnChangedLevel=!1}},{key:"getClusters",value:function(u,t,c){var e="boolean"==typeof c?{}:c,d=e.maxItems,i=(i=e.clusterCriteria)||function(){return!0},d=d||1,e=-1,p=0;if(0<t){if(1<=t)return[];e=Math.abs(Math.round(Math.log(100/t)/Math.log(2))),p=Math.abs(Math.pow(2,e))}this.dataChanged&&(t=e!=this.cacheLevel,this.applyOnChangedLevel&&!t||(this._dropLevelsCache(),this._filterData())),this.cacheLevel=e;var n=this.cache[e];if(!n){for(var m in n=[],this.groups)if(this.groups.hasOwnProperty(m))for(var o=this.groups[m],f=o.length,r=0;r<f;){for(var s=o[r],a=1,l=r-1;0<=l&&s.center-o[l].center<p/2;)!o[l].cluster&&i(s.data,o[l].data)&&a++,l--;for(var g=r+1;g<o.length&&o[g].center-s.center<p/2;)i(s.data,o[g].data)&&a++,g++;for(var h=n.length-1;0<=h&&s.center-n[h].center<p;)s.group==n[h].group&&i(s.data,n[h].data)&&a++,h--;if(d<a){for(var v=a-d+1,y=[],b=r;y.length<v&&b<o.length;)i(o[r].data,o[b].data)&&y.push(o[b]),b++;var w=this.itemSet.getGroupId(s.data),w=this.itemSet.groups[w]||this.itemSet.groups[Zw],w=this._getClusterForItems(y,w,u,c);n.push(w),r+=v}else delete s.cluster,r+=1}this.cache[e]=n}return n}},{key:"_filterData",value:function(){var t={};this.groups=t;for(var e,i,n=0,o=zp(this.items);n<o.length;n++){var r=o[n],s=r.parent?r.parent.groupId:"",a=t[s];a||(t[s]=a=[]),a.push(r),r.data.start&&(r.data.end?r.center=(r.data.start.valueOf()+r.data.end.valueOf())/2:r.center=r.data.start.valueOf())}for(e in t)t.hasOwnProperty(e)&&Ky(i=t[e]).call(i,function(t,e){return t.center-e.center});this.dataChanged=!1}},{key:"_getClusterForItems",value:function(t,e,i,n){i=Du(i=i||[]).call(i,function(t){return{cluster:t,itemsIds:new rw(Du(t=t.data.uiItems).call(t,function(t){return t.id}))}});if(i.length){var o,r=Kw(i);try{for(r.s();!(o=r.n()).done;)if("break"===function(){var e=o.value;if(e.itemsIds.size===t.length&&Yw(t).call(t,function(t){return e.itemsIds.has(t.id)}))return l=e.cluster,"break"}())break}catch(t){r.e(t)}finally{r.f()}}if(l)return l.setUiItems(t),l.group!==e&&(l.group&&l.group.remove(l),e&&(e.add(l),l.group=e)),l;var i=n.titleTemplate||"",s={toScreen:this.itemSet.body.util.toScreen,toTime:this.itemSet.body.util.toTime},i=i.replace(/{count}/,t.length),a='<div title="'+i+'">'+t.length+"</div>",n=up({},n,this.itemSet.options),a={content:a,title:i,group:e,uiItems:t,eventEmitter:this.itemSet.body.emitter,range:this.itemSet.body.range},l=this.createClusterItem(a,s,n);return e&&(e.add(l),l.group=e),l.attach(),l}},{key:"_dropLevelsCache",value:function(){this.cache={},this.cacheLevel=-1,this.cache[this.cacheLevel]=[]}}]),e}();function Jw(t,e){var i,n=void 0!==ud&&Mc(t)||t["@@iterator"];if(!n){if(_h(t)||(n=function(t,e){if(t){if("string"==typeof t)return t1(t,e);var i=vd(i=Object.prototype.toString.call(t)).call(i,8,-1);return"Map"===(i="Object"===i&&t.constructor?t.constructor.name:i)||"Set"===i?Ac(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?t1(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length)return n&&(t=n),i=0,{s:e=function(){},n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:e};throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,r=!0,s=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return r=t.done,t},e:function(t){s=!0,o=t},f:function(){try{r||null==n.return||n.return()}finally{if(s)throw o}}}}function t1(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=new Array(e);i<e;i++)n[i]=t[i];return n}function e1(i){var n=function(){if("undefined"==typeof Reflect||!o)return!1;if(o.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(o(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var t,e=wh(i);return mh(this,n?(t=wh(this).constructor,o(e,arguments,t)):e.apply(this,arguments))}}var i1,n1="__ungrouped__",o1="__background__",r1=function(){ph(u,yy);var n=e1(u);function u(t,e){Un(this,u),(i=n.call(this)).body=t,i.defaultOptions={type:null,orientation:{item:"bottom"},align:"auto",stack:!0,stackSubgroups:!0,groupOrderSwap:function(t,e,i){var n=e.order;e.order=t.order,t.order=n},groupOrder:"order",selectable:!0,multiselect:!1,longSelectPressTime:251,itemsAlwaysDraggable:{item:!1,range:!1},editable:{updateTime:!1,updateGroup:!1,add:!1,remove:!1,overrideItems:!1},groupEditable:{order:!1,add:!1,remove:!1},snap:_b.snap,onDropObjectOnItem:function(t,e,i){i(e)},onAdd:function(t,e){e(t)},onUpdate:function(t,e){e(t)},onMove:function(t,e){e(t)},onRemove:function(t,e){e(t)},onMoving:function(t,e){e(t)},onAddGroup:function(t,e){e(t)},onMoveGroup:function(t,e){e(t)},onRemoveGroup:function(t,e){e(t)},margin:{item:{horizontal:10,vertical:10},axis:20},showTooltips:!0,tooltip:{followMouse:!1,overflowMethod:"flip",delay:500},tooltipOnItemUpdateTime:!1},i.options=x.extend({},i.defaultOptions),i.options.rtl=e.rtl,i.options.onTimeout=e.onTimeout,i.conversion={toScreen:t.util.toScreen,toTime:t.util.toTime},i.dom={},i.props={},i.hammer=null;var i,r=ql(i);return i.itemsData=null,i.groupsData=null,i.itemsSettingTime=null,i.initialItemSetDrawn=!1,i.userContinueNotBail=null,i.sequentialSelection=!1,i.itemListeners={add:function(t,e,i){r._onAdd(e.items),r.options.cluster&&r.clusterGenerator.setItems(r.items,{applyOnChangedLevel:!1}),r.redraw()},update:function(t,e,i){r._onUpdate(e.items),r.options.cluster&&r.clusterGenerator.setItems(r.items,{applyOnChangedLevel:!1}),r.redraw()},remove:function(t,e,i){r._onRemove(e.items),r.options.cluster&&r.clusterGenerator.setItems(r.items,{applyOnChangedLevel:!1}),r.redraw()}},i.groupListeners={add:function(t,e,n){var o;r._onAddGroups(e.items),r.groupsData&&0<r.groupsData.length&&(o=r.groupsData.getDataSet(),k(e=o.get()).call(e,function(e){var t,i;e.nestedGroups&&(0!=e.showNested&&(e.showNested=!0),i=[],k(t=e.nestedGroups).call(t,function(t){t=o.get(t);t&&(t.nestedInGroup=e.id,0==e.showNested&&(t.visible=!1),i=fd(i).call(i,t))}),o.update(i,n))}))},update:function(t,e,i){r._onUpdateGroups(e.items)},remove:function(t,e,i){r._onRemoveGroups(e.items)}},i.items={},i.groups={},i.groupIds=[],i.selection=[],i.popup=null,i.popupTimer=null,i.touchParams={},i.groupTouchParams={group:null,isDragging:!1},i._create(),i.setOptions(e),i.clusters=[],i}return Xl(u,[{key:"_create",value:function(){var e=this,t=document.createElement("div"),i=(t.className="vis-itemset",(t["vis-itemset"]=this).dom.frame=t,document.createElement("div")),i=(i.className="vis-background",t.appendChild(i),this.dom.background=i,document.createElement("div")),t=(i.className="vis-foreground",t.appendChild(i),this.dom.foreground=i,document.createElement("div")),i=(t.className="vis-axis",this.dom.axis=t,document.createElement("div")),t=(i.className="vis-labelset",this.dom.labelSet=i,this._updateUngrouped(),new Ow(o1,null,this));t.show(),this.groups[o1]=t,this.hammer=new kb(this.body.dom.centerContainer),this.hammer.on("hammer.input",function(t){t.isFirst&&e._onTouch(t)}),this.hammer.on("panstart",p(i=this._onDragStart).call(i,this)),this.hammer.on("panmove",p(t=this._onDrag).call(t,this)),this.hammer.on("panend",p(i=this._onDragEnd).call(i,this)),this.hammer.get("pan").set({threshold:5,direction:kb.ALL}),this.hammer.get("press").set({time:1e4}),this.hammer.on("tap",p(t=this._onSelectItem).call(t,this)),this.hammer.on("press",p(i=this._onMultiSelectItem).call(i,this)),this.hammer.get("press").set({time:1e4}),this.hammer.on("doubletap",p(t=this._onAddItem).call(t,this)),this.options.rtl?this.groupHammer=new kb(this.body.dom.rightContainer):this.groupHammer=new kb(this.body.dom.leftContainer),this.groupHammer.on("tap",p(i=this._onGroupClick).call(i,this)),this.groupHammer.on("panstart",p(t=this._onGroupDragStart).call(t,this)),this.groupHammer.on("panmove",p(i=this._onGroupDrag).call(i,this)),this.groupHammer.on("panend",p(t=this._onGroupDragEnd).call(t,this)),this.groupHammer.get("pan").set({threshold:5,direction:kb.DIRECTION_VERTICAL}),this.body.dom.centerContainer.addEventListener("mouseover",p(i=this._onMouseOver).call(i,this)),this.body.dom.centerContainer.addEventListener("mouseout",p(t=this._onMouseOut).call(t,this)),this.body.dom.centerContainer.addEventListener("mousemove",p(i=this._onMouseMove).call(i,this)),this.body.dom.centerContainer.addEventListener("contextmenu",p(t=this._onDragEnd).call(t,this)),this.body.dom.centerContainer.addEventListener("mousewheel",p(i=this._onMouseWheel).call(i,this)),this.show()}},{key:"setOptions",value:function(n){var t,o=this;n&&(x.selectiveExtend(["type","rtl","align","order","stack","stackSubgroups","selectable","multiselect","sequentialSelection","multiselectPerGroup","longSelectPressTime","groupOrder","dataAttributes","template","groupTemplate","visibleFrameTemplate","hide","snap","groupOrderSwap","showTooltips","tooltip","tooltipOnItemUpdateTime","groupHeightMode","onTimeout"],this.options,n),"itemsAlwaysDraggable"in n&&("boolean"==typeof n.itemsAlwaysDraggable?(this.options.itemsAlwaysDraggable.item=n.itemsAlwaysDraggable,this.options.itemsAlwaysDraggable.range=!1):"object"===Hl(n.itemsAlwaysDraggable)&&(x.selectiveExtend(["item","range"],this.options.itemsAlwaysDraggable,n.itemsAlwaysDraggable),this.options.itemsAlwaysDraggable.item||(this.options.itemsAlwaysDraggable.range=!1))),"sequentialSelection"in n&&"boolean"==typeof n.sequentialSelection&&(this.options.sequentialSelection=n.sequentialSelection),"orientation"in n&&("string"==typeof n.orientation?this.options.orientation.item="top"===n.orientation?"top":"bottom":"object"===Hl(n.orientation)&&"item"in n.orientation&&(this.options.orientation.item=n.orientation.item)),"margin"in n&&("number"==typeof n.margin?(this.options.margin.axis=n.margin,this.options.margin.item.horizontal=n.margin,this.options.margin.item.vertical=n.margin):"object"===Hl(n.margin)&&(x.selectiveExtend(["axis"],this.options.margin,n.margin),"item"in n.margin&&("number"==typeof n.margin.item?(this.options.margin.item.horizontal=n.margin.item,this.options.margin.item.vertical=n.margin.item):"object"===Hl(n.margin.item)&&x.selectiveExtend(["horizontal","vertical"],this.options.margin.item,n.margin.item)))),k(t=["locale","locales"]).call(t,function(t){t in n&&(o.options[t]=n[t])}),"editable"in n&&("boolean"==typeof n.editable?(this.options.editable.updateTime=n.editable,this.options.editable.updateGroup=n.editable,this.options.editable.add=n.editable,this.options.editable.remove=n.editable,this.options.editable.overrideItems=!1):"object"===Hl(n.editable)&&x.selectiveExtend(["updateTime","updateGroup","add","remove","overrideItems"],this.options.editable,n.editable)),"groupEditable"in n&&("boolean"==typeof n.groupEditable?(this.options.groupEditable.order=n.groupEditable,this.options.groupEditable.add=n.groupEditable,this.options.groupEditable.remove=n.groupEditable):"object"===Hl(n.groupEditable)&&x.selectiveExtend(["order","add","remove"],this.options.groupEditable,n.groupEditable)),k(t=["onDropObjectOnItem","onAdd","onUpdate","onRemove","onMove","onMoving","onAddGroup","onMoveGroup","onRemoveGroup"]).call(t,function(t){var e,i=n[t];if(i){if("function"!=typeof i)throw new Error(fd(e="option ".concat(t," must be a function ")).call(e,t,"(item, callback)"));o.options[t]=i}}),n.cluster?(up(this.options,{cluster:n.cluster}),this.clusterGenerator||(this.clusterGenerator=new Qw(this)),this.clusterGenerator.setItems(this.items,{applyOnChangedLevel:!1}),this.markDirty({refreshItems:!0,restackGroups:!0}),this.redraw()):this.clusterGenerator?(this._detachAllClusters(),this.clusters=[],this.clusterGenerator=null,this.options.cluster=void 0,this.markDirty({refreshItems:!0,restackGroups:!0}),this.redraw()):this.markDirty())}},{key:"markDirty",value:function(t){this.groupIds=[],t&&(t.refreshItems&&k(x).call(x,this.items,function(t){t.dirty=!0,t.displayed&&t.redraw()}),t.restackGroups&&k(x).call(x,this.groups,function(t,e){e!==o1&&(t.stackDirty=!0)}))}},{key:"destroy",value:function(){this.clearPopupTimer(),this.hide(),this.setItems(null),this.setGroups(null),this.hammer&&this.hammer.destroy(),this.groupHammer&&this.groupHammer.destroy(),this.hammer=null,this.body=null,this.conversion=null}},{key:"hide",value:function(){this.dom.frame.parentNode&&this.dom.frame.parentNode.removeChild(this.dom.frame),this.dom.axis.parentNode&&this.dom.axis.parentNode.removeChild(this.dom.axis),this.dom.labelSet.parentNode&&this.dom.labelSet.parentNode.removeChild(this.dom.labelSet)}},{key:"show",value:function(){this.dom.frame.parentNode||this.body.dom.center.appendChild(this.dom.frame),this.dom.axis.parentNode||this.body.dom.backgroundVertical.appendChild(this.dom.axis),this.dom.labelSet.parentNode||(this.options.rtl?this.body.dom.right:this.body.dom.left).appendChild(this.dom.labelSet)}},{key:"setPopupTimer",value:function(t){var e;this.clearPopupTimer(),t&&(e=this.options.tooltip.delay||"number"==typeof this.options.tooltip.delay?this.options.tooltip.delay:500,this.popupTimer=Nh(function(){t.show()},e))}},{key:"clearPopupTimer",value:function(){null!=this.popupTimer&&(clearTimeout(this.popupTimer),this.popupTimer=null)}},{key:"setSelection",value:function(e){var t;_h(e=null==e?[]:e)||(e=[e]);var i,n=Jw(Qh(t=this.selection).call(t,function(t){return-1===am(e).call(e,t)}));try{for(n.s();!(i=n.n()).done;){var o=i.value,r=this.getItemById(o);r&&r.unselect()}}catch(t){n.e(t)}finally{n.f()}this.selection=ad(e);var s,a=Jw(e);try{for(a.s();!(s=a.n()).done;){var l=s.value,h=this.getItemById(l);h&&h.select()}}catch(t){a.e(t)}finally{a.f()}}},{key:"getSelection",value:function(){var t;return fd(t=this.selection).call(t,[])}},{key:"getVisibleItems",value:function(){var t,e,i,n=this.body.range.getRange(),o=(this.options.rtl?(t=this.body.util.toScreen(n.start),e=this.body.util.toScreen(n.end)):(e=this.body.util.toScreen(n.start),t=this.body.util.toScreen(n.end)),[]);for(i in this.groups)if(this.groups.hasOwnProperty(i)){var r,s=this.groups[i],a=Jw(s.isVisible?s.visibleItems:[]);try{for(a.s();!(r=a.n()).done;){var l=r.value;this.options.rtl?l.right<e&&l.right+l.width>t&&o.push(l.id):l.left<t&&l.left+l.width>e&&o.push(l.id)}}catch(t){a.e(t)}finally{a.f()}}return o}},{key:"getItemsAtCurrentTime",value:function(t){this.options.rtl?(e=this.body.util.toScreen(t),i=this.body.util.toScreen(t)):(i=this.body.util.toScreen(t),e=this.body.util.toScreen(t));var e,i,n,o=[];for(n in this.groups)if(this.groups.hasOwnProperty(n)){var r,s=this.groups[n],a=Jw(s.isVisible?s.visibleItems:[]);try{for(a.s();!(r=a.n()).done;){var l=r.value;this.options.rtl?l.right<i&&l.right+l.width>e&&o.push(l.id):l.left<e&&l.left+l.width>i&&o.push(l.id)}}catch(t){a.e(t)}finally{a.f()}}return o}},{key:"getVisibleGroups",value:function(){var t,e=[];for(t in this.groups)this.groups.hasOwnProperty(t)&&this.groups[t].isVisible&&e.push(t);return e}},{key:"getItemById",value:function(e){var t;return this.items[e]||Vb(t=this.clusters).call(t,function(t){return t.id===e})}},{key:"_deselect",value:function(t){for(var e=this.selection,i=0,n=e.length;i<n;i++)if(e[i]==t){Qd(e).call(e,i,1);break}}},{key:"redraw",value:function(){var t=this.options.margin,i=this.body.range,u=x.option.asSize,e=this.options,c=e.orientation.item,n=!1,o=this.dom.frame,d=(this.props.top=this.body.domProps.top.height+this.body.domProps.border.top,this.options.rtl?this.props.right=this.body.domProps.right.width+this.body.domProps.border.right:this.props.left=this.body.domProps.left.width+this.body.domProps.border.left,o.className="vis-itemset",this.options.cluster&&this._clusterItems(),n=this._orderGroups()||n,i.end-i.start),r=d!=this.lastVisibleInterval||this.props.width!=this.props.lastWidth,p=i.start!=this.lastRangeStart,m=e.stack!=this.lastStack,f=e.stackSubgroups!=this.lastStackSubgroups,g=r||p||m||f,v=(this.lastVisibleInterval=d,this.lastRangeStart=i.start,this.lastStack=e.stack,this.lastStackSubgroups=e.stackSubgroups,this.props.lastWidth=this.props.width,this._firstGroup()),y={item:t.item,axis:t.axis},b={item:t.item,axis:t.item.vertical/2},s=0,r=t.axis+t.item.vertical,a=(this.groups[o1].redraw(i,b,g),{}),l=0;if(k(x).call(x,this.groups,function(t,e){e!==o1&&(a[e]=t.redraw(i,t==v?y:b,g,!0),l=a[e].length)}),0<l){for(var w={},h=0;h<l;h++)!function(i){k(x).call(x,a,function(t,e){w[e]=t[i]()})}(h);k(x).call(x,this.groups,function(t,e){e!==o1&&(e=w[e],n=e||n,s+=t.height)}),s=Math.max(s,r)}return s=Math.max(s,r),o.style.height=u(s),this.props.width=o.offsetWidth,this.props.height=s,this.dom.axis.style.top=u("top"==c?this.body.domProps.top.height+this.body.domProps.border.top:this.body.domProps.top.height+this.body.domProps.centerContainer.height),this.options.rtl?this.dom.axis.style.right="0":this.dom.axis.style.left="0",this.hammer.get("press").set({time:this.options.longSelectPressTime}),this.initialItemSetDrawn=!0,n=this._isResized()||n}},{key:"_firstGroup",value:function(){var t="top"==this.options.orientation.item?0:this.groupIds.length-1,t=this.groupIds[t];return this.groups[t]||this.groups[n1]||null}},{key:"_updateUngrouped",value:function(){var t,e,i,n=this.groups[n1];if(this.groupsData){if(n)for(e in n.dispose(),delete this.groups[n1],this.items)this.items.hasOwnProperty(e)&&((t=this.items[e]).parent&&t.parent.remove(t),i=this.getGroupId(t.data),(i=this.groups[i])&&i.add(t)||t.hide())}else if(!n){n=new Dw(null,null,this);for(e in this.groups[n1]=n,this.items)this.items.hasOwnProperty(e)&&(t=this.items[e],n.add(t));n.show()}}},{key:"getLabelSet",value:function(){return this.dom.labelSet}},{key:"setItems",value:function(t){this.itemsSettingTime=new Date;var e,i,n=this,o=this.itemsData;if(t){if(!ny(t))throw new TypeError("Data must implement the interface of DataSet or DataView");this.itemsData=ay(t)}else this.itemsData=null;o&&(k(x).call(x,this.itemListeners,function(t,e){o.off(e,t)}),o.dispose(),e=o.getIds(),this._onRemove(e)),this.itemsData&&(i=this.id,k(x).call(x,this.itemListeners,function(t,e){n.itemsData.on(e,t,i)}),e=this.itemsData.getIds(),this._onAdd(e),this._updateUngrouped()),this.body.emitter.emit("_change",{queue:!0})}},{key:"getItems",value:function(){return null!=this.itemsData?this.itemsData.rawDS:null}},{key:"setGroups",value:function(t){var e,i,n,o=this;if(this.groupsData&&(k(x).call(x,this.groupListeners,function(t,e){o.groupsData.off(e,t)}),e=this.groupsData.getIds(),this.groupsData=null,this._onRemoveGroups(e)),t){if(!ny(t))throw new TypeError("Data must implement the interface of DataSet or DataView");this.groupsData=t}else this.groupsData=null;this.groupsData&&(i=this.groupsData.getDataSet(),k(t=i.get()).call(t,function(e){var t;e.nestedGroups&&k(t=e.nestedGroups).call(t,function(t){t=i.get(t);t.nestedInGroup=e.id,0==e.showNested&&(t.visible=!1),i.update(t)})}),n=this.id,k(x).call(x,this.groupListeners,function(t,e){o.groupsData.on(e,t,n)}),e=this.groupsData.getIds(),this._onAddGroups(e)),this._updateUngrouped(),this._order(),this.options.cluster&&(this.clusterGenerator.updateData(),this._clusterItems(),this.markDirty({refreshItems:!0,restackGroups:!0})),this.body.emitter.emit("_change",{queue:!0})}},{key:"getGroups",value:function(){return this.groupsData}},{key:"removeItem",value:function(e){var i=this,t=this.itemsData.get(e);t&&this.options.onRemove(t,function(t){t&&i.itemsData.remove(e)})}},{key:"_getType",value:function(t){return t.type||this.options.type||(t.end?"range":"box")}},{key:"getGroupId",value:function(t){return"background"==this._getType(t)&&null==t.group?o1:this.groupsData?t.group:n1}},{key:"_onUpdate",value:function(t){var s=this,a=this;k(t).call(t,function(t){var e,i=a.itemsData.get(t),n=a.items[t],o=i?a._getType(i):null,r=u.types[o];if(n&&(r&&n instanceof r?a._updateItem(n,i):(e=n.selected,a._removeItem(n),n=null)),!n&&i){if(!r)throw new TypeError('Unknown item type "'.concat(o,'"'));(n=new r(i,a.conversion,a.options)).id=t,a._addItem(n),e&&(s.selection.push(t),n.select())}}),this._order(),this.options.cluster&&(this.clusterGenerator.setItems(this.items,{applyOnChangedLevel:!1}),this._clusterItems()),this.body.emitter.emit("_change",{queue:!0})}},{key:"_onRemove",value:function(t){var e=0,i=this;k(t).call(t,function(t){t=i.items[t];t&&(e++,i._removeItem(t))}),e&&(this._order(),this.body.emitter.emit("_change",{queue:!0}))}},{key:"_order",value:function(){k(x).call(x,this.groups,function(t){t.order()})}},{key:"_onUpdateGroups",value:function(t){this._onAddGroups(t)}},{key:"_onAddGroups",value:function(t){var s=this;k(t).call(t,function(t){var e=s.groupsData.get(t),i=s.groups[t];if(i)i.setData(e);else{if(t==n1||t==o1)throw new Error("Illegal group id. ".concat(t," is a reserved id."));var n,o,r=ym(s.options);for(n in x.extend(r,{height:null}),i=new Dw(t,e,s),s.groups[t]=i,s.items)!s.items.hasOwnProperty(n)||(o=s.items[n]).data.group==t&&i.add(o);i.order(),i.show()}}),this.body.emitter.emit("_change",{queue:!0})}},{key:"_onRemoveGroups",value:function(t){var i=this;k(t).call(t,function(t){var e=i.groups[t];e&&(e.dispose(),delete i.groups[t])}),this.options.cluster&&(this.clusterGenerator.updateData(),this._clusterItems()),this.markDirty({restackGroups:!!this.options.cluster}),this.body.emitter.emit("_change",{queue:!0})}},{key:"_orderGroups",value:function(){var t,e,i;return!!this.groupsData&&(t=this.groupsData.getIds({order:this.options.groupOrder}),t=this._orderNestedGroups(t),(e=!x.equalArray(t,this.groupIds))&&(i=this.groups,k(t).call(t,function(t){i[t].hide()}),k(t).call(t,function(t){i[t].show()}),this.groupIds=t),e)}},{key:"_orderNestedGroups",value:function(t){var e=this;return function i(n,t){var o=[];return k(t).call(t,function(e){var t;o.push(e),n.groupsData.get(e).nestedGroups&&(t=Du(t=n.groupsData.get({filter:function(t){return t.nestedInGroup==e},order:n.options.groupOrder})).call(t,function(t){return t.id}),o=fd(o).call(o,i(n,t)))}),o}(this,Qh(t).call(t,function(t){return!e.groupsData.get(t).nestedInGroup}))}},{key:"_addItem",value:function(t){this.items[t.id]=t;var e=this.getGroupId(t.data),e=this.groups[e];e?e.data&&e.data.showNested&&(t.groupShowing=!0):t.groupShowing=!1,e&&e.add(t)}},{key:"_updateItem",value:function(t,e){t.setData(e);e=this.getGroupId(t.data),e=this.groups[e];e?e.data&&e.data.showNested&&(t.groupShowing=!0):t.groupShowing=!1}},{key:"_removeItem",value:function(t){t.hide(),delete this.items[t.id];var e,i=am(i=this.selection).call(i,t.id);-1!=i&&Qd(e=this.selection).call(e,i,1),t.parent&&t.parent.remove(t),null!=this.popup&&this.popup.hide()}},{key:"_constructByEndArray",value:function(t){for(var e=[],i=0;i<t.length;i++)t[i]instanceof Fw&&e.push(t[i]);return e}},{key:"_onTouch",value:function(t){this.touchParams.item=this.itemFromTarget(t),this.touchParams.dragLeftItem=t.target.dragLeftItem||!1,this.touchParams.dragRightItem=t.target.dragRightItem||!1,this.touchParams.itemProps=null}},{key:"_getGroupIndex",value:function(t){for(var e=0;e<this.groupIds.length;e++)if(t==this.groupIds[e])return e}},{key:"_onDragStart",value:function(i){var t,n,e,o,r,s,a=this;this.touchParams.itemIsDragging||(t=this.touchParams.item||null,n=this,t&&(t.selected||this.options.itemsAlwaysDraggable.item)?(!this.options.editable.overrideItems||this.options.editable.updateTime||this.options.editable.updateGroup)&&(null==t.editable||t.editable.updateTime||t.editable.updateGroup||this.options.editable.overrideItems)&&(s=this.touchParams.dragLeftItem,o=this.touchParams.dragRightItem,this.touchParams.itemIsDragging=!0,this.touchParams.selectedItem=t,s?(e={item:s,initialX:i.center.x,dragLeft:!0,data:this._cloneItemData(t.data)},this.touchParams.itemProps=[e]):o?(e={item:o,initialX:i.center.x,dragRight:!0,data:this._cloneItemData(t.data)},this.touchParams.itemProps=[e]):this.options.editable.add&&(i.srcEvent.ctrlKey||i.srcEvent.metaKey)?this._onDragStartAddItem(i):(this.groupIds.length<1&&this.redraw(),r=this._getGroupIndex(t.data.group),s=this.options.itemsAlwaysDraggable.item&&!t.selected?[t.id]:this.getSelection(),this.touchParams.itemProps=Du(s).call(s,function(t){var t=n.items[t],e=n._getGroupIndex(t.data.group);return{item:t,initialX:i.center.x,groupOffset:r-e,data:a._cloneItemData(t.data)}})),i.stopPropagation()):this.options.editable.add&&(i.srcEvent.ctrlKey||i.srcEvent.metaKey)&&this._onDragStartAddItem(i))}},{key:"_onDragStartAddItem",value:function(t){var e=this.options.snap||null,i=this.dom.frame.getBoundingClientRect(),i=this.options.rtl?i.right-t.center.x+10:t.center.x-i.left-10,i=this.body.util.toTime(i),n=this.body.util.getScale(),o=this.body.util.getStep(),e=e?e(i,n,o):i,n={type:"range",start:e,end:e,content:"new item"},o=ty(),i=(n[this.itemsData.idProp]=o,this.groupFromTarget(t)),e=(i&&(n.group=i.groupId),new Fw(n,this.conversion,this.options)),i=(e.id=o,e.data=this._cloneItemData(n),this._addItem(e),{item:this.touchParams.selectedItem=e,initialX:t.center.x,data:e.data});this.options.rtl?i.dragLeft=!0:i.dragRight=!0,this.touchParams.itemProps=[i],t.stopPropagation()}},{key:"_onDrag",value:function(a){var l,h,t,f,u,c,d,g,p,e,m=this;null!=this.popup&&this.options.showTooltips&&!this.popup.hidden&&(t=(e=this.body.dom.centerContainer).getBoundingClientRect(),this.popup.setPosition(a.center.x-t.left+e.offsetLeft,a.center.y-t.top+e.offsetTop),this.popup.show()),this.touchParams.itemProps&&(a.stopPropagation(),h=(l=this).options.snap||null,t=this.body.dom.root.offsetLeft,f=this.options.rtl?t+this.body.domProps.right.width:t+this.body.domProps.left.width,u=this.body.util.getScale(),c=this.body.util.getStep(),d=this.touchParams.selectedItem,g=(this.options.editable.overrideItems||null==d.editable)&&this.options.editable.updateGroup||!this.options.editable.overrideItems&&null!=d.editable&&d.editable.updateGroup,p=null,g&&d&&(null==d.data.group||(e=l.groupFromTarget(a))&&(p=this._getGroupIndex(e.groupId))),k(t=this.touchParams.itemProps).call(t,function(e){var t,i,n,o,r=l.body.util.toTime(a.center.x-f),s=l.body.util.toTime(e.initialX-f),r=m.options.rtl?-(r-s):r-s,s=m._cloneItemData(e.item.data);(null==e.item.editable||e.item.editable.updateTime||e.item.editable.updateGroup||l.options.editable.overrideItems)&&(((m.options.editable.overrideItems||null==d.editable)&&m.options.editable.updateTime||!m.options.editable.overrideItems&&null!=d.editable&&d.editable.updateTime)&&(e.dragLeft?m.options.rtl?null!=s.end&&(t=x.convert(e.data.end,"Date"),i=new Date(t.valueOf()+r),s.end=h?h(i,u,c):i):null!=s.start&&(n=x.convert(e.data.start,"Date"),o=new Date(n.valueOf()+r),s.start=h?h(o,u,c):o):e.dragRight?m.options.rtl?null!=s.start&&(n=x.convert(e.data.start,"Date"),o=new Date(n.valueOf()+r),s.start=h?h(o,u,c):o):null!=s.end&&(t=x.convert(e.data.end,"Date"),i=new Date(t.valueOf()+r),s.end=h?h(i,u,c):i):null!=s.start&&(n=x.convert(e.data.start,"Date").valueOf(),o=new Date(n+r),null!=s.end?(i=(t=x.convert(e.data.end,"Date")).valueOf()-n.valueOf(),s.start=h?h(o,u,c):o,s.end=new Date(s.start.valueOf()+i)):s.start=h?h(o,u,c):o)),!g||e.dragLeft||e.dragRight||null==p||null!=s.group&&(r=p-e.groupOffset,r=Math.max(0,r),r=Math.min(l.groupIds.length-1,r),s.group=l.groupIds[r]),s=m._cloneItemData(s),l.options.onMoving(s,function(t){t&&e.item.setData(m._cloneItemData(t,"Date"))}))}),this.body.emitter.emit("_change"))}},{key:"_moveToGroup",value:function(t,e){var i,e=this.groups[e];e&&e.groupId!=t.data.group&&((i=t.parent).remove(t),i.order(),t.data.group=e.groupId,e.add(t),e.order())}},{key:"_onDragEnd",value:function(t){var n,o=this;this.touchParams.itemIsDragging=!1,this.touchParams.itemProps&&(t.stopPropagation(),t=(n=this).touchParams.itemProps,this.touchParams.itemProps=null,k(t).call(t,function(e){var t,i=e.item.id;null!=n.itemsData.get(i)?(t=o._cloneItemData(e.item.data),n.options.onMove(t,function(t){t?(t[o.itemsData.idProp]=i,o.itemsData.update(t)):(e.item.setData(e.data),n.body.emitter.emit("_change"))})):n.options.onAdd(e.item.data,function(t){n._removeItem(e.item),t&&n.itemsData.add(t),n.body.emitter.emit("_change")})}))}},{key:"_onGroupClick",value:function(t){var e=this,i=this.groupFromTarget(t);Nh(function(){e.toggleGroupShowNested(i)},1)}},{key:"toggleGroupShowNested",value:function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:void 0;if(t&&t.nestedGroups){for(var i=this.groupsData.getDataSet(),n=(t.showNested=null!=e?!!e:!t.showNested,i.get(t.groupId)),o=(n.showNested=t.showNested,t.nestedGroups),r=o;0<r.length;){for(var h=r,r=[],s=0;s<h.length;s++){var u=i.get(h[s]);u.nestedGroups&&(r=fd(r).call(r,u.nestedGroups))}0<r.length&&(o=fd(o).call(o,r))}if(n.showNested){for(var a=i.get(n.nestedGroups),c=0;c<a.length;c++){var l=a[c];l.nestedGroups&&0<l.nestedGroups.length&&(null==l.showNested||1==l.showNested)&&a.push.apply(a,ad(i.get(l.nestedGroups)))}d=Du(a).call(a,function(t){return null==t.visible&&(t.visible=!0),t.visible=!!n.showNested,t})}else var d=Du(e=i.get(o)).call(e,function(t){return null==t.visible&&(t.visible=!0),t.visible=!!n.showNested,t});i.update(fd(d).call(d,n)),n.showNested?(x.removeClassName(t.dom.label,"collapsed"),x.addClassName(t.dom.label,"expanded")):(x.removeClassName(t.dom.label,"expanded"),x.addClassName(t.dom.label,"collapsed"))}}},{key:"toggleGroupDragClassName",value:function(t){t.dom.label.classList.toggle("vis-group-is-dragging"),t.dom.foreground.classList.toggle("vis-group-is-dragging")}},{key:"_onGroupDragStart",value:function(t){this.groupTouchParams.isDragging||this.options.groupEditable.order&&(this.groupTouchParams.group=this.groupFromTarget(t),this.groupTouchParams.group&&(t.stopPropagation(),this.groupTouchParams.isDragging=!0,this.toggleGroupDragClassName(this.groupTouchParams.group),this.groupTouchParams.originalOrder=this.groupsData.getIds({order:this.options.groupOrder})))}},{key:"_onGroupDrag",value:function(t){if(this.options.groupEditable.order&&this.groupTouchParams.group){t.stopPropagation();var e=this.groupsData.getDataSet(),i=this.groupFromTarget(t);if(i&&i.height!=this.groupTouchParams.group.height){var n=i.top<this.groupTouchParams.group.top,t=t.center?t.center.y:t.clientY,o=i.dom.foreground.getBoundingClientRect(),u=this.groupTouchParams.group.height;if(n){if(o.top+u<t)return}else{n=i.height;if(o.top+n-u>t)return}}if(i&&i!=this.groupTouchParams.group){var o=e.get(i.groupId),n=e.get(this.groupTouchParams.group.groupId),r=(n&&o&&(this.options.groupOrderSwap(n,o,e),e.update(n),e.update(o)),e.getIds({order:this.options.groupOrder}));if(!x.equalArray(r,this.groupTouchParams.originalOrder))for(var c,d,p,s=this.groupTouchParams.originalOrder,m=this.groupTouchParams.group.groupId,f=Math.min(s.length,r.length),a=0,l=0,h=0;a<f;){for(;a+l<f&&a+h<f&&r[a+l]==s[a+h];)a++;if(f<=a+l)break;r[a+l]==m?l=1:s[a+h]==m?h=1:(c=am(r).call(r,s[a+h]),p=e.get(r[a+l]),d=e.get(s[a+h]),this.options.groupOrderSwap(p,d,e),e.update(p),e.update(d),p=r[a+l],r[a+l]=s[a+h],r[c]=p,a++)}}}}},{key:"_onGroupDragEnd",value:function(t){var l,h,u;this.groupTouchParams.isDragging=!1,this.options.groupEditable.order&&this.groupTouchParams.group&&(t.stopPropagation(),h=(l=this).groupTouchParams.group.groupId,u=l.groupsData.getDataSet(),t=x.extend({},u.get(h)),l.options.onMoveGroup(t,function(t){if(t)t[u._idProp]=h,u.update(t);else{var e=u.getIds({order:l.options.groupOrder});if(!x.equalArray(e,l.groupTouchParams.originalOrder))for(var i=l.groupTouchParams.originalOrder,n=Math.min(i.length,e.length),o=0;o<n;){for(;o<n&&e[o]==i[o];)o++;if(n<=o)break;var r=am(e).call(e,i[o]),s=u.get(e[o]),a=u.get(i[o]),s=(l.options.groupOrderSwap(s,a,u),u.update(s),u.update(a),e[o]);e[o]=i[o],e[r]=s,o++}}}),l.body.emitter.emit("groupDragged",{groupId:h}),this.toggleGroupDragClassName(this.groupTouchParams.group),this.groupTouchParams.group=null)}},{key:"_onSelectItem",value:function(t){var e,i;this.options.selectable&&(e=t.srcEvent&&(t.srcEvent.ctrlKey||t.srcEvent.metaKey),i=t.srcEvent&&t.srcEvent.shiftKey,e||i?this._onMultiSelectItem(t):(e=this.getSelection(),i=(i=this.itemFromTarget(t))&&i.selectable?[i.id]:[],this.setSelection(i),(0<(i=this.getSelection()).length||0<e.length)&&this.body.emitter.emit("select",{items:i,event:t})))}},{key:"_onMouseOver",value:function(t){var e,i,n=this.itemFromTarget(t);n&&n!==this.itemFromRelatedTarget(t)&&(e=n.getTitle(),this.options.showTooltips&&e?(null==this.popup&&(this.popup=new jw(this.body.dom.root,this.options.tooltip.overflowMethod||"flip")),this.popup.setText(e),i=(e=this.body.dom.centerContainer).getBoundingClientRect(),this.popup.setPosition(t.clientX-i.left+e.offsetLeft,t.clientY-i.top+e.offsetTop),this.setPopupTimer(this.popup)):(this.clearPopupTimer(),null!=this.popup&&this.popup.hide()),this.body.emitter.emit("itemover",{item:n.id,event:t}))}},{key:"_onMouseOut",value:function(t){var e=this.itemFromTarget(t);e&&e!==this.itemFromRelatedTarget(t)&&(this.clearPopupTimer(),null!=this.popup&&this.popup.hide(),this.body.emitter.emit("itemout",{item:e.id,event:t}))}},{key:"_onMouseMove",value:function(t){var e,i;this.itemFromTarget(t)&&(null!=this.popupTimer&&this.setPopupTimer(this.popup),this.options.showTooltips&&this.options.tooltip.followMouse&&this.popup&&!this.popup.hidden&&(i=(e=this.body.dom.centerContainer).getBoundingClientRect(),this.popup.setPosition(t.clientX-i.left+e.offsetLeft,t.clientY-i.top+e.offsetTop),this.popup.show()))}},{key:"_onMouseWheel",value:function(t){this.touchParams.itemIsDragging&&this._onDragEnd(t)}},{key:"_onUpdateItem",value:function(t){var e;this.options.selectable&&(this.options.editable.updateTime||this.options.editable.updateGroup)&&(e=this,t&&(t=e.itemsData.get(t.id),this.options.onUpdate(t,function(t){t&&e.itemsData.update(t)})))}},{key:"_onDropObjectOnItem",value:function(t){var e=this.itemFromTarget(t),t=JSON.parse(t.dataTransfer.getData("text"));this.options.onDropObjectOnItem(t,e)}},{key:"_onAddItem",value:function(e){var i,t,n,o,r,s,a,l;this.options.selectable&&this.options.editable.add&&(t=(i=this).options.snap||null,n=this.dom.frame.getBoundingClientRect(),n=this.options.rtl?n.right-e.center.x:e.center.x-n.left,l=this.body.util.toTime(n),o=this.body.util.getScale(),r=this.body.util.getStep(),"drop"==e.type?((a=JSON.parse(e.dataTransfer.getData("text"))).content=a.content||"new item",a.start=a.start||(t?t(l,o,r):l),a.type=a.type||"box",a[this.itemsData.idProp]=a.id||ty(),"range"!=a.type||a.end||(s=this.body.util.toTime(n+this.props.width/5),a.end=t?t(s,o,r):s)):((a={start:t?t(l,o,r):l,content:"new item"})[this.itemsData.idProp]=ty(),"range"===this.options.type&&(s=this.body.util.toTime(n+this.props.width/5),a.end=t?t(s,o,r):s)),(l=this.groupFromTarget(e))&&(a.group=l.groupId),a=this._cloneItemData(a),this.options.onAdd(a,function(t){t&&(i.itemsData.add(t),"drop"==e.type&&i.setSelection([t.id]))}))}},{key:"_onMultiSelectItem",value:function(t){var e=this;if(this.options.selectable){var i=this.itemFromTarget(t);if(i){var n=this.options.multiselect?this.getSelection():[];if((t.srcEvent&&t.srcEvent.shiftKey||!1||this.options.sequentialSelection)&&this.options.multiselect){var o,r,s=this.itemsData.get(i.id).group,a=void 0,l=(this.options.multiselectPerGroup&&0<n.length&&(a=this.itemsData.get(n[0]).group),this.options.multiselectPerGroup&&null!=a&&a!=s||n.push(i.id),u._getItemRange(this.itemsData.get(n)));if(!this.options.multiselectPerGroup||a==s)for(var h in n=[],this.items)this.items.hasOwnProperty(h)&&(o=(h=this.items[h]).data.start,r=void 0!==h.data.end?h.data.end:o,!(o>=l.min&&r<=l.max)||this.options.multiselectPerGroup&&a!=this.itemsData.get(h.id).group||h instanceof Lw||n.push(h.id))}else{s=am(n).call(n,i.id);-1==s?n.push(i.id):Qd(n).call(n,s,1)}i=Qh(n).call(n,function(t){return e.getItemById(t).selectable});this.setSelection(i),this.body.emitter.emit("select",{items:this.getSelection(),event:t})}}}},{key:"itemFromElement",value:function(t){for(var e=t;e;){if(e.hasOwnProperty("vis-item"))return e["vis-item"];e=e.parentNode}return null}},{key:"itemFromTarget",value:function(t){return this.itemFromElement(t.target)}},{key:"itemFromRelatedTarget",value:function(t){return this.itemFromElement(t.relatedTarget)}},{key:"groupFromTarget",value:function(t){var e=t.center?t.center.y:t.clientY,i=this.groupIds;i.length<=0&&this.groupsData&&(i=this.groupsData.getIds({order:this.options.groupOrder}));for(var n=0;n<i.length;n++){var o=i[n],o=this.groups[o],r=o.dom.foreground,s=r.getBoundingClientRect();if(e>=s.top&&e<s.top+r.offsetHeight)return o;if("top"===this.options.orientation.item){if(n===this.groupIds.length-1&&e>s.top)return o}else if(0===n&&e<s.top+r.offset)return o}return null}},{key:"_cloneItemData",value:function(t,e){t=x.extend({},t);return e=e||this.itemsData.type,null!=t.start&&(t.start=x.convert(t.start,e&&e.start||"Date")),null!=t.end&&(t.end=x.convert(t.end,e&&e.end||"Date")),t}},{key:"_clusterItems",value:function(){if(this.options.cluster){var t=this.body.range.conversion(this.body.domProps.center.width).scale,t=this.clusterGenerator.getClusters(this.clusters,t,this.options.cluster);if(this.clusters!=t){if(this._detachAllClusters(),t){var e,i=Jw(t);try{for(i.s();!(e=i.n()).done;)e.value.attach()}catch(t){i.e(t)}finally{i.f()}this.clusters=t}this._updateClusters(t)}}}},{key:"_detachAllClusters",value:function(){if(this.options.cluster&&this.clusters&&this.clusters.length){var t,e=Jw(this.clusters);try{for(e.s();!(t=e.n()).done;)t.value.detach()}catch(t){e.e(t)}finally{e.f()}}}},{key:"_updateClusters",value:function(t){if(this.clusters&&this.clusters.length){var e,i,n=new rw(Du(t).call(t,function(t){return t.id})),o=!1,r=Jw(Qh(i=this.clusters).call(i,function(t){return!n.has(t.id)}));try{for(r.s();!(e=r.n()).done;){var s,a,l=e.value,h=am(s=this.selection).call(s,l.id);-1!==h&&(l.unselect(),Qd(a=this.selection).call(a,h,1),o=!0)}}catch(t){r.e(t)}finally{r.f()}o&&(i=this.getSelection(),this.body.emitter.emit("select",{items:i,event:event}))}this.clusters=t||[]}}],[{key:"_getItemRange",value:function(t){var e=null,i=null;return k(t).call(t,function(t){(null==i||t.start<i)&&(i=t.start),null!=t.end?(null==e||t.end>e)&&(e=t.end):(null==e||t.start>e)&&(e=t.start)}),{min:i,max:e}}},{key:"itemSetFromTarget",value:function(t){for(var e=t.target;e;){if(e.hasOwnProperty("vis-itemset"))return e["vis-itemset"];e=e.parentNode}return null}}]),u}(),s1=(r1.types={background:Lw,box:rs,range:Fw,point:ct},r1.prototype._onAdd=r1.prototype._onUpdate,!1),a1="background: #FFeeee; color: #dd0000",l1=function(){function d(){Un(this,d)}return Xl(d,null,[{key:"validate",value:function(t,e,i){s1=!1;var n=i1=e;return void 0!==i&&(n=e[i]),d.parse(t,n,[]),s1}},{key:"parse",value:function(t,e,i){for(var n in t)t.hasOwnProperty(n)&&d.check(n,t,e,i)}},{key:"check",value:function(t,e,i,n){var o,r,s;void 0!==i[t]||void 0!==i.__any__?(r=!0,void 0===i[o=t]&&void 0!==i.__any__&&(o="__any__",r="object"===d.getType(e[t])),s=i[o],r&&void 0!==s.__type__&&(s=s.__type__),d.checkFields(t,e,i,o,s,n)):d.getSuggestion(t,i,n)}},{key:"checkFields",value:function(e,t,i,n,o,r){function s(t){console.log("%c"+t+d.printLocation(r,e),a1)}var a=d.getType(t[e]),l=o[a];void 0!==l?"array"===d.getType(l)&&-1===am(l).call(l,t[e])?(s('Invalid option detected in "'+e+'". Allowed values are:'+d.print(l)+' not "'+t[e]+'". '),s1=!0):"object"===a&&"__any__"!==n&&(r=x.copyAndExtendArray(r,e),d.parse(t[e],i[n],r)):void 0===o.any&&(s('Invalid type received for "'+e+'". Expected: '+d.print(Vu(o))+". Received ["+a+'] "'+t[e]+'"'),s1=!0)}},{key:"getType",value:function(t){var e=Hl(t);return"object"===e?null===t?"null":t instanceof Boolean?"boolean":t instanceof Number?"number":t instanceof String?"string":_h(t)?"array":t instanceof Date?"date":void 0!==t.nodeType?"dom":!0===t._isAMomentObject?"moment":"object":"number"===e?"number":"boolean"===e?"boolean":"string"===e?"string":void 0===e?"undefined":e}},{key:"getSuggestion",value:function(t,e,i){var n=d.findInOptions(t,e,i,!1),o=d.findInOptions(t,i1,[],!0),o=void 0!==n.indexMatch?" in "+d.printLocation(n.path,t,"")+'Perhaps it was incomplete? Did you mean: "'+n.indexMatch+'"?\n\n':o.distance<=4&&n.distance>o.distance?" in "+d.printLocation(n.path,t,"")+"Perhaps it was misplaced? Matching option found at: "+d.printLocation(o.path,o.closestMatch,""):n.distance<=8?'. Did you mean "'+n.closestMatch+'"?'+d.printLocation(n.path,t):". Did you mean one of these: "+d.print(Vu(e))+d.printLocation(i,t);console.log('%cUnknown option detected: "'+t+'"'+o,a1),s1=!0}},{key:"findInOptions",value:function(t,e,i){var n,h=3<arguments.length&&void 0!==arguments[3]&&arguments[3],o=1e9,r="",s=[],u=t.toLowerCase(),a=void 0;for(n in e){var c,l;void 0!==e[n].__type__&&!0===h?o>(l=d.findInOptions(t,e[n],x.copyAndExtendArray(i,n))).distance&&(r=l.closestMatch,s=l.path,o=l.distance,a=l.indexMatch):(-1!==am(l=n.toLowerCase()).call(l,u)&&(a=n),(c=d.levenshteinDistance(t,n))<o&&(r=n,s=x.copyArray(i),o=c))}return{closestMatch:r,path:s,distance:o,indexMatch:a}}},{key:"printLocation",value:function(t,e){for(var i="\n\n"+(2<arguments.length&&void 0!==arguments[2]?arguments[2]:"Problem value found at: \n")+"options = {\n",n=0;n<t.length;n++){for(var o=0;o<n+1;o++)i+="  ";i+=t[n]+": {\n"}for(var r=0;r<t.length+1;r++)i+="  ";i+=e+"\n";for(var s=0;s<t.length+1;s++){for(var a=0;a<t.length-s;a++)i+="  ";i+="}\n"}return i+"\n\n"}},{key:"print",value:function(t){return xm(t).replace(/(\")|(\[)|(\])|(,"__type__")/g,"").replace(/(\,)/g,", ")}},{key:"levenshteinDistance",value:function(t,e){if(0===t.length)return e.length;if(0===e.length)return t.length;for(var i,n=[],o=0;o<=e.length;o++)n[o]=[o];for(i=0;i<=t.length;i++)n[0][i]=i;for(o=1;o<=e.length;o++)for(i=1;i<=t.length;i++)e.charAt(o-1)==t.charAt(i-1)?n[o][i]=n[o-1][i-1]:n[o][i]=Math.min(n[o-1][i-1]+1,Math.min(n[o][i-1]+1,n[o-1][i]+1));return n[e.length][t.length]}}]),d}(),a="string",r="boolean",Oc="number",Ur="date",fi="object",Qt="moment",h1={configure:{enabled:{boolean:r},filter:{boolean:r,function:"function"},container:{dom:"dom"},__type__:{object:fi,boolean:r,function:"function"}},align:{string:a},alignCurrentTime:{string:a,undefined:"undefined"},rtl:{boolean:r,undefined:"undefined"},rollingMode:{follow:{boolean:r},offset:{number:Oc,undefined:"undefined"},__type__:{object:fi}},onTimeout:{timeoutMs:{number:Oc},callback:{function:"function"},__type__:{object:fi}},verticalScroll:{boolean:r,undefined:"undefined"},horizontalScroll:{boolean:r,undefined:"undefined"},autoResize:{boolean:r},throttleRedraw:{number:Oc},clickToUse:{boolean:r},dataAttributes:{string:a,array:"array"},editable:{add:{boolean:r,undefined:"undefined"},remove:{boolean:r,undefined:"undefined"},updateGroup:{boolean:r,undefined:"undefined"},updateTime:{boolean:r,undefined:"undefined"},overrideItems:{boolean:r,undefined:"undefined"},__type__:{boolean:r,object:fi}},end:{number:Oc,date:Ur,string:a,moment:Qt},format:{minorLabels:{millisecond:{string:a,undefined:"undefined"},second:{string:a,undefined:"undefined"},minute:{string:a,undefined:"undefined"},hour:{string:a,undefined:"undefined"},weekday:{string:a,undefined:"undefined"},day:{string:a,undefined:"undefined"},week:{string:a,undefined:"undefined"},month:{string:a,undefined:"undefined"},year:{string:a,undefined:"undefined"},__type__:{object:fi,function:"function"}},majorLabels:{millisecond:{string:a,undefined:"undefined"},second:{string:a,undefined:"undefined"},minute:{string:a,undefined:"undefined"},hour:{string:a,undefined:"undefined"},weekday:{string:a,undefined:"undefined"},day:{string:a,undefined:"undefined"},week:{string:a,undefined:"undefined"},month:{string:a,undefined:"undefined"},year:{string:a,undefined:"undefined"},__type__:{object:fi,function:"function"}},__type__:{object:fi}},moment:{function:"function"},groupHeightMode:{string:a},groupOrder:{string:a,function:"function"},groupEditable:{add:{boolean:r,undefined:"undefined"},remove:{boolean:r,undefined:"undefined"},order:{boolean:r,undefined:"undefined"},__type__:{boolean:r,object:fi}},groupOrderSwap:{function:"function"},height:{string:a,number:Oc},hiddenDates:{start:{date:Ur,number:Oc,string:a,moment:Qt},end:{date:Ur,number:Oc,string:a,moment:Qt},repeat:{string:a},__type__:{object:fi,array:"array"}},itemsAlwaysDraggable:{item:{boolean:r,undefined:"undefined"},range:{boolean:r,undefined:"undefined"},__type__:{boolean:r,object:fi}},limitSize:{boolean:r},locale:{string:a},locales:{__any__:{any:"any"},__type__:{object:fi}},longSelectPressTime:{number:Oc},margin:{axis:{number:Oc},item:{horizontal:{number:Oc,undefined:"undefined"},vertical:{number:Oc,undefined:"undefined"},__type__:{object:fi,number:Oc}},__type__:{object:fi,number:Oc}},max:{date:Ur,number:Oc,string:a,moment:Qt},maxHeight:{number:Oc,string:a},maxMinorChars:{number:Oc},min:{date:Ur,number:Oc,string:a,moment:Qt},minHeight:{number:Oc,string:a},moveable:{boolean:r},multiselect:{boolean:r},multiselectPerGroup:{boolean:r},onAdd:{function:"function"},onDropObjectOnItem:{function:"function"},onUpdate:{function:"function"},onMove:{function:"function"},onMoving:{function:"function"},onRemove:{function:"function"},onAddGroup:{function:"function"},onMoveGroup:{function:"function"},onRemoveGroup:{function:"function"},onInitialDrawComplete:{function:"function"},order:{function:"function"},orientation:{axis:{string:a,undefined:"undefined"},item:{string:a,undefined:"undefined"},__type__:{string:a,object:fi}},selectable:{boolean:r},sequentialSelection:{boolean:r},showCurrentTime:{boolean:r},showMajorLabels:{boolean:r},showMinorLabels:{boolean:r},showWeekScale:{boolean:r},stack:{boolean:r},stackSubgroups:{boolean:r},cluster:{maxItems:{number:Oc,undefined:"undefined"},titleTemplate:{string:a,undefined:"undefined"},clusterCriteria:{function:"function",undefined:"undefined"},showStipes:{boolean:r,undefined:"undefined"},fitOnDoubleClick:{boolean:r,undefined:"undefined"},__type__:{boolean:r,object:fi}},snap:{function:"function",null:"null"},start:{date:Ur,number:Oc,string:a,moment:Qt},template:{function:"function"},loadingScreenTemplate:{function:"function"},groupTemplate:{function:"function"},visibleFrameTemplate:{string:a,function:"function"},showTooltips:{boolean:r},tooltip:{followMouse:{boolean:r},overflowMethod:{string:["cap","flip","none"]},delay:{number:Oc},template:{function:"function"},__type__:{object:fi}},tooltipOnItemUpdateTime:{template:{function:"function"},__type__:{boolean:r,object:fi}},timeAxis:{scale:{string:a,undefined:"undefined"},step:{number:Oc,undefined:"undefined"},__type__:{object:fi}},type:{string:a},width:{string:a,number:Oc},preferZoom:{boolean:r},zoomable:{boolean:r},zoomKey:{string:["ctrlKey","altKey","shiftKey","metaKey",""]},zoomFriction:{number:Oc},zoomMax:{number:Oc},zoomMin:{number:Oc},xss:{disabled:{boolean:r},filterOptions:{__any__:{any:"any"},__type__:{object:fi}},__type__:{object:fi}},__type__:{object:fi}},u1={global:{align:["center","left","right"],alignCurrentTime:["none","year","month","quarter","week","isoWeek","day","date","hour","minute","second"],direction:!1,autoResize:!0,clickToUse:!1,editable:{add:!1,remove:!1,updateGroup:!1,updateTime:!1},end:"",format:{minorLabels:{millisecond:"SSS",second:"s",minute:"HH:mm",hour:"HH:mm",weekday:"ddd D",day:"D",week:"w",month:"MMM",year:"YYYY"},majorLabels:{millisecond:"HH:mm:ss",second:"D MMMM HH:mm",minute:"ddd D MMMM",hour:"ddd D MMMM",weekday:"MMMM YYYY",day:"MMMM YYYY",week:"MMMM YYYY",month:"YYYY",year:""}},groupHeightMode:["auto","fixed","fitItems"],groupsDraggable:!1,height:"",locale:"",longSelectPressTime:251,margin:{axis:[20,0,100,1],item:{horizontal:[10,0,100,1],vertical:[10,0,100,1]}},max:"",maxHeight:"",maxMinorChars:[7,0,20,1],min:"",minHeight:"",moveable:!1,multiselect:!1,multiselectPerGroup:!1,orientation:{axis:["both","bottom","top"],item:["bottom","top"]},preferZoom:!1,selectable:!0,showCurrentTime:!1,showMajorLabels:!0,showMinorLabels:!0,stack:!0,stackSubgroups:!0,cluster:!1,start:"",showTooltips:!0,tooltip:{followMouse:!1,overflowMethod:"flip",delay:[500,0,99999,100]},tooltipOnItemUpdateTime:!1,type:["box","point","range","background"],width:"100%",zoomable:!0,zoomKey:["ctrlKey","altKey","shiftKey","metaKey",""],zoomMax:[31536e10,10,31536e10,1],zoomMin:[10,10,31536e10,1],xss:{disabled:!1}}},c1={black:"#000000",navy:"#000080",darkblue:"#00008B",mediumblue:"#0000CD",blue:"#0000FF",darkgreen:"#006400",green:"#008000",teal:"#008080",darkcyan:"#008B8B",deepskyblue:"#00BFFF",darkturquoise:"#00CED1",mediumspringgreen:"#00FA9A",lime:"#00FF00",springgreen:"#00FF7F",aqua:"#00FFFF",cyan:"#00FFFF",midnightblue:"#191970",dodgerblue:"#1E90FF",lightseagreen:"#20B2AA",forestgreen:"#228B22",seagreen:"#2E8B57",darkslategray:"#2F4F4F",limegreen:"#32CD32",mediumseagreen:"#3CB371",turquoise:"#40E0D0",royalblue:"#4169E1",steelblue:"#4682B4",darkslateblue:"#483D8B",mediumturquoise:"#48D1CC",indigo:"#4B0082",darkolivegreen:"#556B2F",cadetblue:"#5F9EA0",cornflowerblue:"#6495ED",mediumaquamarine:"#66CDAA",dimgray:"#696969",slateblue:"#6A5ACD",olivedrab:"#6B8E23",slategray:"#708090",lightslategray:"#778899",mediumslateblue:"#7B68EE",lawngreen:"#7CFC00",chartreuse:"#7FFF00",aquamarine:"#7FFFD4",maroon:"#800000",purple:"#800080",olive:"#808000",gray:"#808080",skyblue:"#87CEEB",lightskyblue:"#87CEFA",blueviolet:"#8A2BE2",darkred:"#8B0000",darkmagenta:"#8B008B",saddlebrown:"#8B4513",darkseagreen:"#8FBC8F",lightgreen:"#90EE90",mediumpurple:"#9370D8",darkviolet:"#9400D3",palegreen:"#98FB98",darkorchid:"#9932CC",yellowgreen:"#9ACD32",sienna:"#A0522D",brown:"#A52A2A",darkgray:"#A9A9A9",lightblue:"#ADD8E6",greenyellow:"#ADFF2F",paleturquoise:"#AFEEEE",lightsteelblue:"#B0C4DE",powderblue:"#B0E0E6",firebrick:"#B22222",darkgoldenrod:"#B8860B",mediumorchid:"#BA55D3",rosybrown:"#BC8F8F",darkkhaki:"#BDB76B",silver:"#C0C0C0",mediumvioletred:"#C71585",indianred:"#CD5C5C",peru:"#CD853F",chocolate:"#D2691E",tan:"#D2B48C",lightgrey:"#D3D3D3",palevioletred:"#D87093",thistle:"#D8BFD8",orchid:"#DA70D6",goldenrod:"#DAA520",crimson:"#DC143C",gainsboro:"#DCDCDC",plum:"#DDA0DD",burlywood:"#DEB887",lightcyan:"#E0FFFF",lavender:"#E6E6FA",darksalmon:"#E9967A",violet:"#EE82EE",palegoldenrod:"#EEE8AA",lightcoral:"#F08080",khaki:"#F0E68C",aliceblue:"#F0F8FF",honeydew:"#F0FFF0",azure:"#F0FFFF",sandybrown:"#F4A460",wheat:"#F5DEB3",beige:"#F5F5DC",whitesmoke:"#F5F5F5",mintcream:"#F5FFFA",ghostwhite:"#F8F8FF",salmon:"#FA8072",antiquewhite:"#FAEBD7",linen:"#FAF0E6",lightgoldenrodyellow:"#FAFAD2",oldlace:"#FDF5E6",red:"#FF0000",fuchsia:"#FF00FF",magenta:"#FF00FF",deeppink:"#FF1493",orangered:"#FF4500",tomato:"#FF6347",hotpink:"#FF69B4",coral:"#FF7F50",darkorange:"#FF8C00",lightsalmon:"#FFA07A",orange:"#FFA500",lightpink:"#FFB6C1",pink:"#FFC0CB",gold:"#FFD700",peachpuff:"#FFDAB9",navajowhite:"#FFDEAD",moccasin:"#FFE4B5",bisque:"#FFE4C4",mistyrose:"#FFE4E1",blanchedalmond:"#FFEBCD",papayawhip:"#FFEFD5",lavenderblush:"#FFF0F5",seashell:"#FFF5EE",cornsilk:"#FFF8DC",lemonchiffon:"#FFFACD",floralwhite:"#FFFAF0",snow:"#FFFAFA",yellow:"#FFFF00",lightyellow:"#FFFFE0",ivory:"#FFFFF0",white:"#FFFFFF"},d1=function(){function e(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:1;Un(this,e),this.pixelRatio=t,this.generated=!1,this.centerCoordinates={x:144.5,y:144.5},this.r=289*.49,this.color={r:255,g:255,b:255,a:1},this.hueCircle=void 0,this.initialColor={r:255,g:255,b:255,a:1},this.previousColor=void 0,this.applied=!1,this.updateCallback=function(){},this.closeCallback=function(){},this._create()}return Xl(e,[{key:"insertTo",value:function(t){void 0!==this.hammer&&(this.hammer.destroy(),this.hammer=void 0),this.container=t,this.container.appendChild(this.frame),this._bindHammer(),this._setSize()}},{key:"setUpdateCallback",value:function(t){if("function"!=typeof t)throw new Error("Function attempted to set as colorPicker update callback is not a function.");this.updateCallback=t}},{key:"setCloseCallback",value:function(t){if("function"!=typeof t)throw new Error("Function attempted to set as colorPicker closing callback is not a function.");this.closeCallback=t}},{key:"_isColorString",value:function(t){if("string"==typeof t)return c1[t]}},{key:"setColor",value:function(t){var e=!(1<arguments.length&&void 0!==arguments[1])||arguments[1];if("none"!==t){var i,n=this._isColorString(t);if(!0===x.isString(t=void 0!==n?n:t)?!0===x.isValidRGB(t)?i={r:(n=t.substr(4).substr(0,t.length-5).split(","))[0],g:n[1],b:n[2],a:1}:!0===x.isValidRGBA(t)?i={r:(n=t.substr(5).substr(0,t.length-6).split(","))[0],g:n[1],b:n[2],a:n[3]}:!0===x.isValidHex(t)&&(i={r:(n=x.hexToRGB(t)).r,g:n.g,b:n.b,a:1}):t instanceof Object&&void 0!==t.r&&void 0!==t.g&&void 0!==t.b&&(n=void 0!==t.a?t.a:"1.0",i={r:t.r,g:t.g,b:t.b,a:n}),void 0===i)throw new Error("Unknown color passed to the colorPicker. Supported are strings: rgb, hex, rgba. Object: rgb ({r:r,g:g,b:b,[a:a]}). Supplied: "+xm(t));this._setColor(i,e)}}},{key:"show",value:function(){void 0!==this.closeCallback&&(this.closeCallback(),this.closeCallback=void 0),this.applied=!1,this.frame.style.display="block",this._generateHueCircle()}},{key:"_hide",value:function(){var t=this;!0===(!(0<arguments.length&&void 0!==arguments[0])||arguments[0])&&(this.previousColor=x.extend({},this.color)),!0===this.applied&&this.updateCallback(this.initialColor),this.frame.style.display="none",Nh(function(){void 0!==t.closeCallback&&(t.closeCallback(),t.closeCallback=void 0)},0)}},{key:"_save",value:function(){this.updateCallback(this.color),this.applied=!1,this._hide()}},{key:"_apply",value:function(){this.applied=!0,this.updateCallback(this.color),this._updatePicker(this.color)}},{key:"_loadLast",value:function(){void 0!==this.previousColor?this.setColor(this.previousColor,!1):alert("There is no last color to load...")}},{key:"_setColor",value:function(t){!0===(!(1<arguments.length&&void 0!==arguments[1])||arguments[1])&&(this.initialColor=x.extend({},t)),this.color=t;var e=x.RGBToHSV(t.r,t.g,t.b),i=2*Math.PI,n=this.r*e.s,o=this.centerCoordinates.x+n*Math.sin(i*e.h),n=this.centerCoordinates.y+n*Math.cos(i*e.h);this.colorPickerSelector.style.left=o-.5*this.colorPickerSelector.clientWidth+"px",this.colorPickerSelector.style.top=n-.5*this.colorPickerSelector.clientHeight+"px",this._updatePicker(t)}},{key:"_setOpacity",value:function(t){this.color.a=t/100,this._updatePicker(this.color)}},{key:"_setBrightness",value:function(t){var e=x.RGBToHSV(this.color.r,this.color.g,this.color.b),t=(e.v=t/100,x.HSVToRGB(e.h,e.s,e.v));t.a=this.color.a,this.color=t,this._updatePicker()}},{key:"_updatePicker",value:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:this.color,e=x.RGBToHSV(t.r,t.g,t.b),i=this.colorPickerCanvas.getContext("2d"),n=(void 0===this.pixelRation&&(this.pixelRatio=(window.devicePixelRatio||1)/(i.webkitBackingStorePixelRatio||i.mozBackingStorePixelRatio||i.msBackingStorePixelRatio||i.oBackingStorePixelRatio||i.backingStorePixelRatio||1)),i.setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0),this.colorPickerCanvas.clientWidth),o=this.colorPickerCanvas.clientHeight;i.clearRect(0,0,n,o),i.putImageData(this.hueCircle,0,0),i.fillStyle="rgba(0,0,0,"+(1-e.v)+")",i.circle(this.centerCoordinates.x,this.centerCoordinates.y,this.r),Am(i).call(i),this.brightnessRange.value=100*e.v,this.opacityRange.value=100*t.a,this.initialColorDiv.style.backgroundColor="rgba("+this.initialColor.r+","+this.initialColor.g+","+this.initialColor.b+","+this.initialColor.a+")",this.newColorDiv.style.backgroundColor="rgba("+this.color.r+","+this.color.g+","+this.color.b+","+this.color.a+")"}},{key:"_setSize",value:function(){this.colorPickerCanvas.style.width="100%",this.colorPickerCanvas.style.height="100%",this.colorPickerCanvas.width=289*this.pixelRatio,this.colorPickerCanvas.height=289*this.pixelRatio}},{key:"_create",value:function(){var t;this.frame=document.createElement("div"),this.frame.className="vis-color-picker",this.colorPickerDiv=document.createElement("div"),this.colorPickerSelector=document.createElement("div"),this.colorPickerSelector.className="vis-selector",this.colorPickerDiv.appendChild(this.colorPickerSelector),this.colorPickerCanvas=document.createElement("canvas"),this.colorPickerDiv.appendChild(this.colorPickerCanvas),this.colorPickerCanvas.getContext?(t=this.colorPickerCanvas.getContext("2d"),this.pixelRatio=(window.devicePixelRatio||1)/(t.webkitBackingStorePixelRatio||t.mozBackingStorePixelRatio||t.msBackingStorePixelRatio||t.oBackingStorePixelRatio||t.backingStorePixelRatio||1),this.colorPickerCanvas.getContext("2d").setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0)):((t=document.createElement("DIV")).style.color="red",t.style.fontWeight="bold",t.style.padding="10px",t.innerHTML="Error: your browser does not support HTML canvas",this.colorPickerCanvas.appendChild(t)),this.colorPickerDiv.className="vis-color",this.opacityDiv=document.createElement("div"),this.opacityDiv.className="vis-opacity",this.brightnessDiv=document.createElement("div"),this.brightnessDiv.className="vis-brightness",this.arrowDiv=document.createElement("div"),this.arrowDiv.className="vis-arrow",this.opacityRange=document.createElement("input");try{this.opacityRange.type="range",this.opacityRange.min="0",this.opacityRange.max="100"}catch(t){}this.opacityRange.value="100",this.opacityRange.className="vis-range",this.brightnessRange=document.createElement("input");try{this.brightnessRange.type="range",this.brightnessRange.min="0",this.brightnessRange.max="100"}catch(t){}this.brightnessRange.value="100",this.brightnessRange.className="vis-range",this.opacityDiv.appendChild(this.opacityRange),this.brightnessDiv.appendChild(this.brightnessRange);var e=this;this.opacityRange.onchange=function(){e._setOpacity(this.value)},this.opacityRange.oninput=function(){e._setOpacity(this.value)},this.brightnessRange.onchange=function(){e._setBrightness(this.value)},this.brightnessRange.oninput=function(){e._setBrightness(this.value)},this.brightnessLabel=document.createElement("div"),this.brightnessLabel.className="vis-label vis-brightness",this.brightnessLabel.innerHTML="brightness:",this.opacityLabel=document.createElement("div"),this.opacityLabel.className="vis-label vis-opacity",this.opacityLabel.innerHTML="opacity:",this.newColorDiv=document.createElement("div"),this.newColorDiv.className="vis-new-color",this.newColorDiv.innerHTML="new",this.initialColorDiv=document.createElement("div"),this.initialColorDiv.className="vis-initial-color",this.initialColorDiv.innerHTML="initial",this.cancelButton=document.createElement("div"),this.cancelButton.className="vis-button vis-cancel",this.cancelButton.innerHTML="cancel",this.cancelButton.onclick=p(t=this._hide).call(t,this,!1),this.applyButton=document.createElement("div"),this.applyButton.className="vis-button vis-apply",this.applyButton.innerHTML="apply",this.applyButton.onclick=p(t=this._apply).call(t,this),this.saveButton=document.createElement("div"),this.saveButton.className="vis-button vis-save",this.saveButton.innerHTML="save",this.saveButton.onclick=p(t=this._save).call(t,this),this.loadButton=document.createElement("div"),this.loadButton.className="vis-button vis-load",this.loadButton.innerHTML="load last",this.loadButton.onclick=p(t=this._loadLast).call(t,this),this.frame.appendChild(this.colorPickerDiv),this.frame.appendChild(this.arrowDiv),this.frame.appendChild(this.brightnessLabel),this.frame.appendChild(this.brightnessDiv),this.frame.appendChild(this.opacityLabel),this.frame.appendChild(this.opacityDiv),this.frame.appendChild(this.newColorDiv),this.frame.appendChild(this.initialColorDiv),this.frame.appendChild(this.cancelButton),this.frame.appendChild(this.applyButton),this.frame.appendChild(this.saveButton),this.frame.appendChild(this.loadButton)}},{key:"_bindHammer",value:function(){var e=this;this.drag={},this.pinch={},this.hammer=new kb(this.colorPickerCanvas),this.hammer.get("pinch").set({enable:!0}),xb(this.hammer,function(t){e._moveSelector(t)}),this.hammer.on("tap",function(t){e._moveSelector(t)}),this.hammer.on("panstart",function(t){e._moveSelector(t)}),this.hammer.on("panmove",function(t){e._moveSelector(t)}),this.hammer.on("panend",function(t){e._moveSelector(t)})}},{key:"_generateHueCircle",value:function(){if(!1===this.generated){for(var t,e,i,n,o=this.colorPickerCanvas.getContext("2d"),r=(void 0===this.pixelRation&&(this.pixelRatio=(window.devicePixelRatio||1)/(o.webkitBackingStorePixelRatio||o.mozBackingStorePixelRatio||o.msBackingStorePixelRatio||o.oBackingStorePixelRatio||o.backingStorePixelRatio||1)),o.setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0),this.colorPickerCanvas.clientWidth),s=this.colorPickerCanvas.clientHeight,a=(o.clearRect(0,0,r,s),this.centerCoordinates={x:.5*r,y:.5*s},this.r=.49*r,2*Math.PI/360),l=1/this.r,h=0;h<360;h++)for(i=0;i<this.r;i++)t=this.centerCoordinates.x+i*Math.sin(a*h),e=this.centerCoordinates.y+i*Math.cos(a*h),n=x.HSVToRGB(h*(1/360),i*l,1),o.fillStyle="rgb("+n.r+","+n.g+","+n.b+")",o.fillRect(t-.5,e-.5,2,2);o.strokeStyle="rgba(0,0,0,1)",o.circle(this.centerCoordinates.x,this.centerCoordinates.y,this.r),o.stroke(),this.hueCircle=o.getImageData(0,0,r,s)}this.generated=!0}},{key:"_moveSelector",value:function(t){var e=this.colorPickerDiv.getBoundingClientRect(),i=t.center.x-e.left,t=t.center.y-e.top,e=.5*this.colorPickerDiv.clientHeight,n=.5*this.colorPickerDiv.clientWidth,i=i-n,t=t-e,o=Math.atan2(i,t),i=.98*Math.min(Math.sqrt(i*i+t*t),n),t=Math.cos(o)*i+e,e=Math.sin(o)*i+n;this.colorPickerSelector.style.top=t-.5*this.colorPickerSelector.clientHeight+"px",this.colorPickerSelector.style.left=e-.5*this.colorPickerSelector.clientWidth+"px";n=(n=o/(2*Math.PI))<0?n+1:n,t=i/this.r,e=x.RGBToHSV(this.color.r,this.color.g,this.color.b),e.h=n,e.s=t,o=x.HSVToRGB(e.h,e.s,e.v);o.a=this.color.a,this.color=o,this.initialColorDiv.style.backgroundColor="rgba("+this.initialColor.r+","+this.initialColor.g+","+this.initialColor.b+","+this.initialColor.a+")",this.newColorDiv.style.backgroundColor="rgba("+this.color.r+","+this.color.g+","+this.color.b+","+this.color.a+")"}}]),e}(),p1=function(){function o(t,e,i){var n=3<arguments.length&&void 0!==arguments[3]?arguments[3]:1;Un(this,o),this.parent=t,this.changedOptions=[],this.container=e,this.allowCreation=!1,this.options={},this.initialized=!1,this.popupCounter=0,this.defaultOptions={enabled:!1,filter:!0,container:void 0,showButton:!0},x.extend(this.options,this.defaultOptions),this.configureOptions=i,this.moduleOptions={},this.domElements=[],this.popupDiv={},this.popupLimit=5,this.popupHistory={},this.colorPicker=new d1(n),this.wrapper=void 0}return Xl(o,[{key:"setOptions",value:function(t){if(void 0!==t){this.popupHistory={},this._removePopup();var e=!0;if("string"==typeof t)this.options.filter=t;else if(_h(t))this.options.filter=t.join();else if("object"===Hl(t)){if(null==t)throw new TypeError("options cannot be null");void 0!==t.container&&(this.options.container=t.container),void 0!==Qh(t)&&(this.options.filter=Qh(t)),void 0!==t.showButton&&(this.options.showButton=t.showButton),void 0!==t.enabled&&(e=t.enabled)}else"boolean"==typeof t?(this.options.filter=!0,e=t):"function"==typeof t&&(this.options.filter=t,e=!0);!1===Qh(this.options)&&(e=!1),this.options.enabled=e}this._clean()}},{key:"setModuleOptions",value:function(t){this.moduleOptions=t,!0===this.options.enabled&&(this._clean(),void 0!==this.options.container&&(this.container=this.options.container),this._create())}},{key:"_create",value:function(){this._clean(),this.changedOptions=[];var t,e=Qh(this.options),i=0,n=!1;for(t in this.configureOptions)this.configureOptions.hasOwnProperty(t)&&(n=this.allowCreation=!1,"function"==typeof e?n=(n=e(t,[]))||this._handleObject(this.configureOptions[t],[t],!0):!0!==e&&-1===am(e).call(e,t)||(n=!0),!1!==n&&(this.allowCreation=!0,0<i&&this._makeItem([]),this._makeHeader(t),this._handleObject(this.configureOptions[t],[t])),i++);this._makeButton(),this._push()}},{key:"_push",value:function(){this.wrapper=document.createElement("div"),this.wrapper.className="vis-configuration-wrapper",this.container.appendChild(this.wrapper);for(var t=0;t<this.domElements.length;t++)this.wrapper.appendChild(this.domElements[t]);this._showPopupIfNeeded()}},{key:"_clean",value:function(){for(var t=0;t<this.domElements.length;t++)this.wrapper.removeChild(this.domElements[t]);void 0!==this.wrapper&&(this.container.removeChild(this.wrapper),this.wrapper=void 0),this.domElements=[],this._removePopup()}},{key:"_getValue",value:function(t){for(var e=this.moduleOptions,i=0;i<t.length;i++){if(void 0===e[t[i]]){e=void 0;break}e=e[t[i]]}return e}},{key:"_makeItem",value:function(t){if(!0!==this.allowCreation)return 0;var e=document.createElement("div");e.className="vis-configuration vis-config-item vis-config-s"+t.length;for(var i=arguments.length,n=new Array(1<i?i-1:0),o=1;o<i;o++)n[o-1]=arguments[o];return k(n).call(n,function(t){e.appendChild(t)}),this.domElements.push(e),this.domElements.length}},{key:"_makeHeader",value:function(t){var e=document.createElement("div");e.className="vis-configuration vis-config-header",e.innerHTML=x.xss(t),this._makeItem([],e)}},{key:"_makeLabel",value:function(t,e){var i=2<arguments.length&&void 0!==arguments[2]&&arguments[2],n=document.createElement("div");return n.className="vis-configuration vis-config-label vis-config-s"+e.length,n.innerHTML=!0===i?x.xss("<i><b>"+t+":</b></i>"):x.xss(t+":"),n}},{key:"_makeDropdown",value:function(t,e,i){var n=document.createElement("select"),o=(n.className="vis-configuration vis-config-select",0);void 0!==e&&-1!==am(t).call(t,e)&&(o=am(t).call(t,e));for(var r=0;r<t.length;r++){var s=document.createElement("option");s.value=t[r],r===o&&(s.selected="selected"),s.innerHTML=t[r],n.appendChild(s)}var a=this,e=(n.onchange=function(){a._update(this.value,i)},this._makeLabel(i[i.length-1],i));this._makeItem(i,e,n)}},{key:"_makeRange",value:function(t,e,i){var n=t[0],o=t[1],r=t[2],t=t[3],s=document.createElement("input");s.className="vis-configuration vis-config-range";try{s.type="range",s.min=o,s.max=r}catch(t){}s.step=t;var t="",a=0,l=(void 0!==e?(e<0&&1.2*e<o?(s.min=Math.ceil(1.2*e),a=s.min,t="range increased"):e/1.2<o&&(s.min=Math.ceil(e/1.2),a=s.min,t="range increased"),r<1.2*e&&1!==r&&(s.max=Math.ceil(1.2*e),a=s.max,t="range increased"),s.value=e):s.value=n,document.createElement("input")),h=(l.className="vis-configuration vis-config-rangeinput",l.value=Number(s.value),this),o=(s.onchange=function(){l.value=this.value,h._update(Number(this.value),i)},s.oninput=function(){l.value=this.value},this._makeLabel(i[i.length-1],i)),r=this._makeItem(i,o,s,l);""!==t&&this.popupHistory[r]!==a&&(this.popupHistory[r]=a,this._setupPopup(t,r))}},{key:"_makeButton",value:function(){var t,e=this;!0===this.options.showButton&&((t=document.createElement("div")).className="vis-configuration vis-config-button",t.innerHTML="generate options",t.onclick=function(){e._printOptions()},t.onmouseover=function(){t.className="vis-configuration vis-config-button hover"},t.onmouseout=function(){t.className="vis-configuration vis-config-button"},this.optionsContainer=document.createElement("div"),this.optionsContainer.className="vis-configuration vis-config-option-container",this.domElements.push(this.optionsContainer),this.domElements.push(t))}},{key:"_setupPopup",value:function(t,e){var i,n=this;!0===this.initialized&&!0===this.allowCreation&&this.popupCounter<this.popupLimit&&((i=document.createElement("div")).id="vis-configuration-popup",i.className="vis-configuration-popup",i.innerHTML=x.xss(t),i.onclick=function(){n._removePopup()},this.popupCounter+=1,this.popupDiv={html:i,index:e})}},{key:"_removePopup",value:function(){void 0!==this.popupDiv.html&&(this.popupDiv.html.parentNode.removeChild(this.popupDiv.html),clearTimeout(this.popupDiv.hideTimeout),clearTimeout(this.popupDiv.deleteTimeout),this.popupDiv={})}},{key:"_showPopupIfNeeded",value:function(){var t,e=this;void 0!==this.popupDiv.html&&(t=this.domElements[this.popupDiv.index].getBoundingClientRect(),this.popupDiv.html.style.left=t.left+"px",this.popupDiv.html.style.top=t.top-30+"px",document.body.appendChild(this.popupDiv.html),this.popupDiv.hideTimeout=Nh(function(){e.popupDiv.html.style.opacity=0},1500),this.popupDiv.deleteTimeout=Nh(function(){e._removePopup()},1800))}},{key:"_makeCheckbox",value:function(t,e,i){var n=document.createElement("input"),o=(n.type="checkbox",n.className="vis-configuration vis-config-checkbox",n.checked=t,void 0!==e&&((n.checked=e)===t||"object"===Hl(t)&&e===t.enabled||this.changedOptions.push({path:i,value:e})),this),t=(n.onchange=function(){o._update(this.checked,i)},this._makeLabel(i[i.length-1],i));this._makeItem(i,t,n)}},{key:"_makeTextInput",value:function(t,e,i){var n=document.createElement("input"),o=(n.type="text",n.className="vis-configuration vis-config-text",(n.value=e)!==t&&this.changedOptions.push({path:i,value:e}),this),t=(n.onchange=function(){o._update(this.value,i)},this._makeLabel(i[i.length-1],i));this._makeItem(i,t,n)}},{key:"_makeColorField",value:function(t,e,i){var n=this,t=t[1],o=document.createElement("div"),t=("none"!==(e=void 0===e?t:e)?(o.className="vis-configuration vis-config-colorBlock",o.style.backgroundColor=e):o.className="vis-configuration vis-config-colorBlock none",e=void 0===e?t:e,o.onclick=function(){n._showColorPicker(e,o,i)},this._makeLabel(i[i.length-1],i));this._makeItem(i,t,o)}},{key:"_showColorPicker",value:function(t,e,i){var n=this;e.onclick=function(){},this.colorPicker.insertTo(e),this.colorPicker.show(),this.colorPicker.setColor(t),this.colorPicker.setUpdateCallback(function(t){t="rgba("+t.r+","+t.g+","+t.b+","+t.a+")";e.style.backgroundColor=t,n._update(t,i)}),this.colorPicker.setCloseCallback(function(){e.onclick=function(){n._showColorPicker(t,e,i)}})}},{key:"_handleObject",value:function(t){var e,i,n,o,r,s=1<arguments.length&&void 0!==arguments[1]?arguments[1]:[],h=2<arguments.length&&void 0!==arguments[2]&&arguments[2],a=!1,u=Qh(this.options),l=!1;for(e in t)t.hasOwnProperty(e)&&(a=!0,i=t[e],n=x.copyAndExtendArray(s,e),"function"==typeof u&&!1===(a=u(e,s))&&!_h(i)&&"string"!=typeof i&&"boolean"!=typeof i&&i instanceof Object&&(this.allowCreation=!1,a=this._handleObject(i,n,!0),this.allowCreation=!1===h),!1!==a&&(l=!0,o=this._getValue(n),_h(i)?this._handleArray(i,o,n):"string"==typeof i?this._makeTextInput(i,o,n):"boolean"==typeof i?this._makeCheckbox(i,o,n):i instanceof Object?(o=!0)===(o=-1!==am(s).call(s,"physics")&&this.moduleOptions.physics.solver!==e?!1:o)&&(void 0!==i.enabled?(o=x.copyAndExtendArray(n,"enabled"),!0===(o=this._getValue(o))?(r=this._makeLabel(e,n,!0),this._makeItem(n,r),l=this._handleObject(i,n)||l):this._makeCheckbox(i,o,n)):(r=this._makeLabel(e,n,!0),this._makeItem(n,r),l=this._handleObject(i,n)||l)):console.error("dont know how to handle",i,e,n)));return l}},{key:"_handleArray",value:function(t,e,i){"string"==typeof t[0]&&"color"===t[0]?(this._makeColorField(t,e,i),t[1]!==e&&this.changedOptions.push({path:i,value:e})):"string"==typeof t[0]?(this._makeDropdown(t,e,i),t[0]!==e&&this.changedOptions.push({path:i,value:e})):"number"==typeof t[0]&&(this._makeRange(t,e,i),t[0]!==e&&this.changedOptions.push({path:i,value:Number(e)}))}},{key:"_update",value:function(t,e){t=this._constructOptions(t,e);this.parent.body&&this.parent.body.emitter&&this.parent.body.emitter.emit&&this.parent.body.emitter.emit("configChange",t),this.initialized=!0,this.parent.setOptions(t)}},{key:"_constructOptions",value:function(t,e){var i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{},n=i;t="false"!==(t="true"===t||t)&&t;for(var o=0;o<e.length;o++)"global"!==e[o]&&(void 0===n[e[o]]&&(n[e[o]]={}),o!==e.length-1?n=n[e[o]]:n[e[o]]=t);return i}},{key:"_printOptions",value:function(){var t=this.getOptions();this.optionsContainer.innerHTML="<pre>var options = "+xm(t,null,2)+"</pre>"}},{key:"getOptions",value:function(){for(var t={},e=0;e<this.changedOptions.length;e++)this._constructOptions(this.changedOptions[e].value,this.changedOptions[e].path,t);return t}}]),o}();function m1(i){var n=function(){if("undefined"==typeof Reflect||!o)return!1;if(o.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(o(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var t,e=wh(i);return mh(this,n?(t=wh(this).constructor,o(e,arguments,t)):e.apply(this,arguments))}}he=function(){ph(d,Pb);var c=m1(d);function d(t,u,e,i){var n;if(Un(this,d),(n=c.call(this)).initTime=new Date,n.itemsDone=!1,!(ql(n)instanceof d))throw new SyntaxError("Constructor must be called with the new operator");!_h(e)&&!ny(e)&&e instanceof Object&&(l=i,i=e,e=l),i&&i.throttleRedraw&&console.warn('Timeline option "throttleRedraw" is DEPRICATED and no longer supported. It will be removed in the next MAJOR release.');var o=ql(n);if(n.defaultOptions={autoResize:!0,longSelectPressTime:251,orientation:{axis:"bottom",item:"bottom"},moment:Yh},n.options=x.deepExtend({},n.defaultOptions),i&&x.setupXSSProtection(i.xss),n._create(t),i&&void 0!==i.rtl)n.options.rtl=i.rtl;else{n.dom.root.style.visibility="hidden";for(var r,s=n.dom.root;!r&&s;)r=window.getComputedStyle(s,null).direction,s=s.parentElement;n.options.rtl=r&&"rtl"==r.toLowerCase()}i&&(i.rollingMode&&(n.options.rollingMode=i.rollingMode),i.onInitialDrawComplete&&(n.options.onInitialDrawComplete=i.onInitialDrawComplete),i.onTimeout&&(n.options.onTimeout=i.onTimeout),i.loadingScreenTemplate&&(n.options.loadingScreenTemplate=i.loadingScreenTemplate));var a,l=document.createElement("div");function h(t,e){o.hasListeners(t)&&o.emit(t,o.getEventProperties(e))}return n.options.loadingScreenTemplate&&((a=(t=p(t=n.options.loadingScreenTemplate).call(t,ql(n)))(n.dom.loadingScreen))instanceof Object&&!(a instanceof Element)?t(l):a instanceof Element?(l.innerHTML="",l.appendChild(a)):null!=a&&(l.innerHTML=x.xss(a))),n.dom.loadingScreen.appendChild(l),n.components=[],n.body={dom:n.dom,domProps:n.props,emitter:{on:p(t=n.on).call(t,ql(n)),off:p(a=n.off).call(a,ql(n)),emit:p(l=n.emit).call(l,ql(n))},hiddenDates:[],util:{getScale:function(){return o.timeAxis.step.scale},getStep:function(){return o.timeAxis.step.step},toScreen:p(t=o._toScreen).call(t,o),toGlobalScreen:p(a=o._toGlobalScreen).call(a,o),toTime:p(l=o._toTime).call(l,o),toGlobalTime:p(t=o._toGlobalTime).call(t,o)}},n.range=new ub(n.body,n.options),n.components.push(n.range),n.body.range=n.range,n.timeAxis=new Sb(n.body,n.options),n.timeAxis2=null,n.components.push(n.timeAxis),n.currentTime=new Nb(n.body,n.options),n.components.push(n.currentTime),n.itemSet=new r1(n.body,n.options),n.components.push(n.itemSet),n.itemsData=null,n.groupsData=null,n.dom.root.onclick=function(t){h("click",t)},n.dom.root.ondblclick=function(t){h("doubleClick",t)},n.dom.root.oncontextmenu=function(t){h("contextmenu",t)},n.dom.root.onmouseover=function(t){h("mouseOver",t)},window.PointerEvent?(n.dom.root.onpointerdown=function(t){h("mouseDown",t)},n.dom.root.onpointermove=function(t){h("mouseMove",t)},n.dom.root.onpointerup=function(t){h("mouseUp",t)}):(n.dom.root.onmousemove=function(t){h("mouseMove",t)},n.dom.root.onmousedown=function(t){h("mouseDown",t)},n.dom.root.onmouseup=function(t){h("mouseUp",t)}),n.initialFitDone=!1,n.on("changed",function(){var t,e;null!=o.itemsData&&(o.initialFitDone||o.options.rollingMode||(o.initialFitDone=!0,null!=o.options.start||null!=o.options.end?(null!=o.options.start&&null!=o.options.end||(e=o.getItemRange()),t=null!=o.options.start?o.options.start:e.min,e=null!=o.options.end?o.options.end:e.max,o.setWindow(t,e,{animation:!1})):o.fit({animation:!1})),o.initialDrawDone||!o.initialRangeChangeDone&&(o.options.start||o.options.end)&&!o.options.rollingMode||(o.initialDrawDone=!0,o.itemSet.initialDrawDone=!0,o.dom.root.style.visibility="visible",o.dom.loadingScreen.parentNode.removeChild(o.dom.loadingScreen),o.options.onInitialDrawComplete&&Nh(function(){return o.options.onInitialDrawComplete()},0)))}),n.on("destroyTimeline",function(){o.destroy()}),i&&n.setOptions(i),n.body.emitter.on("fit",function(t){n._onFit(t),n.redraw()}),e&&n.setGroups(e),u&&n.setItems(u),n._redraw(),n}return Xl(d,[{key:"_createConfigurator",value:function(){return new p1(this,this.dom.container,u1)}},{key:"redraw",value:function(){this.itemSet&&this.itemSet.markDirty({refreshItems:!0}),this._redraw()}},{key:"setOptions",value:function(t){var e;!0===l1.validate(t,h1)&&console.log("%cErrors have been found in the supplied options object.",a1),Pb.prototype.setOptions.call(this,t),"type"in t&&t.type!==this.options.type&&(this.options.type=t.type,(t=this.itemsData)&&(e=this.getSelection(),this.setItems(null),this.setItems(t.rawDS),this.setSelection(e)))}},{key:"setItems",value:function(t){this.itemsDone=!1,t=t?ny(t)?ay(t):ay(new u.DataSet(t)):null,this.itemsData&&this.itemsData.dispose(),this.itemsData=t,this.itemSet&&this.itemSet.setItems(null!=t?t.rawDS:null)}},{key:"setGroups",value:function(t){t=t?(_h(t)&&(t=new u.DataSet(t)),new u.DataView(t,{filter:function(t){return!1!==t.visible}})):null;null!=this.groupsData&&"function"==typeof this.groupsData.setData&&this.groupsData.setData(null),this.groupsData=t,this.itemSet.setGroups(t)}},{key:"setData",value:function(t){t&&t.groups&&this.setGroups(t.groups),t&&t.items&&this.setItems(t.items)}},{key:"setSelection",value:function(t,e){this.itemSet&&this.itemSet.setSelection(t),e&&e.focus&&this.focus(t,e)}},{key:"getSelection",value:function(){return this.itemSet&&this.itemSet.getSelection()||[]}},{key:"focus",value:function(t,e){var i,n,r,s,a,l,o,h;this.itemsData&&null!=t&&(t=_h(t)?t:[t],h=this.itemsData.get(t),n=i=null,k(h).call(h,function(t){var e=t.start.valueOf(),t=("end"in t?t.end:t.start).valueOf();(null===i||e<i)&&(i=e),(null===n||n<t)&&(n=t)}),null!==i&&null!==n&&(s=(r=this).itemSet.items[t[0]],a=-1*this._getScrollTop(),l=null,o=function(){var t=v1(r,s);t.shouldScroll&&t.itemTop!=l.itemTop&&(r._setScrollTop(-t.scrollOffset),r._redraw())},h=!e||void 0===e.zoom||e.zoom,t=(i+n)/2,h=h?1.1*(n-i):Math.max(this.range.end-this.range.start,1.1*(n-i)),(e=!e||void 0===e.animation||e.animation)||(l={shouldScroll:!1,scrollOffset:-1,itemTop:-1}),this.range.setRange(t-h/2,t+h/2,{animation:e},function(){o(),Nh(o,100)},function(t,e,i){var n,o=v1(r,s);!1!==o&&((l=l||o).itemTop==o.itemTop&&!l.shouldScroll||(l.itemTop!=o.itemTop&&o.shouldScroll&&(l=o,a=-1*r._getScrollTop()),o=a,n=l.scrollOffset,r._setScrollTop(-(i?n:o+(n-o)*t)),e||r._redraw()))})))}},{key:"fit",value:function(t,e){var i,t=!t||void 0===t.animation||t.animation;1===this.itemsData.length&&void 0===this.itemsData.get()[0].end?(i=this.getDataRange(),this.moveTo(i.min.valueOf(),{animation:t},e)):(i=this.getItemRange(),this.range.setRange(i.min,i.max,{animation:t},e))}},{key:"getItemRange",value:function(){var u=this,t=this.getDataRange(),o=null!==t.min?t.min.valueOf():null,r=null!==t.max?t.max.valueOf():null,s=null,a=null;if(null!=o&&null!=r){var e,i,n,t=r-o,l=(t=t<=0?10:t)/this.props.center.width,h={},c=0;if(k(x).call(x,this.itemSet.items,function(t,e){t.groupShowing&&(h[e]=t.redraw(!0),c=h[e].length)}),0<c)for(var d=0;d<c;d++)!function(e){k(x).call(x,h,function(t){t[e]()})}(d);k(x).call(x,this.itemSet.items,function(t){var e,i=f1(t),n=g1(t),i=u.options.rtl?(e=i-(t.getWidthRight()+10)*l,n+(t.getWidthLeft()+10)*l):(e=i-(t.getWidthLeft()+10)*l,n+(t.getWidthRight()+10)*l);e<o&&(o=e,s=t),r<i&&(r=i,a=t)}),s&&a&&(e=s.getWidthLeft()+10,i=a.getWidthRight()+10,0<(n=this.props.center.width-e-i)&&(r=this.options.rtl?(o=f1(s)-i*t/n,g1(a)+e*t/n):(o=f1(s)-e*t/n,g1(a)+i*t/n)))}return{min:null!=o?new Date(o):null,max:null!=r?new Date(r):null}}},{key:"getDataRange",value:function(){var t,i=null,n=null;return this.itemsData&&k(t=this.itemsData).call(t,function(t){var e=x.convert(t.start,"Date").valueOf(),t=x.convert(null!=t.end?t.end:t.start,"Date").valueOf();(null===i||e<i)&&(i=e),(null===n||n<t)&&(n=t)}),{min:null!=i?new Date(i):null,max:null!=n?new Date(n):null}}},{key:"getEventProperties",value:function(t){var e=t.center?t.center.x:t.clientX,i=t.center?t.center.y:t.clientY,n=this.dom.centerContainer.getBoundingClientRect(),e=this.options.rtl?n.right-e:e-n.left,i=i-n.top,n=this.itemSet.itemFromTarget(t),o=this.itemSet.groupFromTarget(t),r=Ib.customTimeFromTarget(t),s=this.itemSet.options.snap||null,a=this.body.util.getScale(),l=this.body.util.getStep(),h=this._toTime(e),s=s?s(h,a,l):h,a=x.getTarget(t),l=null;return null!=n?l="item":null!=r?l="custom-time":x.hasParent(a,this.timeAxis.dom.foreground)||this.timeAxis2&&x.hasParent(a,this.timeAxis2.dom.foreground)?l="axis":x.hasParent(a,this.itemSet.dom.labelSet)?l="group-label":x.hasParent(a,this.currentTime.bar)?l="current-time":x.hasParent(a,this.dom.center)&&(l="background"),{event:t,item:n?n.id:null,isCluster:!!n&&!!n.isCluster,items:n?n.items||[]:null,group:o?o.groupId:null,customTime:r?r.options.id:null,what:l,pageX:(t.srcEvent||t).pageX,pageY:(t.srcEvent||t).pageY,x:e,y:i,time:h,snappedTime:s}}},{key:"toggleRollingMode",value:function(){this.range.rolling?this.range.stopRolling():(null==this.options.rollingMode&&this.setOptions(this.options),this.range.startRolling())}},{key:"_redraw",value:function(){Pb.prototype._redraw.call(this)}},{key:"_onFit",value:function(t){var e=t.start,i=t.end,t=t.animation;i?this.range.setRange(e,i,{animation:t}):this.moveTo(e.valueOf(),{animation:t})}}]),d}();function f1(t){return x.convert(t.data.start,"Date").valueOf()}function g1(t){t=null!=t.data.end?t.data.end:t.data.start;return x.convert(t,"Date").valueOf()}function v1(t,e){if(!e.parent)return!1;function i(){return"bottom"==c?o.height-e.top-e.height:e.top}var n=(t.options.rtl?t.props.rightContainer:t.props.leftContainer).height,u=t.props.center.height,o=e.parent,r=o.top,s=!0,c=t.timeAxis.options.orientation.axis,a=-1*t._getScrollTop(),l=r+i(),h=e.height;return l<a?r+n<=r+i()+h&&(r+=i()-t.itemSet.options.margin.item.vertical):a+n<l+h?r+=i()+h-n+t.itemSet.options.margin.item.vertical:s=!1,{shouldScroll:s,scrollOffset:r=Math.min(r,u-n),itemTop:l}}function y1(t){for(var e in t)t.hasOwnProperty(e)&&(t[e].redundant=t[e].used,t[e].used=[])}function b1(t){for(var e in t)if(t.hasOwnProperty(e)&&t[e].redundant){for(var i=0;i<t[e].redundant.length;i++)t[e].redundant[i].parentNode.removeChild(t[e].redundant[i]);t[e].redundant=[]}}function w1(t,e,i){var n;return e.hasOwnProperty(t)?0<e[t].redundant.length?(n=e[t].redundant[0],e[t].redundant.shift()):(n=document.createElementNS("http://www.w3.org/2000/svg",t),i.appendChild(n)):(n=document.createElementNS("http://www.w3.org/2000/svg",t),e[t]={used:[],redundant:[]},i.appendChild(n)),e[t].used.push(n),n}function k1(t,e,i,n){var o;return e.hasOwnProperty(t)?0<e[t].redundant.length?(o=e[t].redundant[0],e[t].redundant.shift()):(o=document.createElement(t),void 0!==n?i.insertBefore(o,n):i.appendChild(o)):(o=document.createElement(t),e[t]={used:[],redundant:[]},void 0!==n?i.insertBefore(o,n):i.appendChild(o)),e[t].used.push(o),o}function x1(t,e,i,n,o,r){var s;return"circle"==i.style?((s=w1("circle",n,o)).setAttributeNS(null,"cx",t),s.setAttributeNS(null,"cy",e),s.setAttributeNS(null,"r",.5*i.size)):((s=w1("rect",n,o)).setAttributeNS(null,"x",t-.5*i.size),s.setAttributeNS(null,"y",e-.5*i.size),s.setAttributeNS(null,"width",i.size),s.setAttributeNS(null,"height",i.size)),void 0!==i.styles&&s.setAttributeNS(null,"style",i.styles),s.setAttributeNS(null,"class",i.className+" vis-point"),r&&(i=w1("text",n,o),r.xOffset&&(t+=r.xOffset),r.yOffset&&(e+=r.yOffset),r.content&&(i.textContent=r.content),r.className&&i.setAttributeNS(null,"class",r.className+" vis-label"),i.setAttributeNS(null,"x",t),i.setAttributeNS(null,"y",e)),s}function _1(t,e,i,n,o,r,s,a){0!=n&&(n<0&&(e-=n*=-1),(r=w1("rect",r,s)).setAttributeNS(null,"x",t-.5*i),r.setAttributeNS(null,"y",e),r.setAttributeNS(null,"width",i),r.setAttributeNS(null,"height",n),r.setAttributeNS(null,"class",o),a&&r.setAttributeNS(null,"style",a))}var C1=function(){function h(t,e,i,n,o,r){var s,a=6<arguments.length&&void 0!==arguments[6]&&arguments[6],l=7<arguments.length&&void 0!==arguments[7]&&arguments[7];Un(this,h),this.majorSteps=[1,2,5,10],this.minorSteps=[.25,.5,1,2],this.customLines=null,this.containerHeight=o,this.majorCharHeight=r,this._start=t,this._end=e,this.scale=1,this.minorStepIdx=-1,this.magnitudefactor=1,this.determineScale(),this.zeroAlign=a,this.autoScaleStart=i,this.autoScaleEnd=n,this.formattingFunction=l,(i||n)&&(s=this,a=function(t){var e=t-t%(s.magnitudefactor*s.minorSteps[s.minorStepIdx]);return t%(s.magnitudefactor*s.minorSteps[s.minorStepIdx])>s.magnitudefactor*s.minorSteps[s.minorStepIdx]*.5?e+s.magnitudefactor*s.minorSteps[s.minorStepIdx]:e},i&&(this._start-=2*this.magnitudefactor*this.minorSteps[this.minorStepIdx],this._start=a(this._start)),n&&(this._end+=this.magnitudefactor*this.minorSteps[this.minorStepIdx],this._end=a(this._end)),this.determineScale())}return Xl(h,[{key:"setCharHeight",value:function(t){this.majorCharHeight=t}},{key:"setHeight",value:function(t){this.containerHeight=t}},{key:"determineScale",value:function(){for(var t=this._end-this._start,e=(this.scale=this.containerHeight/t,this.majorCharHeight/this.scale),i=0<t?Math.round(Math.log(t)/Math.LN10):0,t=(this.minorStepIdx=-1,this.magnitudefactor=Math.pow(10,i),0),n=!1,o=t=i<0?i:t;Math.abs(o)<=Math.abs(i);o++){this.magnitudefactor=Math.pow(10,o);for(var r=0;r<this.minorSteps.length;r++)if(e<=this.magnitudefactor*this.minorSteps[r]){n=!0,this.minorStepIdx=r;break}if(!0===n)break}}},{key:"is_major",value:function(t){return t%(this.magnitudefactor*this.majorSteps[this.minorStepIdx])==0}},{key:"getStep",value:function(){return this.magnitudefactor*this.minorSteps[this.minorStepIdx]}},{key:"getFirstMajor",value:function(){var t=this.magnitudefactor*this.majorSteps[this.minorStepIdx];return this.convertValue(this._start+(t-this._start%t)%t)}},{key:"formatValue",value:function(t){var e=t.toPrecision(5);return"number"==typeof(e="function"==typeof this.formattingFunction?this.formattingFunction(t):e)?"".concat(e):"string"==typeof e?e:t.toPrecision(5)}},{key:"getLines",value:function(){for(var t=[],e=this.getStep(),i=(e-this._start%e)%e,n=this._start+i;1e-5<this._end-n;n+=e)n!=this._start&&t.push({major:this.is_major(n),y:this.convertValue(n),val:this.formatValue(n)});return t}},{key:"followScale",value:function(t){function e(){s.magnitudefactor*=2}function i(){s.magnitudefactor/=2}for(var n=this.minorStepIdx,o=this._start,r=this._end,s=this,u=(t.minorStepIdx<=1&&this.minorStepIdx<=1||1<t.minorStepIdx&&1<this.minorStepIdx||(t.minorStepIdx<this.minorStepIdx?(this.minorStepIdx=1,2==n||e(),e()):(this.minorStepIdx=2,1==n||i(),i())),t.convertValue(0)),c=t.getStep()*t.scale,a=!1,d=0;!a&&d++<5;){this.scale=c/(this.minorSteps[this.minorStepIdx]*this.magnitudefactor);var l=this.containerHeight/this.scale,p=(this._start=o,this._end=this._start+l,this._end*this.scale),m=this.magnitudefactor*this.majorSteps[this.minorStepIdx],h=this.getFirstMajor()-t.getFirstMajor();if(this.zeroAlign?(this._end+=(u-p)/this.scale,this._start=this._end-l):(this.autoScaleStart?this._start-=h/this.scale:this._start+=m-h/this.scale,this._end=this._start+l),!this.autoScaleEnd&&this._end>r+1e-5)i(),a=!1;else{if(!this.autoScaleStart&&this._start<o-1e-5){if(!(this.zeroAlign&&0<=o)){i(),a=!1;continue}console.warn("Can't adhere to given 'min' range, due to zeroalign")}a=!(this.autoScaleStart&&this.autoScaleEnd&&l<r-o)||(e(),!1)}}}},{key:"convertValue",value:function(t){return this.containerHeight-(t-this._start)*this.scale}},{key:"screenToValue",value:function(t){return(this.containerHeight-t)/this.scale+this._start}}]),h}();function S1(t,e){var i,n=void 0!==ud&&Mc(t)||t["@@iterator"];if(!n){if(_h(t)||(n=function(t,e){if(t){if("string"==typeof t)return D1(t,e);var i=vd(i=Object.prototype.toString.call(t)).call(i,8,-1);return"Map"===(i="Object"===i&&t.constructor?t.constructor.name:i)||"Set"===i?Ac(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?D1(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length)return n&&(t=n),i=0,{s:e=function(){},n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:e};throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,r=!0,s=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return r=t.done,t},e:function(t){s=!0,o=t},f:function(){try{r||null==n.return||n.return()}finally{if(s)throw o}}}}function D1(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=new Array(e);i<e;i++)n[i]=t[i];return n}function T1(i){var n=function(){if("undefined"==typeof Reflect||!o)return!1;if(o.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(o(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var t,e=wh(i);return mh(this,n?(t=wh(this).constructor,o(e,arguments,t)):e.apply(this,arguments))}}var O1=function(){ph(a,yy);var s=T1(a);function a(t,e,i,n){Un(this,a),(o=s.call(this)).id=ty(),o.body=t,o.defaultOptions={orientation:"left",showMinorLabels:!0,showMajorLabels:!0,showWeekScale:!1,icons:!1,majorLinesOffset:7,minorLinesOffset:4,labelOffsetX:10,labelOffsetY:2,iconWidth:20,width:"40px",visible:!0,alignZeros:!0,left:{range:{min:void 0,max:void 0},format:function(t){return"".concat(vy(t.toPrecision(3)))},title:{text:void 0,style:void 0}},right:{range:{min:void 0,max:void 0},format:function(t){return"".concat(vy(t.toPrecision(3)))},title:{text:void 0,style:void 0}}},o.linegraphOptions=n,o.linegraphSVG=i,o.props={},o.DOMelements={lines:{},labels:{},title:{}},o.dom={},o.scale=void 0,o.range={start:0,end:0},o.options=x.extend({},o.defaultOptions),o.conversionFactor=1,o.setOptions(e),o.width=Number("".concat(o.options.width).replace("px","")),o.minWidth=o.width,o.height=o.linegraphSVG.getBoundingClientRect().height,o.hidden=!1,o.stepPixels=25,o.zeroCrossing=-1,o.amountOfSteps=-1,o.lineOffset=0,o.master=!0,o.masterAxis=null,o.svgElements={},o.iconsRemoved=!1,o.groups={},o.amountOfGroups=0,o._create(),null==o.scale&&o._redrawLabels(),o.framework={svg:o.svg,svgElements:o.svgElements,options:o.options,groups:o.groups};var o,r=ql(o);return o.body.emitter.on("verticalDrag",function(){r.dom.lineContainer.style.top="".concat(r.body.domProps.scrollTop,"px")}),o}return Xl(a,[{key:"addGroup",value:function(t,e){this.groups.hasOwnProperty(t)||(this.groups[t]=e),this.amountOfGroups+=1}},{key:"updateGroup",value:function(t,e){this.groups.hasOwnProperty(t)||(this.amountOfGroups+=1),this.groups[t]=e}},{key:"removeGroup",value:function(t){this.groups.hasOwnProperty(t)&&(delete this.groups[t],--this.amountOfGroups)}},{key:"setOptions",value:function(t){var e;t&&(e=!1,this.options.orientation!=t.orientation&&void 0!==t.orientation&&(e=!0),x.selectiveDeepExtend(["orientation","showMinorLabels","showMajorLabels","icons","majorLinesOffset","minorLinesOffset","labelOffsetX","labelOffsetY","iconWidth","width","visible","left","right","alignZeros"],this.options,t),this.minWidth=Number("".concat(this.options.width).replace("px","")),!0===e&&this.dom.frame&&(this.hide(),this.show()))}},{key:"_create",value:function(){this.dom.frame=document.createElement("div"),this.dom.frame.style.width=this.options.width,this.dom.frame.style.height=this.height,this.dom.lineContainer=document.createElement("div"),this.dom.lineContainer.style.width="100%",this.dom.lineContainer.style.height=this.height,this.dom.lineContainer.style.position="relative",this.dom.lineContainer.style.visibility="visible",this.dom.lineContainer.style.display="block",this.svg=document.createElementNS("http://www.w3.org/2000/svg","svg"),this.svg.style.position="absolute",this.svg.style.top="0px",this.svg.style.height="100%",this.svg.style.width="100%",this.svg.style.display="block",this.dom.frame.appendChild(this.svg)}},{key:"_redrawGroupIcons",value:function(){y1(this.svgElements);var t,e=this.options.iconWidth,i=11.5,n="left"===this.options.orientation?4:this.width-e-4,o=Vu(this.groups),r=(Ky(o).call(o,function(t,e){return t<e?-1:1}),S1(o));try{for(r.s();!(t=r.n()).done;){var s=t.value;!0!==this.groups[s].visible||void 0!==this.linegraphOptions.visibility[s]&&!0!==this.linegraphOptions.visibility[s]||(this.groups[s].getLegend(e,15,this.framework,n,i),i+=19)}}catch(t){r.e(t)}finally{r.f()}b1(this.svgElements),this.iconsRemoved=!1}},{key:"_cleanupIcons",value:function(){!1===this.iconsRemoved&&(y1(this.svgElements),b1(this.svgElements),this.iconsRemoved=!0)}},{key:"show",value:function(){this.hidden=!1,this.dom.frame.parentNode||("left"===this.options.orientation?this.body.dom.left:this.body.dom.right).appendChild(this.dom.frame),this.dom.lineContainer.parentNode||this.body.dom.backgroundHorizontal.appendChild(this.dom.lineContainer),this.dom.lineContainer.style.display="block"}},{key:"hide",value:function(){this.hidden=!0,this.dom.frame.parentNode&&this.dom.frame.parentNode.removeChild(this.dom.frame),this.dom.lineContainer.style.display="none"}},{key:"setRange",value:function(t,e){this.range.start=t,this.range.end=e}},{key:"redraw",value:function(){var t,e,i,n,o,r,s,a=!1,l=0;for(t in this.dom.lineContainer.style.top="".concat(this.body.domProps.scrollTop,"px"),this.groups)this.groups.hasOwnProperty(t)&&(!0!==this.groups[t].visible||void 0!==this.linegraphOptions.visibility[t]&&!0!==this.linegraphOptions.visibility[t]||l++);return 0===this.amountOfGroups||0===l?this.hide():(this.show(),this.height=Number(this.linegraphSVG.style.height.replace("px","")),this.dom.lineContainer.style.height="".concat(this.height,"px"),this.width=!0===this.options.visible?Number("".concat(this.options.width).replace("px","")):0,e=this.props,(i=this.dom.frame).className="vis-data-axis",this._calculateCharSize(),n=this.options.orientation,o=this.options.showMinorLabels,r=this.options.showMajorLabels,s=this.body.dom.backgroundHorizontal.offsetWidth,e.minorLabelHeight=o?e.minorCharHeight:0,e.majorLabelHeight=r?e.majorCharHeight:0,e.minorLineWidth=s-this.lineOffset-this.width+2*this.options.minorLinesOffset,e.minorLineHeight=1,e.majorLineWidth=s-this.lineOffset-this.width+2*this.options.majorLinesOffset,e.majorLineHeight=1,"left"===n?(i.style.top="0",i.style.left="0",i.style.bottom="",i.style.width="".concat(this.width,"px"),i.style.height="".concat(this.height,"px"),this.props.width=this.body.domProps.left.width,this.props.height=this.body.domProps.left.height):(i.style.top="",i.style.bottom="0",i.style.left="0",i.style.width="".concat(this.width,"px"),i.style.height="".concat(this.height,"px"),this.props.width=this.body.domProps.right.width,this.props.height=this.body.domProps.right.height),a=this._redrawLabels(),a=this._isResized()||a,!0===this.options.icons?this._redrawGroupIcons():this._cleanupIcons(),this._redrawTitle(n)),a}},{key:"_redrawLabels",value:function(){var n=this,o=(y1(this.DOMelements.lines),y1(this.DOMelements.labels),this.options.orientation),t=null!=this.options[o].range?this.options[o].range:{},e=!0,i=(null!=t.max&&(this.range.end=t.max,e=!1),!0),t=(null!=t.min&&(this.range.start=t.min,i=!1),this.scale=new C1(this.range.start,this.range.end,i,e,this.dom.frame.offsetHeight,this.props.majorCharHeight,this.options.alignZeros,this.options[o].format),!1===this.master&&null!=this.masterAxis?(this.scale.followScale(this.masterAxis.scale),this.dom.lineContainer.style.display="none"):this.dom.lineContainer.style.display="block",this.maxLabelSize=0,this.scale.getLines()),i=(k(t).call(t,function(t){var e=t.y,i=t.major;n.options.showMinorLabels&&!1===i&&n._redrawLabel(e-2,t.val,o,"vis-y-axis vis-minor",n.props.minorCharHeight),i&&0<=e&&n._redrawLabel(e-2,t.val,o,"vis-y-axis vis-major",n.props.majorCharHeight),!0===n.master&&(i?n._redrawLine(e,o,"vis-grid vis-horizontal vis-major",n.options.majorLinesOffset,n.props.majorLineWidth):n._redrawLine(e,o,"vis-grid vis-horizontal vis-minor",n.options.minorLinesOffset,n.props.minorLineWidth))}),0),e=(void 0!==this.options[o].title&&void 0!==this.options[o].title.text&&(i=this.props.titleCharHeight),!0===this.options.icons?Math.max(this.options.iconWidth,i)+this.options.labelOffsetX+15:i+this.options.labelOffsetX+15);return this.maxLabelSize>this.width-e&&!0===this.options.visible?(this.width=this.maxLabelSize+e,this.options.width="".concat(this.width,"px"),b1(this.DOMelements.lines),b1(this.DOMelements.labels),this.redraw(),!0):this.maxLabelSize<this.width-e&&!0===this.options.visible&&this.width>this.minWidth?(this.width=Math.max(this.minWidth,this.maxLabelSize+e),this.options.width="".concat(this.width,"px"),b1(this.DOMelements.lines),b1(this.DOMelements.labels),this.redraw(),!0):(b1(this.DOMelements.lines),b1(this.DOMelements.labels),!1)}},{key:"convertValue",value:function(t){return this.scale.convertValue(t)}},{key:"screenToValue",value:function(t){return this.scale.screenToValue(t)}},{key:"_redrawLabel",value:function(t,e,i,n,o){var r=k1("div",this.DOMelements.labels,this.dom.frame),n=(r.className=n,r.innerHTML=x.xss(e),"left"===i?(r.style.left="-".concat(this.options.labelOffsetX,"px"),r.style.textAlign="right"):(r.style.right="-".concat(this.options.labelOffsetX,"px"),r.style.textAlign="left"),r.style.top="".concat(t-.5*o+this.options.labelOffsetY,"px"),e+="",Math.max(this.props.majorCharWidth,this.props.minorCharWidth));this.maxLabelSize<e.length*n&&(this.maxLabelSize=e.length*n)}},{key:"_redrawLine",value:function(t,e,i,n,o){var r;!0===this.master&&((r=k1("div",this.DOMelements.lines,this.dom.lineContainer)).className=i,r.innerHTML="","left"===e?r.style.left="".concat(this.width-n,"px"):r.style.right="".concat(this.width-n,"px"),r.style.width="".concat(o,"px"),r.style.top="".concat(t,"px"))}},{key:"_redrawTitle",value:function(t){var e;y1(this.DOMelements.title),void 0!==this.options[t].title&&void 0!==this.options[t].title.text&&((e=k1("div",this.DOMelements.title,this.dom.frame)).className="vis-y-axis vis-title vis-".concat(t),e.innerHTML=x.xss(this.options[t].title.text),void 0!==this.options[t].title.style&&x.addCssText(e,this.options[t].title.style),"left"===t?e.style.left="".concat(this.props.titleCharHeight,"px"):e.style.right="".concat(this.props.titleCharHeight,"px"),e.style.width="".concat(this.height,"px")),b1(this.DOMelements.title)}},{key:"_calculateCharSize",value:function(){var t,e;"minorCharHeight"in this.props||(t=document.createTextNode("0"),(e=document.createElement("div")).className="vis-y-axis vis-minor vis-measure",e.appendChild(t),this.dom.frame.appendChild(e),this.props.minorCharHeight=e.clientHeight,this.props.minorCharWidth=e.clientWidth,this.dom.frame.removeChild(e)),"majorCharHeight"in this.props||(t=document.createTextNode("0"),(e=document.createElement("div")).className="vis-y-axis vis-major vis-measure",e.appendChild(t),this.dom.frame.appendChild(e),this.props.majorCharHeight=e.clientHeight,this.props.majorCharWidth=e.clientWidth,this.dom.frame.removeChild(e)),"titleCharHeight"in this.props||(t=document.createTextNode("0"),(e=document.createElement("div")).className="vis-y-axis vis-title vis-measure",e.appendChild(t),this.dom.frame.appendChild(e),this.props.titleCharHeight=e.clientHeight,this.props.titleCharWidth=e.clientWidth,this.dom.frame.removeChild(e))}}]),a}();function E1(t,e){}function A1(t,e){return{style:(e=void 0===e?{}:e).style||t.options.drawPoints.style,styles:e.styles||t.options.drawPoints.styles,size:e.size||t.options.drawPoints.size,className:e.className||t.className}}function I1(t,e){}function P1(t,e){}function M1(t,e,i,n){this.id=e;this.options=x.selectiveBridgeObject(["sampling","style","sort","yAxisOrientation","barChart","drawPoints","shaded","interpolation","zIndex","excludeFromStacking","excludeFromLegend"],i),this.usingDefaultStyle=void 0===t.className,this.groupsUsingDefaultStyles=n,this.zeroPosition=0,this.update(t),1==this.usingDefaultStyle&&(this.groupsUsingDefaultStyles[0]+=1),this.itemsData=[],this.visible=void 0===t.visible||t.visible}function N1(t,e,i,n){this.body=t,this.defaultOptions={enabled:!1,icons:!0,iconSize:20,iconSpacing:6,left:{visible:!0,position:"top-left"},right:{visible:!0,position:"top-right"}},this.side=i,this.options=x.extend({},this.defaultOptions),this.linegraphOptions=n,this.svgElements={},this.dom={},this.groups={},this.amountOfGroups=0,this._create(),this.framework={svg:this.svg,svgElements:this.svgElements,options:this.options,groups:this.groups},this.setOptions(e)}E1.draw=function(t,e,i,n){n=n||0;for(var o,r=function(t,e){var i=void 0;t.options&&t.options.drawPoints&&t.options.drawPoints.onRender&&"function"==typeof t.options.drawPoints.onRender&&(i=t.options.drawPoints.onRender);e.group.options&&e.group.options.drawPoints&&e.group.options.drawPoints.onRender&&"function"==typeof e.group.options.drawPoints.onRender&&(i=e.group.options.drawPoints.onRender);return i}(i,e),s=0;s<t.length;s++)r?!0!==(o=r(t[s],e))&&"object"!==Hl(o)||x1(t[s].screen_x+n,t[s].screen_y,A1(e,o),i.svgElements,i.svg,t[s].label):x1(t[s].screen_x+n,t[s].screen_y,A1(e),i.svgElements,i.svg,t[s].label)},E1.drawIcon=function(t,e,i,n,o,r){var o=.5*o,s=w1("rect",r.svgElements,r.svg);s.setAttributeNS(null,"x",e),s.setAttributeNS(null,"y",i-o),s.setAttributeNS(null,"width",n),s.setAttributeNS(null,"height",2*o),s.setAttributeNS(null,"class","vis-outline"),x1(e+.5*n,i,A1(t),r.svgElements,r.svg)},I1.drawIcon=function(t,e,i,n,o,r){var s=.5*o,a=w1("rect",r.svgElements,r.svg),a=(a.setAttributeNS(null,"x",e),a.setAttributeNS(null,"y",i-s),a.setAttributeNS(null,"width",n),a.setAttributeNS(null,"height",2*s),a.setAttributeNS(null,"class","vis-outline"),Math.round(.3*n)),l=t.options.barChart.width/a,h=Math.round(.4*o),o=Math.round(.75*o),n=Math.round((n-2*a)/3);_1(e+.5*a+n,i+s-h-1,a,h,t.className+" vis-bar",r.svgElements,r.svg,t.style),_1(e+1.5*a+n+2,i+s-o-1,a,o,t.className+" vis-bar",r.svgElements,r.svg,t.style),1==t.options.drawPoints.enabled&&(x1(e+.5*a+n,i+s-h-1,h={style:t.options.drawPoints.style,styles:t.options.drawPoints.styles,size:t.options.drawPoints.size/l,className:t.className},r.svgElements,r.svg),x1(e+1.5*a+n+2,i+s-o-1,h,r.svgElements,r.svg))},I1.draw=function(t,e,i){for(var u,n,o,r=[],s={},c=0,a=0;a<t.length;a++)if("bar"===(l=i.groups[t[a]]).options.style&&!0===l.visible&&(void 0===i.options.groups.visibility[t[a]]||!0===i.options.groups.visibility[t[a]]))for(o=0;o<e[t[a]].length;o++)r.push({screen_x:e[t[a]][o].screen_x,screen_end:e[t[a]][o].screen_end,screen_y:e[t[a]][o].screen_y,x:e[t[a]][o].x,end:e[t[a]][o].end,y:e[t[a]][o].y,groupId:t[a],label:e[t[a]][o].label}),c+=1;if(0!==c)for(Ky(r).call(r,function(t,e){return t.screen_x===e.screen_x?t.groupId<e.groupId?-1:1:t.screen_x-e.screen_x}),I1._getDataIntersections(s,r),a=0;a<r.length;a++){var l,h,d=null!=(l=i.groups[r[a].groupId]).options.barChart.minWidth?l.options.barChart.minWidth:.1*l.options.barChart.width,p=0,m=(void 0===s[h=r[a].screen_x]?(a+1<r.length&&(u=Math.abs(r[a+1].screen_x-h)),n=I1._getSafeDrawData(u,l,d)):((m=a+(s[h].amount-s[h].resolved))<r.length&&(u=Math.abs(r[m].screen_x-h)),n=I1._getSafeDrawData(u,l,d),s[h].resolved+=1,!0===l.options.stack&&!0!==l.options.excludeFromStacking?r[a].screen_y<l.zeroPosition?(p=s[h].accumulatedNegative,s[h].accumulatedNegative+=l.zeroPosition-r[a].screen_y):(p=s[h].accumulatedPositive,s[h].accumulatedPositive+=l.zeroPosition-r[a].screen_y):!0===l.options.barChart.sideBySide&&(n.width=n.width/s[h].amount,n.offset+=s[h].resolved*n.width-.5*n.width*(s[h].amount+1))),n.width),d=r[a].screen_x;null!=r[a].screen_end?d+=.5*(m=r[a].screen_end-r[a].screen_x):d+=n.offset,_1(d,r[a].screen_y-p,m,l.zeroPosition-r[a].screen_y,l.className+" vis-bar",i.svgElements,i.svg,l.style),!0===l.options.drawPoints.enabled&&(h={screen_x:r[a].screen_x,screen_y:r[a].screen_y-p,x:r[a].x,y:r[a].y,groupId:r[a].groupId,label:r[a].label},E1.draw([h],l,i,n.offset))}},I1._getDataIntersections=function(t,e){for(var i,n=0;n<e.length;n++)n+1<e.length&&(i=Math.abs(e[n+1].screen_x-e[n].screen_x)),0===(i=0<n?Math.min(i,Math.abs(e[n-1].screen_x-e[n].screen_x)):i)&&(void 0===t[e[n].screen_x]&&(t[e[n].screen_x]={amount:0,resolved:0,accumulatedPositive:0,accumulatedNegative:0}),t[e[n].screen_x].amount+=1)},I1._getSafeDrawData=function(t,e,i){var n,o;return t<e.options.barChart.width&&0<t?(n=t<i?i:t,o=0,"left"===e.options.barChart.align?o-=.5*t:"right"===e.options.barChart.align&&(o+=.5*t)):(n=e.options.barChart.width,o=0,"left"===e.options.barChart.align?o-=.5*e.options.barChart.width:"right"===e.options.barChart.align&&(o+=.5*e.options.barChart.width)),{width:n,offset:o}},I1.getStackedYRange=function(t,e,i,n,o){var r;0<t.length&&(Ky(t).call(t,function(t,e){return t.screen_x===e.screen_x?t.groupId<e.groupId?-1:1:t.screen_x-e.screen_x}),I1._getDataIntersections(r={},t),e[n]=I1._getStackedYRange(r,t),e[n].yAxisOrientation=o,i.push(n))},I1._getStackedYRange=function(t,e){for(var i,n,o=e[0].screen_y,r=e[0].screen_y,s=0;s<e.length;s++)void 0===t[i=e[s].screen_x]?(o=o>e[s].screen_y?e[s].screen_y:o,r=r<e[s].screen_y?e[s].screen_y:r):e[s].screen_y<0?t[i].accumulatedNegative+=e[s].screen_y:t[i].accumulatedPositive+=e[s].screen_y;for(n in t)t.hasOwnProperty(n)&&(o=(o=o>t[n].accumulatedNegative?t[n].accumulatedNegative:o)>t[n].accumulatedPositive?t[n].accumulatedPositive:o,r=(r=r<t[n].accumulatedNegative?t[n].accumulatedNegative:r)<t[n].accumulatedPositive?t[n].accumulatedPositive:r);return{min:o,max:r}},P1.calcPath=function(t,e){if(null!=t&&0<t.length)return 1==e.options.interpolation.enabled?P1._catmullRom(t,e):P1._linear(t)},P1.drawIcon=function(t,e,i,n,o,r){var o=.5*o,s=w1("rect",r.svgElements,r.svg);s.setAttributeNS(null,"x",e),s.setAttributeNS(null,"y",i-o),s.setAttributeNS(null,"width",n),s.setAttributeNS(null,"height",2*o),s.setAttributeNS(null,"class","vis-outline"),(s=w1("path",r.svgElements,r.svg)).setAttributeNS(null,"class",t.className),void 0!==t.style&&s.setAttributeNS(null,"style",t.style),s.setAttributeNS(null,"d","M"+e+","+i+" L"+(e+n)+","+i),1==t.options.shaded.enabled&&(s=w1("path",r.svgElements,r.svg),"top"==t.options.shaded.orientation?s.setAttributeNS(null,"d","M"+e+", "+(i-o)+"L"+e+","+i+" L"+(e+n)+","+i+" L"+(e+n)+","+(i-o)):s.setAttributeNS(null,"d","M"+e+","+i+" L"+e+","+(i+o)+" L"+(e+n)+","+(i+o)+"L"+(e+n)+","+i),s.setAttributeNS(null,"class",t.className+" vis-icon-fill"),void 0!==t.options.shaded.style&&""!==t.options.shaded.style&&s.setAttributeNS(null,"style",t.options.shaded.style)),1==t.options.drawPoints.enabled&&x1(e+.5*n,i,{style:t.options.drawPoints.style,styles:t.options.drawPoints.styles,size:t.options.drawPoints.size,className:t.className},r.svgElements,r.svg)},P1.drawShading=function(t,e,i,n){var o,r,s;1==e.options.shaded.enabled&&(s=Number(n.svg.style.height.replace("px","")),n=w1("path",n.svgElements,n.svg),o="L",1==e.options.interpolation.enabled&&(o="C"),r=0,r="top"==e.options.shaded.orientation?0:"bottom"==e.options.shaded.orientation?s:Math.min(Math.max(0,e.zeroPosition),s),s="group"==e.options.shaded.orientation&&null!=i&&null!=i?"M"+t[0][0]+","+t[0][1]+" "+this.serializePath(t,o,!1)+" L"+i[i.length-1][0]+","+i[i.length-1][1]+" "+this.serializePath(i,o,!0)+i[0][0]+","+i[0][1]+" Z":"M"+t[0][0]+","+t[0][1]+" "+this.serializePath(t,o,!1)+" V"+r+" H"+t[0][0]+" Z",n.setAttributeNS(null,"class",e.className+" vis-fill"),void 0!==e.options.shaded.style&&n.setAttributeNS(null,"style",e.options.shaded.style),n.setAttributeNS(null,"d",s))},P1.draw=function(t,e,i){var n;null!=t&&((i=w1("path",i.svgElements,i.svg)).setAttributeNS(null,"class",e.className),void 0!==e.style&&i.setAttributeNS(null,"style",e.style),n="L",1==e.options.interpolation.enabled&&(n="C"),i.setAttributeNS(null,"d","M"+t[0][0]+","+t[0][1]+" "+this.serializePath(t,n,!1)))},P1.serializePath=function(t,e,i){if(t.length<2)return"";var n,o=e;if(i)for(n=t.length-2;0<n;n--)o+=t[n][0]+","+t[n][1]+" ";else for(n=1;n<t.length;n++)o+=t[n][0]+","+t[n][1]+" ";return o},P1._catmullRomUniform=function(t){for(var e,i,n,o,r=[],s=(r.push([Math.round(t[0].screen_x),Math.round(t[0].screen_y)]),t.length),a=0;a<s-1;a++)n=0==a?t[0]:t[a-1],o=t[a],e=t[a+1],i=a+2<s?t[a+2]:e,n={screen_x:(-n.screen_x+6*o.screen_x+e.screen_x)*(1/6),screen_y:(-n.screen_y+6*o.screen_y+e.screen_y)*(1/6)},o={screen_x:(o.screen_x+6*e.screen_x-i.screen_x)*(1/6),screen_y:(o.screen_y+6*e.screen_y-i.screen_y)*(1/6)},r.push([n.screen_x,n.screen_y]),r.push([o.screen_x,o.screen_y]),r.push([e.screen_x,e.screen_y]);return r},P1._catmullRom=function(t,u){var e=u.options.interpolation.alpha;if(0==e||void 0===e)return this._catmullRomUniform(t);for(var i,n,c,o,d,p,m,f,r,s,a,l,g=[],v=(g.push([Math.round(t[0].screen_x),Math.round(t[0].screen_y)]),t.length),h=0;h<v-1;h++)o=0==h?t[0]:t[h-1],i=t[h],n=t[h+1],c=h+2<v?t[h+2]:n,a=Math.sqrt(Math.pow(o.screen_x-i.screen_x,2)+Math.pow(o.screen_y-i.screen_y,2)),s=Math.sqrt(Math.pow(i.screen_x-n.screen_x,2)+Math.pow(i.screen_y-n.screen_y,2)),r=Math.sqrt(Math.pow(n.screen_x-c.screen_x,2)+Math.pow(n.screen_y-c.screen_y,2)),m=Math.pow(r,e),r=Math.pow(r,2*e),f=Math.pow(s,e),s=Math.pow(s,2*e),l=Math.pow(a,e),a=Math.pow(a,2*e),0<(d=3*l*(l+f))&&(d=1/d),0<(p=3*m*(m+f))&&(p=1/p),o={screen_x:(-s*o.screen_x+(l=2*a+3*l*f+s)*i.screen_x+a*n.screen_x)*d,screen_y:(-s*o.screen_y+l*i.screen_y+a*n.screen_y)*d},a={screen_x:(r*i.screen_x+(l=2*r+3*m*f+s)*n.screen_x-s*c.screen_x)*p,screen_y:(r*i.screen_y+l*n.screen_y-s*c.screen_y)*p},0==o.screen_x&&0==o.screen_y&&(o=i),0==a.screen_x&&0==a.screen_y&&(a=n),g.push([o.screen_x,o.screen_y]),g.push([a.screen_x,a.screen_y]),g.push([n.screen_x,n.screen_y]);return g},P1._linear=function(t){for(var e=[],i=0;i<t.length;i++)e.push([t[i].screen_x,t[i].screen_y]);return e},M1.prototype.setItems=function(t){null!=t?(this.itemsData=t,1==Ky(this.options)&&x.insertSort(this.itemsData,function(t,e){return t.x>e.x?1:-1})):this.itemsData=[]},M1.prototype.getItems=function(){return this.itemsData},M1.prototype.setZeroPosition=function(t){this.zeroPosition=t},M1.prototype.setOptions=function(t){void 0!==t&&(x.selectiveDeepExtend(["sampling","style","sort","yAxisOrientation","barChart","zIndex","excludeFromStacking","excludeFromLegend"],this.options,t),"function"==typeof t.drawPoints&&(t.drawPoints={onRender:t.drawPoints}),x.mergeOptions(this.options,t,"interpolation"),x.mergeOptions(this.options,t,"drawPoints"),x.mergeOptions(this.options,t,"shaded"),t.interpolation&&"object"==Hl(t.interpolation)&&t.interpolation.parametrization&&("uniform"==t.interpolation.parametrization?this.options.interpolation.alpha=0:"chordal"==t.interpolation.parametrization?this.options.interpolation.alpha=1:(this.options.interpolation.parametrization="centripetal",this.options.interpolation.alpha=.5)))},M1.prototype.update=function(t){this.group=t,this.content=t.content||"graph",this.className=t.className||this.className||"vis-graph-group"+this.groupsUsingDefaultStyles[0]%10,this.visible=void 0===t.visible||t.visible,this.style=t.style,this.setOptions(t.options)},M1.prototype.getLegend=function(t,e,i,n,o){switch(null==i&&(i={svg:document.createElementNS("http://www.w3.org/2000/svg","svg"),svgElements:{},options:this.options,groups:[this]}),null==n&&(n=0),null==o&&(o=.5*e),this.options.style){case"line":P1.drawIcon(this,n,o,t,e,i);break;case"points":case"point":E1.drawIcon(this,n,o,t,e,i);break;case"bar":I1.drawIcon(this,n,o,t,e,i)}return{icon:i.svg,label:this.content,orientation:this.options.yAxisOrientation}},M1.prototype.getYRange=function(t){for(var e=t[0].y,i=t[0].y,n=0;n<t.length;n++)e=e>t[n].y?t[n].y:e,i=i<t[n].y?t[n].y:i;return{min:e,max:i,yAxisOrientation:this.options.yAxisOrientation}},(N1.prototype=new yy).clear=function(){this.groups={},this.amountOfGroups=0},N1.prototype.addGroup=function(t,e){1!=e.options.excludeFromLegend&&(this.groups.hasOwnProperty(t)||(this.groups[t]=e),this.amountOfGroups+=1)},N1.prototype.updateGroup=function(t,e){this.groups[t]=e},N1.prototype.removeGroup=function(t){this.groups.hasOwnProperty(t)&&(delete this.groups[t],--this.amountOfGroups)},N1.prototype._create=function(){this.dom.frame=document.createElement("div"),this.dom.frame.className="vis-legend",this.dom.frame.style.position="absolute",this.dom.frame.style.top="10px",this.dom.frame.style.display="block",this.dom.textArea=document.createElement("div"),this.dom.textArea.className="vis-legend-text",this.dom.textArea.style.position="relative",this.dom.textArea.style.top="0px",this.svg=document.createElementNS("http://www.w3.org/2000/svg","svg"),this.svg.style.position="absolute",this.svg.style.top="0px",this.svg.style.width=this.options.iconSize+5+"px",this.svg.style.height="100%",this.dom.frame.appendChild(this.svg),this.dom.frame.appendChild(this.dom.textArea)},N1.prototype.hide=function(){this.dom.frame.parentNode&&this.dom.frame.parentNode.removeChild(this.dom.frame)},N1.prototype.show=function(){this.dom.frame.parentNode||this.body.dom.center.appendChild(this.dom.frame)},N1.prototype.setOptions=function(t){x.selectiveDeepExtend(["enabled","orientation","icons","left","right"],this.options,t)},N1.prototype.redraw=function(){var t=0,e=Vu(this.groups);Ky(e).call(e,function(t,e){return t<e?-1:1});for(var i=0;i<e.length;i++){var n=e[i];1!=this.groups[n].visible||void 0!==this.linegraphOptions.visibility[n]&&1!=this.linegraphOptions.visibility[n]||t++}if(0==this.options[this.side].visible||0==this.amountOfGroups||0==this.options.enabled||0==t)this.hide();else{this.show(),"top-left"==this.options[this.side].position||"bottom-left"==this.options[this.side].position?(this.dom.frame.style.left="4px",this.dom.frame.style.textAlign="left",this.dom.textArea.style.textAlign="left",this.dom.textArea.style.left=this.options.iconSize+15+"px",this.dom.textArea.style.right="",this.svg.style.left="0px",this.svg.style.right=""):(this.dom.frame.style.right="4px",this.dom.frame.style.textAlign="right",this.dom.textArea.style.textAlign="right",this.dom.textArea.style.right=this.options.iconSize+15+"px",this.dom.textArea.style.left="",this.svg.style.right="0px",this.svg.style.left=""),"top-left"==this.options[this.side].position||"top-right"==this.options[this.side].position?(this.dom.frame.style.top=4-Number(this.body.dom.center.style.top.replace("px",""))+"px",this.dom.frame.style.bottom=""):(o=this.body.domProps.center.height-this.body.domProps.centerContainer.height,this.dom.frame.style.bottom=4+o+Number(this.body.dom.center.style.top.replace("px",""))+"px",this.dom.frame.style.top=""),0==this.options.icons?(this.dom.frame.style.width=this.dom.textArea.offsetWidth+10+"px",this.dom.textArea.style.right="",this.dom.textArea.style.left="",this.svg.style.width="0px"):(this.dom.frame.style.width=this.options.iconSize+15+this.dom.textArea.offsetWidth+10+"px",this.drawLegendIcons());for(var o,r="",i=0;i<e.length;i++)n=e[i],1!=this.groups[n].visible||void 0!==this.linegraphOptions.visibility[n]&&1!=this.linegraphOptions.visibility[n]||(r+=this.groups[n].content+"<br />");this.dom.textArea.innerHTML=x.xss(r),this.dom.textArea.style.lineHeight=.75*this.options.iconSize+this.options.iconSpacing+"px"}},N1.prototype.drawLegendIcons=function(){if(this.dom.frame.parentNode){var t=Vu(this.groups),e=(Ky(t).call(t,function(t,e){return t<e?-1:1}),y1(e=this.svgElements),b1(e),y1(e),window.getComputedStyle(this.dom.frame).paddingTop),e=Number(e.replace("px","")),i=e,n=this.options.iconSize,o=.75*this.options.iconSize,r=e+.5*o+3;this.svg.style.width=n+5+e+"px";for(var s=0;s<t.length;s++){var a=t[s];1!=this.groups[a].visible||void 0!==this.linegraphOptions.visibility[a]&&1!=this.linegraphOptions.visibility[a]||(this.groups[a].getLegend(n,o,this.framework,i,r),r+=o+this.options.iconSpacing)}}var e};var F1="__ungrouped__";function R1(t,e){this.id=ty(),this.body=t,this.defaultOptions={yAxisOrientation:"left",defaultGroup:"default",sort:!0,sampling:!0,stack:!1,graphHeight:"400px",shaded:{enabled:!1,orientation:"bottom"},style:"line",barChart:{width:50,sideBySide:!1,align:"center"},interpolation:{enabled:!0,parametrization:"centripetal",alpha:.5},drawPoints:{enabled:!0,size:6,style:"square"},dataAxis:{},legend:{},groups:{visibility:{}}},this.options=x.extend({},this.defaultOptions),this.dom={},this.props={},this.hammer=null,this.groups={},this.abortedGraphUpdate=!1,this.updateSVGheight=!1,this.updateSVGheightOnResize=!1,this.forceGraphUpdate=!0;var n=this;this.itemsData=null,this.groupsData=null,this.itemListeners={add:function(t,e,i){n._onAdd(e.items)},update:function(t,e,i){n._onUpdate(e.items)},remove:function(t,e,i){n._onRemove(e.items)}},this.groupListeners={add:function(t,e,i){n._onAddGroups(e.items)},update:function(t,e,i){n._onUpdateGroups(e.items)},remove:function(t,e,i){n._onRemoveGroups(e.items)}},this.items={},this.selection=[],this.lastStart=this.body.range.start,this.touchParams={},this.svgElements={},this.setOptions(e),this.groupsUsingDefaultStyles=[0],this.body.emitter.on("rangechanged",function(){n.svg.style.left=x.option.asSize(-n.props.width),n.forceGraphUpdate=!0,n.redraw.call(n)}),this._create(),this.framework={svg:this.svg,svgElements:this.svgElements,options:this.options,groups:this.groups}}(R1.prototype=new yy)._create=function(){var t=document.createElement("div");t.className="vis-line-graph",this.dom.frame=t,this.svg=document.createElementNS("http://www.w3.org/2000/svg","svg"),this.svg.style.position="relative",this.svg.style.height=(""+this.options.graphHeight).replace("px","")+"px",this.svg.style.display="block",t.appendChild(this.svg),this.options.dataAxis.orientation="left",this.yAxisLeft=new O1(this.body,this.options.dataAxis,this.svg,this.options.groups),this.options.dataAxis.orientation="right",this.yAxisRight=new O1(this.body,this.options.dataAxis,this.svg,this.options.groups),delete this.options.dataAxis.orientation,this.legendLeft=new N1(this.body,this.options.legend,"left",this.options.groups),this.legendRight=new N1(this.body,this.options.legend,"right",this.options.groups),this.show()},R1.prototype.setOptions=function(t){t&&(void 0===t.graphHeight&&void 0!==t.height?(this.updateSVGheight=!0,this.updateSVGheightOnResize=!0):void 0!==this.body.domProps.centerContainer.height&&void 0!==t.graphHeight&&Jp((t.graphHeight+"").replace("px",""))<this.body.domProps.centerContainer.height&&(this.updateSVGheight=!0),x.selectiveDeepExtend(["sampling","defaultGroup","stack","height","graphHeight","yAxisOrientation","style","barChart","dataAxis","sort","groups"],this.options,t),x.mergeOptions(this.options,t,"interpolation"),x.mergeOptions(this.options,t,"drawPoints"),x.mergeOptions(this.options,t,"shaded"),x.mergeOptions(this.options,t,"legend"),t.interpolation&&"object"==Hl(t.interpolation)&&t.interpolation.parametrization&&("uniform"==t.interpolation.parametrization?this.options.interpolation.alpha=0:"chordal"==t.interpolation.parametrization?this.options.interpolation.alpha=1:(this.options.interpolation.parametrization="centripetal",this.options.interpolation.alpha=.5)),this.yAxisLeft&&void 0!==t.dataAxis&&(this.yAxisLeft.setOptions(this.options.dataAxis),this.yAxisRight.setOptions(this.options.dataAxis)),this.legendLeft&&void 0!==t.legend&&(this.legendLeft.setOptions(this.options.legend),this.legendRight.setOptions(this.options.legend)),this.groups.hasOwnProperty(F1)&&this.groups[F1].setOptions(t)),this.dom.frame&&(this.forceGraphUpdate=!0,this.body.emitter.emit("_change",{queue:!0}))},R1.prototype.hide=function(){this.dom.frame.parentNode&&this.dom.frame.parentNode.removeChild(this.dom.frame)},R1.prototype.show=function(){this.dom.frame.parentNode||this.body.dom.center.appendChild(this.dom.frame)},R1.prototype.setItems=function(t){var e,i,n=this,o=this.itemsData;if(t){if(!ny(t))throw new TypeError("Data must implement the interface of DataSet or DataView");this.itemsData=ay(t)}else this.itemsData=null;o&&(k(x).call(x,this.itemListeners,function(t,e){o.off(e,t)}),o.dispose(),e=o.getIds(),this._onRemove(e)),this.itemsData&&(i=this.id,k(x).call(x,this.itemListeners,function(t,e){n.itemsData.on(e,t,i)}),e=this.itemsData.getIds(),this._onAdd(e))},R1.prototype.setGroups=function(t){var e,i,n=this;if(this.groupsData){k(x).call(x,this.groupListeners,function(t,e){n.groupsData.off(e,t)}),e=this.groupsData.getIds(),this.groupsData=null;for(var o=0;o<e.length;o++)this._removeGroup(e[o])}if(t){if(!ny(t))throw new TypeError("Data must implement the interface of DataSet or DataView");this.groupsData=t}else this.groupsData=null;this.groupsData&&(i=this.id,k(x).call(x,this.groupListeners,function(t,e){n.groupsData.on(e,t,i)}),e=this.groupsData.getIds(),this._onAddGroups(e))},R1.prototype._onUpdate=function(t){this._updateAllGroupData(t)},R1.prototype._onAdd=function(t){this._onUpdate(t)},R1.prototype._onRemove=function(t){this._onUpdate(t)},R1.prototype._onUpdateGroups=function(t){this._updateAllGroupData(null,t)},R1.prototype._onAddGroups=function(t){this._onUpdateGroups(t)},R1.prototype._onRemoveGroups=function(t){for(var e=0;e<t.length;e++)this._removeGroup(t[e]);this.forceGraphUpdate=!0,this.body.emitter.emit("_change",{queue:!0})},R1.prototype._removeGroup=function(t){this.groups.hasOwnProperty(t)&&("right"==this.groups[t].options.yAxisOrientation?(this.yAxisRight.removeGroup(t),this.legendRight.removeGroup(t),this.legendRight.redraw()):(this.yAxisLeft.removeGroup(t),this.legendLeft.removeGroup(t),this.legendLeft.redraw()),delete this.groups[t])},R1.prototype._updateGroup=function(t,e){this.groups.hasOwnProperty(e)?(this.groups[e].update(t),"right"==this.groups[e].options.yAxisOrientation?(this.yAxisRight.updateGroup(e,this.groups[e]),this.legendRight.updateGroup(e,this.groups[e]),this.yAxisLeft.removeGroup(e),this.legendLeft.removeGroup(e)):(this.yAxisLeft.updateGroup(e,this.groups[e]),this.legendLeft.updateGroup(e,this.groups[e]),this.yAxisRight.removeGroup(e),this.legendRight.removeGroup(e))):(this.groups[e]=new M1(t,e,this.options,this.groupsUsingDefaultStyles),"right"==this.groups[e].options.yAxisOrientation?(this.yAxisRight.addGroup(e,this.groups[e]),this.legendRight.addGroup(e,this.groups[e])):(this.yAxisLeft.addGroup(e,this.groups[e]),this.legendLeft.addGroup(e,this.groups[e]))),this.legendLeft.redraw(),this.legendRight.redraw()},R1.prototype._updateAllGroupData=function(t,u){if(null!=this.itemsData){for(var e={},c=this.itemsData.get(),i=this.itemsData.idProp,d={},n=(t&&Du(t).call(t,function(t){d[t]=t}),{}),o=0;o<c.length;o++){var r=c[o],s=r.group;null==s&&(s=F1),n.hasOwnProperty(s)?n[s]++:n[s]=1}var a,l,p,h,m={};if(!u&&t)for(s in this.groups)this.groups.hasOwnProperty(s)&&(a=(h=this.groups[s]).getItems(),e[s]=Qh(a).call(a,function(t){return m[t[i]]=t[i],t[i]!==d[t[i]]}),a=n[s],n[s]-=e[s].length,e[s].length<a&&(e[s][a-1]={}));for(o=0;o<c.length;o++)null==(s=(r=c[o]).group)&&(s=F1),!u&&t&&r[i]!==d[r[i]]&&m.hasOwnProperty(r[i])||(e.hasOwnProperty(s)||(e[s]=new Array(n[s])),(l=x.bridgeObject(r)).x=x.convert(r.x,"Date"),l.end=x.convert(r.end,"Date"),l.orginalY=r.y,l.y=Number(r.y),l[i]=r[i],p=e[s].length-n[s]--,e[s][p]=l);for(s in this.groups)this.groups.hasOwnProperty(s)&&(e.hasOwnProperty(s)||(e[s]=new Array(0)));for(s in e)e.hasOwnProperty(s)&&(0==e[s].length?this.groups.hasOwnProperty(s)&&this._removeGroup(s):(h=void 0,null==(h=null!=this.groupsData?this.groupsData.get(s):h)&&(h={id:s,content:this.options.defaultGroup+s}),this._updateGroup(h,s),this.groups[s].setItems(e[s])));this.forceGraphUpdate=!0,this.body.emitter.emit("_change",{queue:!0})}},R1.prototype.redraw=function(){var t=!1,e=(this.props.width=this.dom.frame.offsetWidth,this.props.height=this.body.domProps.centerContainer.height-this.body.domProps.border.top-this.body.domProps.border.bottom,t=this._isResized()||t,this.body.range.end-this.body.range.start),i=e!=this.lastVisibleInterval;return this.lastVisibleInterval=e,1==t&&(this.svg.style.width=x.option.asSize(3*this.props.width),this.svg.style.left=x.option.asSize(-this.props.width),-1==am(e=this.options.height+"").call(e,"%")&&1!=this.updateSVGheightOnResize||(this.updateSVGheight=!0)),1==this.updateSVGheight?(this.options.graphHeight!=this.props.height+"px"&&(this.options.graphHeight=this.props.height+"px",this.svg.style.height=this.props.height+"px"),this.updateSVGheight=!1):this.svg.style.height=(""+this.options.graphHeight).replace("px","")+"px",1==t||1==i||1==this.abortedGraphUpdate||1==this.forceGraphUpdate?(t=this._updateGraph()||t,this.forceGraphUpdate=!1,this.lastStart=this.body.range.start,this.svg.style.left=-this.props.width+"px"):0!=this.lastStart&&(e=this.body.range.start-this.lastStart,i=this.body.range.end-this.body.range.start,0!=this.props.width&&(i=this.props.width/i,this.svg.style.left=-this.props.width-e*i+"px")),this.legendLeft.redraw(),this.legendRight.redraw(),t},R1.prototype._getSortedGroupIds=function(){var t,e,i=[];for(t in this.groups)this.groups.hasOwnProperty(t)&&(1!=(e=this.groups[t]).visible||void 0!==this.options.groups.visibility[t]&&1!=this.options.groups.visibility[t]||i.push({id:t,zIndex:e.options.zIndex}));x.insertSort(i,function(t,e){t=t.zIndex,e=e.zIndex;return(t=void 0===t?0:t)==(e=void 0===e?0:e)?0:t<e?-1:1});for(var n=new Array(i.length),o=0;o<i.length;o++)n[o]=i[o].id;return n},R1.prototype._updateGraph=function(){if(y1(this.svgElements),0!=this.props.width&&null!=this.itemsData){var t={},e=this.body.util.toGlobalTime(-this.body.domProps.root.width),i=this.body.util.toGlobalTime(2*this.body.domProps.root.width),n=this._getSortedGroupIds();if(0<n.length){var o={};for(this._getRelevantData(n,o,e,i),this._applySampling(n,o),s=0;s<n.length;s++)this._convertXcoordinates(o[n[s]]);if(this._getYRanges(n,o,t),1==this._updateYAxis(n,t))return b1(this.svgElements),this.abortedGraphUpdate=!0;this.abortedGraphUpdate=!1;for(var r=void 0,s=0;s<n.length;s++)l=this.groups[n[s]],!0===this.options.stack&&"line"===this.options.style&&(null!=l.options.excludeFromStacking&&l.options.excludeFromStacking||(null!=r&&(this._stack(o[l.id],o[r.id]),1==l.options.shaded.enabled&&"group"!==l.options.shaded.orientation&&("top"==l.options.shaded.orientation&&"group"!==r.options.shaded.orientation?(r.options.shaded.orientation="group",r.options.shaded.groupId=l.id):(l.options.shaded.orientation="group",l.options.shaded.groupId=r.id))),r=l)),this._convertYcoordinates(o[n[s]],l);var a,l,h={};for(s=0;s<n.length;s++)"line"!==(l=this.groups[n[s]]).options.style||1!=l.options.shaded.enabled||null!=(a=o[n[s]])&&0!=a.length&&(h.hasOwnProperty(n[s])||(h[n[s]]=P1.calcPath(a,l)),"group"===l.options.shaded.orientation?(a=l.options.shaded.groupId,-1!==am(n).call(n,a)?(h.hasOwnProperty(a)||(h[a]=P1.calcPath(o[a],this.groups[a])),P1.drawShading(h[n[s]],l,h[a],this.framework)):console.log(l.id+": Unknown shading group target given:"+a)):P1.drawShading(h[n[s]],l,void 0,this.framework));for(I1.draw(n,o,this.framework),s=0;s<n.length;s++)if(l=this.groups[n[s]],0<o[n[s]].length)switch(l.options.style){case"line":h.hasOwnProperty(n[s])||(h[n[s]]=P1.calcPath(o[n[s]],l)),P1.draw(h[n[s]],l,this.framework);case"point":case"points":"point"!=l.options.style&&"points"!=l.options.style&&1!=l.options.drawPoints.enabled||E1.draw(o[n[s]],l,this.framework)}}}return b1(this.svgElements),!1},R1.prototype._stack=function(t,e){for(var i,n,o=0,r=0;r<t.length;r++){for(var s=void 0,a=void 0,l=o;l<e.length;l++){if(e[l].x===t[r].x){s=e[l],a=e[l],o=l;break}if(e[l].x>t[r].x){a=e[l],s=0==l?a:e[l-1],o=l;break}}void 0===a&&(s=e[e.length-1],a=e[e.length-1]),i=a.x-s.x,n=a.y-s.y,t[r].y=0==i?t[r].orginalY+a.y:t[r].orginalY+n/i*(t[r].x-s.x)+s.y}},R1.prototype._getRelevantData=function(t,e,u,c){var i,n;if(0<t.length)for(i=0;i<t.length;i++){var o,r=(o=this.groups[t[i]]).getItems();if(1==Ky(o.options)){function s(t,e){return t.getTime()==e.getTime()?0:t<e?-1:1}for(var a=Math.max(0,x.binarySearchValue(r,u,"x","before",s)),l=Math.min(r.length,x.binarySearchValue(r,c,"x","after",s)+1),d=(l<=0&&(l=r.length),new Array(l-a)),h=a;h<l;h++)n=o.itemsData[h],d[h-a]=n;e[t[i]]=d}else e[t[i]]=o.itemsData}},R1.prototype._applySampling=function(t,e){if(0<t.length)for(var i=0;i<t.length;i++)if(1==this.groups[t[i]].options.sampling){var n=e[t[i]];if(0<n.length){for(var o=n.length,r=o/(this.body.util.toGlobalScreen(n[n.length-1].x)-this.body.util.toGlobalScreen(n[0].x)),s=Math.min(Math.ceil(.2*o),Math.max(1,Math.round(r))),a=new Array(o),l=0;l<o;l+=s)a[Math.round(l/s)]=n[l];e[t[i]]=Qd(a).call(a,0,Math.round(o/s))}}},R1.prototype._getYRanges=function(t,e,i){var n,o,r,s,a=[],l=[];if(0<t.length){for(r=0;r<t.length;r++)n=e[t[r]],s=this.groups[t[r]].options,0<n.length&&(o=this.groups[t[r]],!0===s.stack&&"bar"===s.style?"left"===s.yAxisOrientation?a=fd(a).call(a,n):l=fd(l).call(l,n):i[t[r]]=o.getYRange(n,t[r]));I1.getStackedYRange(a,i,t,"__barStackLeft","left"),I1.getStackedYRange(l,i,t,"__barStackRight","right")}},R1.prototype._updateYAxis=function(t,e){var i,n,o=!1,r=!1,s=!1,a=1e9,l=1e9,u=-1e9,c=-1e9;if(0<t.length){for(var h=0;h<t.length;h++){var d=this.groups[t[h]];d&&"right"!=d.options.yAxisOrientation?(r=!0,u=-(a=1e9)):d&&d.options.yAxisOrientation&&(s=!0,c=-(l=1e9))}for(h=0;h<t.length;h++)e.hasOwnProperty(t[h])&&!0!==e[t[h]].ignore&&(i=e[t[h]].min,n=e[t[h]].max,"right"!=e[t[h]].yAxisOrientation?(r=!0,a=i<a?i:a,u=u<n?n:u):(s=!0,l=i<l?i:l,c=c<n?n:c));1==r&&this.yAxisLeft.setRange(a,u),1==s&&this.yAxisRight.setRange(l,c)}o=this._toggleAxisVisiblity(r,this.yAxisLeft)||o,o=this._toggleAxisVisiblity(s,this.yAxisRight)||o,1==s&&1==r?(this.yAxisLeft.drawIcons=!0,this.yAxisRight.drawIcons=!0):(this.yAxisLeft.drawIcons=!1,this.yAxisRight.drawIcons=!1),this.yAxisRight.master=!r,this.yAxisRight.masterAxis=this.yAxisLeft;0==this.yAxisRight.master&&(this.yAxisLeft.lineOffset=1==s?this.yAxisRight.width:0,o=this.yAxisLeft.redraw()||o);for(var o=this.yAxisRight.redraw()||o,p=["__barStackLeft","__barStackRight","__lineStackLeft","__lineStackRight"],h=0;h<p.length;h++)-1!=am(t).call(t,p[h])&&Qd(t).call(t,am(t).call(t,p[h]),1);return o},R1.prototype._toggleAxisVisiblity=function(t,e){var i=!1;return 0==t?e.dom.frame.parentNode&&0==e.hidden&&(e.hide(),i=!0):e.dom.frame.parentNode||1!=e.hidden||(e.show(),i=!0),i},R1.prototype._convertXcoordinates=function(t){for(var e=this.body.util.toScreen,i=0;i<t.length;i++)t[i].screen_x=e(t[i].x)+this.props.width,t[i].screen_y=t[i].y,null!=t[i].end?t[i].screen_end=e(t[i].end)+this.props.width:t[i].screen_end=void 0};var e="string",s="boolean",Et="number",ss="date",n="object",gs="moment",L1={configure:{enabled:{boolean:s},filter:{boolean:s,function:"function"},container:{dom:"dom"},__type__:{object:n,boolean:s,function:"function"}},alignCurrentTime:{string:e,undefined:"undefined"},yAxisOrientation:{string:["left","right"]},defaultGroup:{string:e},sort:{boolean:s},sampling:{boolean:s},stack:{boolean:s},graphHeight:{string:e,number:Et},shaded:{enabled:{boolean:s},orientation:{string:["bottom","top","zero","group"]},groupId:{object:n},__type__:{boolean:s,object:n}},style:{string:["line","bar","points"]},barChart:{width:{number:Et},minWidth:{number:Et},sideBySide:{boolean:s},align:{string:["left","center","right"]},__type__:{object:n}},interpolation:{enabled:{boolean:s},parametrization:{string:["centripetal","chordal","uniform"]},alpha:{number:Et},__type__:{object:n,boolean:s}},drawPoints:{enabled:{boolean:s},onRender:{function:"function"},size:{number:Et},style:{string:["square","circle"]},__type__:{object:n,boolean:s,function:"function"}},dataAxis:{showMinorLabels:{boolean:s},showMajorLabels:{boolean:s},showWeekScale:{boolean:s},icons:{boolean:s},width:{string:e,number:Et},visible:{boolean:s},alignZeros:{boolean:s},left:{range:{min:{number:Et,undefined:"undefined"},max:{number:Et,undefined:"undefined"},__type__:{object:n}},format:{function:"function"},title:{text:{string:e,number:Et,undefined:"undefined"},style:{string:e,undefined:"undefined"},__type__:{object:n}},__type__:{object:n}},right:{range:{min:{number:Et,undefined:"undefined"},max:{number:Et,undefined:"undefined"},__type__:{object:n}},format:{function:"function"},title:{text:{string:e,number:Et,undefined:"undefined"},style:{string:e,undefined:"undefined"},__type__:{object:n}},__type__:{object:n}},__type__:{object:n}},legend:{enabled:{boolean:s},icons:{boolean:s},left:{visible:{boolean:s},position:{string:["top-right","bottom-right","top-left","bottom-left"]},__type__:{object:n}},right:{visible:{boolean:s},position:{string:["top-right","bottom-right","top-left","bottom-left"]},__type__:{object:n}},__type__:{object:n,boolean:s}},groups:{visibility:{any:"any"},__type__:{object:n}},autoResize:{boolean:s},throttleRedraw:{number:Et},clickToUse:{boolean:s},end:{number:Et,date:ss,string:e,moment:gs},format:{minorLabels:{millisecond:{string:e,undefined:"undefined"},second:{string:e,undefined:"undefined"},minute:{string:e,undefined:"undefined"},hour:{string:e,undefined:"undefined"},weekday:{string:e,undefined:"undefined"},day:{string:e,undefined:"undefined"},week:{string:e,undefined:"undefined"},month:{string:e,undefined:"undefined"},quarter:{string:e,undefined:"undefined"},year:{string:e,undefined:"undefined"},__type__:{object:n}},majorLabels:{millisecond:{string:e,undefined:"undefined"},second:{string:e,undefined:"undefined"},minute:{string:e,undefined:"undefined"},hour:{string:e,undefined:"undefined"},weekday:{string:e,undefined:"undefined"},day:{string:e,undefined:"undefined"},week:{string:e,undefined:"undefined"},month:{string:e,undefined:"undefined"},quarter:{string:e,undefined:"undefined"},year:{string:e,undefined:"undefined"},__type__:{object:n}},__type__:{object:n}},moment:{function:"function"},height:{string:e,number:Et},hiddenDates:{start:{date:ss,number:Et,string:e,moment:gs},end:{date:ss,number:Et,string:e,moment:gs},repeat:{string:e},__type__:{object:n,array:"array"}},locale:{string:e},locales:{__any__:{any:"any"},__type__:{object:n}},max:{date:ss,number:Et,string:e,moment:gs},maxHeight:{number:Et,string:e},maxMinorChars:{number:Et},min:{date:ss,number:Et,string:e,moment:gs},minHeight:{number:Et,string:e},moveable:{boolean:s},multiselect:{boolean:s},orientation:{string:e},showCurrentTime:{boolean:s},showMajorLabels:{boolean:s},showMinorLabels:{boolean:s},showWeekScale:{boolean:s},snap:{function:"function",null:"null"},start:{date:ss,number:Et,string:e,moment:gs},timeAxis:{scale:{string:e,undefined:"undefined"},step:{number:Et,undefined:"undefined"},__type__:{object:n}},width:{string:e,number:Et},zoomable:{boolean:s},zoomKey:{string:["ctrlKey","altKey","metaKey",""]},zoomMax:{number:Et},zoomMin:{number:Et},zIndex:{number:Et},__type__:{object:n}},j1={global:{alignCurrentTime:["none","year","month","quarter","week","isoWeek","day","date","hour","minute","second"],sort:!0,sampling:!0,stack:!(R1.prototype._convertYcoordinates=function(t,e){var i=this.yAxisLeft,n=Number(this.svg.style.height.replace("px",""));"right"==e.options.yAxisOrientation&&(i=this.yAxisRight);for(var o=0;o<t.length;o++)t[o].screen_y=Math.round(i.convertValue(t[o].y));e.setZeroPosition(Math.min(n,i.convertValue(0)))}),shaded:{enabled:!1,orientation:["zero","top","bottom","group"]},style:["line","bar","points"],barChart:{width:[50,5,100,5],minWidth:[50,5,100,5],sideBySide:!1,align:["left","center","right"]},interpolation:{enabled:!0,parametrization:["centripetal","chordal","uniform"]},drawPoints:{enabled:!0,size:[6,2,30,1],style:["square","circle"]},dataAxis:{showMinorLabels:!0,showMajorLabels:!0,showWeekScale:!1,icons:!1,width:[40,0,200,1],visible:!0,alignZeros:!0,left:{title:{text:"",style:""}},right:{title:{text:"",style:""}}},legend:{enabled:!1,icons:!0,left:{visible:!0,position:["top-right","bottom-right","top-left","bottom-left"]},right:{visible:!0,position:["top-right","bottom-right","top-left","bottom-left"]}},autoResize:!0,clickToUse:!1,end:"",format:{minorLabels:{millisecond:"SSS",second:"s",minute:"HH:mm",hour:"HH:mm",weekday:"ddd D",day:"D",week:"w",month:"MMM",quarter:"[Q]Q",year:"YYYY"},majorLabels:{millisecond:"HH:mm:ss",second:"D MMMM HH:mm",minute:"ddd D MMMM",hour:"ddd D MMMM",weekday:"MMMM YYYY",day:"MMMM YYYY",week:"MMMM YYYY",month:"YYYY",quarter:"YYYY",year:""}},height:"",locale:"",max:"",maxHeight:"",maxMinorChars:[7,0,20,1],min:"",minHeight:"",moveable:!0,orientation:["both","bottom","top"],showCurrentTime:!1,showMajorLabels:!0,showMinorLabels:!0,showWeekScale:!1,start:"",width:"100%",zoomable:!0,zoomKey:["ctrlKey","altKey","metaKey",""],zoomMax:[31536e10,10,31536e10,1],zoomMin:[10,10,31536e10,1],zIndex:0}};function B1(t,e,i,n){!_h(i)&&!ny(i)&&i instanceof Object&&(o=n,n=i,i=o),n&&n.throttleRedraw&&console.warn('Graph2d option "throttleRedraw" is DEPRICATED and no longer supported. It will be removed in the next MAJOR release.');var o,r=this;this.defaultOptions={start:null,end:null,autoResize:!0,orientation:{axis:"bottom",item:"bottom"},moment:Yh,width:null,height:null,maxHeight:null,minHeight:null},this.options=x.deepExtend({},this.defaultOptions),this._create(t),this.components=[],this.body={dom:this.dom,domProps:this.props,emitter:{on:p(o=this.on).call(o,this),off:p(t=this.off).call(t,this),emit:p(o=this.emit).call(o,this)},hiddenDates:[],util:{getScale:function(){return r.timeAxis.step.scale},getStep:function(){return r.timeAxis.step.step},toScreen:p(t=r._toScreen).call(t,r),toGlobalScreen:p(o=r._toGlobalScreen).call(o,r),toTime:p(t=r._toTime).call(t,r),toGlobalTime:p(o=r._toGlobalTime).call(o,r)}},this.range=new ub(this.body),this.components.push(this.range),this.body.range=this.range,this.timeAxis=new Sb(this.body),this.components.push(this.timeAxis),this.currentTime=new Nb(this.body),this.components.push(this.currentTime),this.linegraph=new R1(this.body),this.components.push(this.linegraph),this.itemsData=null,this.groupsData=null,this.on("tap",function(t){r.emit("click",r.getEventProperties(t))}),this.on("doubletap",function(t){r.emit("doubleClick",r.getEventProperties(t))}),this.dom.root.oncontextmenu=function(t){r.emit("contextmenu",r.getEventProperties(t))},this.initialFitDone=!1,this.on("changed",function(){var t,e;null!=r.itemsData&&(r.initialFitDone||r.options.rollingMode||(r.initialFitDone=!0,null!=r.options.start||null!=r.options.end?(null!=r.options.start&&null!=r.options.end||(e=r.getItemRange()),t=null!=r.options.start?r.options.start:e.min,e=null!=r.options.end?r.options.end:e.max,r.setWindow(t,e,{animation:!1})):r.fit({animation:!1})),r.initialDrawDone||!r.initialRangeChangeDone&&(r.options.start||r.options.end)&&!r.options.rollingMode||(r.initialDrawDone=!0,r.dom.root.style.visibility="visible",r.dom.loadingScreen.parentNode.removeChild(r.dom.loadingScreen),r.options.onInitialDrawComplete&&Nh(function(){return r.options.onInitialDrawComplete()},0)))}),n&&this.setOptions(n),i&&this.setGroups(i),e&&this.setItems(e),this._redraw()}(B1.prototype=new Pb).setOptions=function(t){!0===l1.validate(t,L1)&&console.log("%cErrors have been found in the supplied options object.",a1),Pb.prototype.setOptions.call(this,t)},B1.prototype.setItems=function(t){var e=null==this.itemsData,t=t?ny(t)?ay(t):ay(new u.DataSet(t)):null;this.itemsData&&this.itemsData.dispose(),this.itemsData=t,this.linegraph&&this.linegraph.setItems(null!=t?t.rawDS:null),e&&(null!=this.options.start||null!=this.options.end?(t=null!=this.options.start?this.options.start:null,e=null!=this.options.end?this.options.end:null,this.setWindow(t,e,{animation:!1})):this.fit({animation:!1}))},B1.prototype.setGroups=function(t){t=t?ny(t)?t:new u.DataSet(t):null;this.groupsData=t,this.linegraph.setGroups(t)},B1.prototype.getLegend=function(t,e,i){return void 0===e&&(e=15),void 0===i&&(i=15),void 0!==this.linegraph.groups[t]?this.linegraph.groups[t].getLegend(e,i):"cannot find group:'"+t+"'"},B1.prototype.isGroupVisible=function(t){return void 0!==this.linegraph.groups[t]&&(this.linegraph.groups[t].visible&&(void 0===this.linegraph.options.groups.visibility[t]||1==this.linegraph.options.groups.visibility[t]))},B1.prototype.getDataRange=function(){var t,e=null,i=null;for(t in this.linegraph.groups)if(this.linegraph.groups.hasOwnProperty(t)&&1==this.linegraph.groups[t].visible)for(var n=0;n<this.linegraph.groups[t].itemsData.length;n++)var o=this.linegraph.groups[t].itemsData[n],o=x.convert(o.x,"Date").valueOf(),e=null==e||o<e?o:e,i=null==i||i<o?o:i;return{min:null!=e?new Date(e):null,max:null!=i?new Date(i):null}},B1.prototype.getEventProperties=function(t){var e=t.center?t.center.x:t.clientX,i=t.center?t.center.y:t.clientY,e=e-x.getAbsoluteLeft(this.dom.centerContainer),i=i-x.getAbsoluteTop(this.dom.centerContainer),n=this._toTime(e),o=Ib.customTimeFromTarget(t),r=x.getTarget(t),s=null,r=(x.hasParent(r,this.timeAxis.dom.foreground)||this.timeAxis2&&x.hasParent(r,this.timeAxis2.dom.foreground)?s="axis":x.hasParent(r,this.linegraph.yAxisLeft.dom.frame)||x.hasParent(r,this.linegraph.yAxisRight.dom.frame)?s="data-axis":x.hasParent(r,this.linegraph.legendLeft.dom.frame)||x.hasParent(r,this.linegraph.legendRight.dom.frame)?s="legend":null!=o?s="custom-time":x.hasParent(r,this.currentTime.bar)?s="current-time":x.hasParent(r,this.dom.center)&&(s="background"),[]),a=this.linegraph.yAxisLeft,l=this.linegraph.yAxisRight;return!a.hidden&&0<this.itemsData.length&&r.push(a.screenToValue(i)),!l.hidden&&0<this.itemsData.length&&r.push(l.screenToValue(i)),{event:t,customTime:o?o.options.id:null,what:s,pageX:(t.srcEvent||t).pageX,pageY:(t.srcEvent||t).pageY,x:e,y:i,time:n,value:r}},B1.prototype._createConfigurator=function(){return new p1(this,this.dom.container,j1)};ns=function(){try{return navigator?navigator.languages&&navigator.languages.length?navigator.languages:navigator.userLanguage||navigator.language||navigator.browserLanguage||"en":"en"}catch(t){return"en"}}(),h.locale(ns),Ci={Core:Pb,DateUtil:hs,Range:ub,stack:xo,TimeStep:_b,components:{items:{Item:Iw,BackgroundItem:Lw,BoxItem:rs,ClusterItem:qw,PointItem:ct,RangeItem:Fw},BackgroundGroup:Ow,Component:yy,CurrentTime:Nb,CustomTime:Ib,DataAxis:O1,DataScale:C1,GraphGroup:M1,Group:Dw,ItemSet:r1,Legend:N1,LineGraph:R1,TimeAxis:Sb}};l.Graph2d=B1,l.Timeline=he,l.timeline=Ci});
//# sourceMappingURL=vis-timeline.js.map