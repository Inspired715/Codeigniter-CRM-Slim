{"version":3,"file":"espo-calendar.js","sources":["original/espo-calendar.js"],"names":["define","_exports","_view","_moment","FullCalendar","_getRequireWildcardCache","nodeInterop","WeakMap","cacheBabelInterop","cacheNodeInterop","_interopRequireDefault","obj","__esModule","default","Object","defineProperty","value","cache","has","get","key","newObj","hasPropertyDescriptor","getOwnPropertyDescriptor","desc","prototype","hasOwnProperty","call","set","_interopRequireWildcard","CalendarView","template","eventAttributes","colors","allDayScopeList","scopeList","header","modeList","fullCalendarModeList","defaultMode","slotDuration","titleFormat","month","week","day","fetching","modeViewMap","agendaWeek","agendaDay","basicWeek","basicDay","listWeek","extendedProps","calendar","events","click button[data-action=\"prev\"]","this","actionPrevious","click button[data-action=\"next\"]","actionNext","click button[data-action=\"today\"]","actionToday","click [data-action=\"mode\"]","e","mode","$","currentTarget","data","selectMode","click [data-action=\"refresh\"]","actionRefresh","click [data-action=\"toggleScopeFilter\"]","let","$target","filterName","$check","find","hasClass","removeClass","addClass","stopPropagation","toggleScopeFilter","isCustomViewAvailable","isCustomView","todayLabel","translate","todayLabelShort","slice","setup","wait","Espo","loader","requirePromise","date","options","setupMode","$container","Utils","clone","getMetadata","getConfig","getHelper","themeManager","getParam","getAcl","getPermissionLevel","userId","forEach","scope","check","push","enabledScopeList","getStoredEnabledScopeList","toString","item","color","createView","selector","viewMode","teamIdList","length","indexOf","viewId","calendarViewDataList","getPreferences","id","viewName","name","isAgendaMode","previousMode","trigger","$el","changeView","toAgenda","fromAgenda","refetchEvents","updateDate","hasView","getModeButtonsView","reRender","getView","index","splice","storeEnabledScopeList","getStorage","title","isToday","getTitle","text","view","todayUnix","unix","startUnix","activeStart","endUnix","timeGridWeek","timeGridDay","dayGridWeek","dayGridDay","dayGridMonth","type","format","formatRange","currentStart","currentEnd","userName","escapeString","convertToFcEvent","o","event","recordId","dateStart","dateEnd","dateStartDate","dateEndDate","status","originalColor","display","isWorkingRange","groupId","userIdList","userNameMap","sort","v1","v2","localeCompare","attr","start","end","dateToMoment","getDateTime","toMoment","duration","add","toISOString","allDay","handleAllDay","fillColor","handleStatus","tz","getTimeZone","getEventTypeCompletedStatusList","getEventTypeCanceledStatusList","getColorFromScopeName","includes","shadeColor","className","percent","getThemeManager","alpha","substring","f","parseInt","t","p","R","G","B","Math","round","notInitial","allDayCopy","hours","minutes","toDate","convertToFcEvents","list","now","convertDateTime","internalDateTimeFormat","timeZone","m","utc","getCalculatedHeight","height","calculateContentContainerHeight","adjustSize","isRemoved","setOption","afterRender","containerSelector","$calendar","timeFormat","slotLabelFormat","headerToolbar","eventTimeFormat","initialView","defaultRangeSeparator","weekNumbers","weekNumberCalculation","editable","selectable","selectMirror","firstDay","weekStart","slotEventOverlap","snapDuration","undefined","longPressDelay","eventColor","nowIndicator","allDayText","weekText","views","dayHeaderFormat","windowResize","select","info","startStr","endStr","createEvent","unselect","eventClick","Ui","notify","removeDisabled","render","listenToOnce","model","removeModel","listenTo","bypassClose","close","updateModel","datesSet","fromIso","getDate","callback","dateTimeFormat","from","to","fromStr","toStr","fetchEvents","eventDrop","delta","attributes","dateString","internalDateFormat","props","obtainPropsFromEvent","getModelFactory","create","save","patch","then","applyPropsToEvent","catch","revert","eventResize","setExtendedProp","eventContent","arg","$content","append","avatarHtml","getAvatarHtml","$div","css","overflow","html","innerHTML","aspectRatio","contentHeight","initialDate","setTimeout","Calendar","values","getToday","assignedUserId","assignedUserName","added","addModel","url","encodeURIComponent","join","agenda","Ajax","getRequest","getClonedAttributes","entityType","addEvent","eventId","getEventById","setProp","setAllDay","setEnd","setStart","remove","prev","next","additionalColorList","j","i","today"],"mappings":"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"}